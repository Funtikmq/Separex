(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function W_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Fd={exports:{}},wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function fS(){if(nv)return wl;nv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return wl.Fragment=t,wl.jsx=n,wl.jsxs=n,wl}var rv;function dS(){return rv||(rv=1,Fd.exports=fS()),Fd.exports}var v=dS(),$d={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function mS(){if(iv)return Ct;iv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,V={};function k(j,et,ct){this.props=j,this.context=et,this.refs=V,this.updater=ct||x}k.prototype.isReactComponent={},k.prototype.setState=function(j,et){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,et,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=k.prototype;function F(j,et,ct){this.props=j,this.context=et,this.refs=V,this.updater=ct||x}var q=F.prototype=new U;q.constructor=F,O(q,k.prototype),q.isPureReactComponent=!0;var Z=Array.isArray,rt={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function P(j,et,ct,lt,vt,Dt){return ct=Dt.ref,{$$typeof:r,type:j,key:et,ref:ct!==void 0?ct:null,props:Dt}}function A(j,et){return P(j.type,et,void 0,void 0,void 0,j.props)}function D(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function N(j){var et={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ct){return et[ct]})}var C=/\/+/g;function L(j,et){return typeof j=="object"&&j!==null&&j.key!=null?N(""+j.key):et.toString(36)}function I(){}function At(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(et){j.status==="pending"&&(j.status="fulfilled",j.value=et)},function(et){j.status==="pending"&&(j.status="rejected",j.reason=et)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function pt(j,et,ct,lt,vt){var Dt=typeof j;(Dt==="undefined"||Dt==="boolean")&&(j=null);var wt=!1;if(j===null)wt=!0;else switch(Dt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(j.$$typeof){case r:case t:wt=!0;break;case E:return wt=j._init,pt(wt(j._payload),et,ct,lt,vt)}}if(wt)return vt=vt(j),wt=lt===""?"."+L(j,0):lt,Z(vt)?(ct="",wt!=null&&(ct=wt.replace(C,"$&/")+"/"),pt(vt,et,ct,"",function($n){return $n})):vt!=null&&(D(vt)&&(vt=A(vt,ct+(vt.key==null||j&&j.key===vt.key?"":(""+vt.key).replace(C,"$&/")+"/")+wt)),et.push(vt)),1;wt=0;var Ie=lt===""?".":lt+":";if(Z(j))for(var te=0;te<j.length;te++)lt=j[te],Dt=Ie+L(lt,te),wt+=pt(lt,et,ct,Dt,vt);else if(te=S(j),typeof te=="function")for(j=te.call(j),te=0;!(lt=j.next()).done;)lt=lt.value,Dt=Ie+L(lt,te++),wt+=pt(lt,et,ct,Dt,vt);else if(Dt==="object"){if(typeof j.then=="function")return pt(At(j),et,ct,lt,vt);throw et=String(j),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return wt}function Q(j,et,ct){if(j==null)return j;var lt=[],vt=0;return pt(j,lt,"","",function(Dt){return et.call(ct,Dt,vt++)}),lt}function ot(j){if(j._status===-1){var et=j._result;et=et(),et.then(function(ct){(j._status===0||j._status===-1)&&(j._status=1,j._result=ct)},function(ct){(j._status===0||j._status===-1)&&(j._status=2,j._result=ct)}),j._status===-1&&(j._status=0,j._result=et)}if(j._status===1)return j._result.default;throw j._result}var ht=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Nt(){}return Ct.Children={map:Q,forEach:function(j,et,ct){Q(j,function(){et.apply(this,arguments)},ct)},count:function(j){var et=0;return Q(j,function(){et++}),et},toArray:function(j){return Q(j,function(et){return et})||[]},only:function(j){if(!D(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Ct.Component=k,Ct.Fragment=n,Ct.Profiler=o,Ct.PureComponent=F,Ct.StrictMode=s,Ct.Suspense=g,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(j){return rt.H.useMemoCache(j)}},Ct.cache=function(j){return function(){return j.apply(null,arguments)}},Ct.cloneElement=function(j,et,ct){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var lt=O({},j.props),vt=j.key,Dt=void 0;if(et!=null)for(wt in et.ref!==void 0&&(Dt=void 0),et.key!==void 0&&(vt=""+et.key),et)!J.call(et,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&et.ref===void 0||(lt[wt]=et[wt]);var wt=arguments.length-2;if(wt===1)lt.children=ct;else if(1<wt){for(var Ie=Array(wt),te=0;te<wt;te++)Ie[te]=arguments[te+2];lt.children=Ie}return P(j.type,vt,void 0,void 0,Dt,lt)},Ct.createContext=function(j){return j={$$typeof:f,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:u,_context:j},j},Ct.createElement=function(j,et,ct){var lt,vt={},Dt=null;if(et!=null)for(lt in et.key!==void 0&&(Dt=""+et.key),et)J.call(et,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(vt[lt]=et[lt]);var wt=arguments.length-2;if(wt===1)vt.children=ct;else if(1<wt){for(var Ie=Array(wt),te=0;te<wt;te++)Ie[te]=arguments[te+2];vt.children=Ie}if(j&&j.defaultProps)for(lt in wt=j.defaultProps,wt)vt[lt]===void 0&&(vt[lt]=wt[lt]);return P(j,Dt,void 0,void 0,null,vt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(j){return{$$typeof:m,render:j}},Ct.isValidElement=D,Ct.lazy=function(j){return{$$typeof:E,_payload:{_status:-1,_result:j},_init:ot}},Ct.memo=function(j,et){return{$$typeof:p,type:j,compare:et===void 0?null:et}},Ct.startTransition=function(j){var et=rt.T,ct={};rt.T=ct;try{var lt=j(),vt=rt.S;vt!==null&&vt(ct,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Nt,ht)}catch(Dt){ht(Dt)}finally{rt.T=et}},Ct.unstable_useCacheRefresh=function(){return rt.H.useCacheRefresh()},Ct.use=function(j){return rt.H.use(j)},Ct.useActionState=function(j,et,ct){return rt.H.useActionState(j,et,ct)},Ct.useCallback=function(j,et){return rt.H.useCallback(j,et)},Ct.useContext=function(j){return rt.H.useContext(j)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(j,et){return rt.H.useDeferredValue(j,et)},Ct.useEffect=function(j,et,ct){var lt=rt.H;if(typeof ct=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(j,et)},Ct.useId=function(){return rt.H.useId()},Ct.useImperativeHandle=function(j,et,ct){return rt.H.useImperativeHandle(j,et,ct)},Ct.useInsertionEffect=function(j,et){return rt.H.useInsertionEffect(j,et)},Ct.useLayoutEffect=function(j,et){return rt.H.useLayoutEffect(j,et)},Ct.useMemo=function(j,et){return rt.H.useMemo(j,et)},Ct.useOptimistic=function(j,et){return rt.H.useOptimistic(j,et)},Ct.useReducer=function(j,et,ct){return rt.H.useReducer(j,et,ct)},Ct.useRef=function(j){return rt.H.useRef(j)},Ct.useState=function(j){return rt.H.useState(j)},Ct.useSyncExternalStore=function(j,et,ct){return rt.H.useSyncExternalStore(j,et,ct)},Ct.useTransition=function(){return rt.H.useTransition()},Ct.version="19.1.1",Ct}var sv;function Gm(){return sv||(sv=1,$d.exports=mS()),$d.exports}var z=Gm();const Ll=W_(z);var Gd={exports:{}},Al={},Yd={exports:{}},Xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function gS(){return av||(av=1,function(r){function t(Q,ot){var ht=Q.length;Q.push(ot);t:for(;0<ht;){var Nt=ht-1>>>1,j=Q[Nt];if(0<o(j,ot))Q[Nt]=ot,Q[ht]=j,ht=Nt;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ot=Q[0],ht=Q.pop();if(ht!==ot){Q[0]=ht;t:for(var Nt=0,j=Q.length,et=j>>>1;Nt<et;){var ct=2*(Nt+1)-1,lt=Q[ct],vt=ct+1,Dt=Q[vt];if(0>o(lt,ht))vt<j&&0>o(Dt,lt)?(Q[Nt]=Dt,Q[vt]=ht,Nt=vt):(Q[Nt]=lt,Q[ct]=ht,Nt=ct);else if(vt<j&&0>o(Dt,ht))Q[Nt]=Dt,Q[vt]=ht,Nt=vt;else break t}}return ot}function o(Q,ot){var ht=Q.sortIndex-ot.sortIndex;return ht!==0?ht:Q.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],p=[],E=1,b=null,S=3,x=!1,O=!1,V=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Z(Q){for(var ot=n(p);ot!==null;){if(ot.callback===null)s(p);else if(ot.startTime<=Q)s(p),ot.sortIndex=ot.expirationTime,t(g,ot);else break;ot=n(p)}}function rt(Q){if(V=!1,Z(Q),!O)if(n(g)!==null)O=!0,J||(J=!0,L());else{var ot=n(p);ot!==null&&pt(rt,ot.startTime-Q)}}var J=!1,P=-1,A=5,D=-1;function N(){return k?!0:!(r.unstable_now()-D<A)}function C(){if(k=!1,J){var Q=r.unstable_now();D=Q;var ot=!0;try{t:{O=!1,V&&(V=!1,F(P),P=-1),x=!0;var ht=S;try{e:{for(Z(Q),b=n(g);b!==null&&!(b.expirationTime>Q&&N());){var Nt=b.callback;if(typeof Nt=="function"){b.callback=null,S=b.priorityLevel;var j=Nt(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof j=="function"){b.callback=j,Z(Q),ot=!0;break e}b===n(g)&&s(g),Z(Q)}else s(g);b=n(g)}if(b!==null)ot=!0;else{var et=n(p);et!==null&&pt(rt,et.startTime-Q),ot=!1}}break t}finally{b=null,S=ht,x=!1}ot=void 0}}finally{ot?L():J=!1}}}var L;if(typeof q=="function")L=function(){q(C)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,At=I.port2;I.port1.onmessage=C,L=function(){At.postMessage(null)}}else L=function(){U(C,0)};function pt(Q,ot){P=U(function(){Q(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var ht=S;S=ot;try{return Q()}finally{S=ht}},r.unstable_requestPaint=function(){k=!0},r.unstable_runWithPriority=function(Q,ot){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ht=S;S=Q;try{return ot()}finally{S=ht}},r.unstable_scheduleCallback=function(Q,ot,ht){var Nt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Nt+ht:Nt):ht=Nt,Q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ht+j,Q={id:E++,callback:ot,priorityLevel:Q,startTime:ht,expirationTime:j,sortIndex:-1},ht>Nt?(Q.sortIndex=ht,t(p,Q),n(g)===null&&Q===n(p)&&(V?(F(P),P=-1):V=!0,pt(rt,ht-Nt))):(Q.sortIndex=j,t(g,Q),O||x||(O=!0,J||(J=!0,L()))),Q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(Q){var ot=S;return function(){var ht=S;S=ot;try{return Q.apply(this,arguments)}finally{S=ht}}}}(Xd)),Xd}var ov;function pS(){return ov||(ov=1,Yd.exports=gS()),Yd.exports}var Qd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function yS(){if(lv)return Ye;lv=1;var r=Gm();function t(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ye.createPortal=function(g,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(g,p,null,E)},Ye.flushSync=function(g){var p=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=p,s.p=E,s.d.f()}},Ye.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(g,p))},Ye.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Ye.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:x}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ye.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=m(p.as,p.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(g)},Ye.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=m(E,p.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ye.preloadModule=function(g,p){if(typeof g=="string")if(p){var E=m(p.as,p.crossOrigin);s.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(g)},Ye.requestFormReset=function(g){s.d.r(g)},Ye.unstable_batchedUpdates=function(g,p){return g(p)},Ye.useFormState=function(g,p,E){return f.H.useFormState(g,p,E)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.1.1",Ye}var uv;function vS(){if(uv)return Qd.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qd.exports=yS(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function _S(){if(cv)return Al;cv=1;var r=pS(),t=Gm(),n=vS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),e;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var T=!1,w=h.child;w;){if(w===a){T=!0,a=h,l=d;break}if(w===l){T=!0,l=h,a=d;break}w=w.sibling}if(!T){for(w=d.child;w;){if(w===a){T=!0,a=d,l=h;break}if(w===l){T=!0,l=d,a=h;break}w=w.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function p(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=p(e),i!==null)return i;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case k:return"Profiler";case V:return"StrictMode";case rt:return"Suspense";case J:return"SuspenseList";case D:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case q:return(e.displayName||"Context")+".Provider";case F:return(e._context.displayName||"Context")+".Consumer";case Z:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return i=e.displayName||null,i!==null?i:At(e.type)||"Memo";case A:i=e._payload,e=e._init;try{return At(e(i))}catch{}}return null}var pt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Nt=[],j=-1;function et(e){return{current:e}}function ct(e){0>j||(e.current=Nt[j],Nt[j]=null,j--)}function lt(e,i){j++,Nt[j]=e.current,e.current=i}var vt=et(null),Dt=et(null),wt=et(null),Ie=et(null);function te(e,i){switch(lt(wt,i),lt(Dt,e),lt(vt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?N0(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=N0(i),e=D0(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(vt),lt(vt,e)}function $n(){ct(vt),ct(Dt),ct(wt)}function ni(e){e.memoizedState!==null&&lt(Ie,e);var i=vt.current,a=D0(i,e.type);i!==a&&(lt(Dt,e),lt(vt,a))}function yr(e){Dt.current===e&&(ct(vt),ct(Dt)),Ie.current===e&&(ct(Ie),_l._currentValue=ht)}var Qi=Object.prototype.hasOwnProperty,Ki=r.unstable_scheduleCallback,Wi=r.unstable_cancelCallback,po=r.unstable_shouldYield,hu=r.unstable_requestPaint,vn=r.unstable_now,qh=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,Ys=r.unstable_UserBlockingPriority,Zi=r.unstable_NormalPriority,Fh=r.unstable_LowPriority,Xs=r.unstable_IdlePriority,vo=r.log,fu=r.unstable_setDisableYieldValue,ue=null,Gt=null;function ln(e){if(typeof vo=="function"&&fu(e),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ue,e)}catch{}}var $e=Math.clz32?Math.clz32:Ji,du=Math.log,$h=Math.LN2;function Ji(e){return e>>>=0,e===0?32:31-(du(e)/$h|0)|0}var ts=256,es=4194304;function Pn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qs(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var w=l&134217727;return w!==0?(l=w&~d,l!==0?h=Pn(l):(T&=w,T!==0?h=Pn(T):a||(a=w&~e,a!==0&&(h=Pn(a))))):(w=l&~d,w!==0?h=Pn(w):T!==0?h=Pn(T):a||(a=l&~e,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function ns(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function _o(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(){var e=ts;return ts<<=1,(ts&4194048)===0&&(ts=256),e}function To(){var e=es;return es<<=1,(es&62914560)===0&&(es=4194304),e}function vr(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function _r(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bo(e,i,a,l,h,d){var T=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var w=e.entanglements,M=e.expirationTimes,Y=e.hiddenUpdates;for(a=T&~a;0<a;){var tt=31-$e(a),st=1<<tt;w[tt]=0,M[tt]=-1;var X=Y[tt];if(X!==null)for(Y[tt]=null,tt=0;tt<X.length;tt++){var K=X[tt];K!==null&&(K.lane&=-536870913)}a&=~st}l!==0&&Gn(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(T&~i))}function Gn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-$e(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function So(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-$e(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function ri(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ks(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ii(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:K0(e.type))}function mu(e,i){var a=ot.p;try{return ot.p=e,i()}finally{ot.p=a}}var ie=Math.random().toString(36).slice(2),Se="__reactFiber$"+ie,pe="__reactProps$"+ie,_n="__reactContainer$"+ie,wo="__reactEvents$"+ie,Gh="__reactListeners$"+ie,si="__reactHandles$"+ie,gu="__reactResources$"+ie,rs="__reactMarker$"+ie;function ai(e){delete e[Se],delete e[pe],delete e[wo],delete e[Gh],delete e[si]}function Er(e){var i=e[Se];if(i)return i;for(var a=e.parentNode;a;){if(i=a[_n]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=V0(e);e!==null;){if(a=e[Se])return a;e=V0(e)}return i}e=a,a=e.parentNode}return null}function Yn(e){if(e=e[Se]||e[_n]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Xn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Je(e){var i=e[gu];return i||(i=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fe(e){e[rs]=!0}var Ao=new Set,Ws={};function Mn(e,i){Tr(e,i),Tr(e+"Capture",i)}function Tr(e,i){for(Ws[e]=i,e=0;e<i.length;e++)Ao.add(i[e])}var pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},is={};function vu(e){return Qi.call(is,e)?!0:Qi.call(yu,e)?!1:pu.test(e)?is[e]=!0:(yu[e]=!0,!1)}function oi(e,i,a){if(vu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Qn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Le(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var ss,_u;function br(e){if(ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ss=i&&i[1]||"",_u=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ss+e+_u}var Zs=!1;function Js(e,i){if(!e||Zs)return"";Zs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(K){var X=K}Reflect.construct(e,[],st)}else{try{st.call()}catch(K){X=K}e.call(st.prototype)}}else{try{throw Error()}catch(K){X=K}(st=e())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(K){if(K&&X&&typeof K.stack=="string")return[K.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],w=d[1];if(T&&w){var M=T.split(`
`),Y=w.split(`
`);for(h=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===M.length||h===Y.length)for(l=M.length-1,h=Y.length-1;1<=l&&0<=h&&M[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(M[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||M[l]!==Y[h]){var tt=`
`+M[l].replace(" at new "," at ");return e.displayName&&tt.includes("<anonymous>")&&(tt=tt.replace("<anonymous>",e.displayName)),tt}while(1<=l&&0<=h);break}}}finally{Zs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?br(a):""}function Ro(e){switch(e.tag){case 26:case 27:case 5:return br(e.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 15:return Js(e.type,!1);case 11:return Js(e.type.render,!1);case 1:return Js(e.type,!0);case 31:return br("Activity");default:return""}}function ta(e){try{var i="";do i+=Ro(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yh(e){var i=xo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ea(e){e._valueTracker||(e._valueTracker=Yh(e))}function Co(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=xo(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function as(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xh=/[\n"\\]/g;function ye(e){return e.replace(Xh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function un(e,i,a,l,h,d,T,w){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),i!=null?T==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+tn(i)):e.value!==""+tn(i)&&(e.value=""+tn(i)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),i!=null?li(e,T,tn(i)):a!=null?li(e,T,tn(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+tn(w):e.removeAttribute("name")}function os(e,i,a,l,h,d,T,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,w||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=w?e.checked:!!l,e.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T)}function li(e,i,a){i==="number"&&as(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Sr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Qt(e,i,a){if(i!=null&&(i=""+tn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+tn(a):""}function ls(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(pt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function En(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||us.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Io(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Eu(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Eu(e,d,i[d])}function No(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return Kh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wr=null;function Tn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ar=null,Rr=null;function Do(e){var i=Yn(e);if(i&&(e=i.stateNode)){var a=e[pe]||null;t:switch(e=i.stateNode,i.type){case"input":if(un(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ye(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[pe]||null;if(!h)throw Error(s(90));un(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Co(l)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Sr(e,!!a.multiple,i,!1)}}}var Kn=!1;function Tu(e,i,a){if(Kn)return e(i,a);Kn=!0;try{var l=e(i);return l}finally{if(Kn=!1,(Ar!==null||Rr!==null)&&(mc(),Ar&&(i=Ar,e=Rr,Rr=Ar=null,Do(i),e)))for(i=0;i<e.length;i++)Do(e[i])}}function cs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[pe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Vn)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){bn=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{bn=!1}var Wn=null,ui=null,xr=null;function Oo(){if(xr)return xr;var e,i=ui,a=i.length,l,h="value"in Wn?Wn.value:Wn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var T=a-e;for(l=1;l<=T&&i[a-l]===h[d-l];l++);return xr=h.slice(e,1<l?1-l:void 0)}function Zn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Jn(){return!0}function Po(){return!1}function Ne(e){function i(a,l,h,d,T){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(a=e[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Jn:Po,this.isPropagationStopped=Po,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ra=Ne(Ft),fs=E({},Ft,{view:0,detail:0}),bu=Ne(fs),ia,sa,tr,ds=E({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==tr&&(tr&&e.type==="mousemove"?(ia=e.screenX-tr.screenX,sa=e.screenY-tr.screenY):sa=ia=0,tr=e),ia)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Sn=Ne(ds),Su=E({},ds,{dataTransfer:0}),Wh=Ne(Su),ms=E({},fs,{relatedTarget:0}),aa=Ne(ms),Mo=E({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),oa=Ne(Mo),wu=E({},Ft,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),la=Ne(wu),Zh=E({},Ft,{data:0}),Vo=Ne(Zh),gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Ru[e])?!!i[e]:!1}function ps(){return ko}var xu=E({},fs,{key:function(e){if(e.key){var i=gs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Zn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?Zn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ua=Ne(xu),Cu=E({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lo=Ne(Cu),Cr=E({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),Iu=Ne(Cr),Nu=E({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Du=Ne(Nu),Ou=E({},ds,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ca=Ne(Ou),en=E({},Ft,{newState:0,oldState:0}),Pu=Ne(en),Mu=[9,13,27,32],er=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var y=Vn&&"TextEvent"in window&&!c,_=Vn&&(!er||c&&8<c&&11>=c),R=" ",$=!1;function W(e,i){switch(e){case"keyup":return Mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ut(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jt=!1;function we(e,i){switch(e){case"compositionend":return ut(i);case"keypress":return i.which!==32?null:($=!0,R);case"textInput":return e=i.data,e===R&&$?null:e;default:return null}}function Ut(e,i){if(jt)return e==="compositionend"||!er&&W(e,i)?(e=Oo(),xr=ui=Wn=null,jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!De[e.type]:i==="textarea"}function Ir(e,i,a,l){Ar?Rr?Rr.push(l):Rr=[l]:Ar=l,i=Ec(i,"onChange"),0<i.length&&(a=new ra("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var je=null,nr=null;function jo(e){A0(e,0)}function Vu(e){var i=Xn(e);if(Co(i))return e}function Gg(e,i){if(e==="change")return i}var Yg=!1;if(Vn){var Jh;if(Vn){var tf="oninput"in document;if(!tf){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),tf=typeof Xg.oninput=="function"}Jh=tf}else Jh=!1;Yg=Jh&&(!document.documentMode||9<document.documentMode)}function Qg(){je&&(je.detachEvent("onpropertychange",Kg),nr=je=null)}function Kg(e){if(e.propertyName==="value"&&Vu(nr)){var i=[];Ir(i,nr,e,Tn(e)),Tu(jo,i)}}function Hb(e,i,a){e==="focusin"?(Qg(),je=i,nr=a,je.attachEvent("onpropertychange",Kg)):e==="focusout"&&Qg()}function qb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vu(nr)}function Fb(e,i){if(e==="click")return Vu(i)}function $b(e,i){if(e==="input"||e==="change")return Vu(i)}function Gb(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var cn=typeof Object.is=="function"?Object.is:Gb;function Uo(e,i){if(cn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Qi.call(i,h)||!cn(e[h],i[h]))return!1}return!0}function Wg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zg(e,i){var a=Wg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Wg(a)}}function Jg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Jg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function tp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=as(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=as(e.document)}return i}function ef(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Yb=Vn&&"documentMode"in document&&11>=document.documentMode,ha=null,nf=null,zo=null,rf=!1;function ep(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||ha==null||ha!==as(l)||(l=ha,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),zo&&Uo(zo,l)||(zo=l,l=Ec(nf,"onSelect"),0<l.length&&(i=new ra("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=ha)))}function ys(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var fa={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},sf={},np={};Vn&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function vs(e){if(sf[e])return sf[e];if(!fa[e])return e;var i=fa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in np)return sf[e]=i[a];return e}var rp=vs("animationend"),ip=vs("animationiteration"),sp=vs("animationstart"),Xb=vs("transitionrun"),Qb=vs("transitionstart"),Kb=vs("transitioncancel"),ap=vs("transitionend"),op=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function kn(e,i){op.set(e,i),Mn(i,[e])}var lp=new WeakMap;function wn(e,i){if(typeof e=="object"&&e!==null){var a=lp.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ta(i)},lp.set(e,i),i)}return{value:e,source:i,stack:ta(i)}}var An=[],da=0,of=0;function ku(){for(var e=da,i=of=da=0;i<e;){var a=An[i];An[i++]=null;var l=An[i];An[i++]=null;var h=An[i];An[i++]=null;var d=An[i];if(An[i++]=null,l!==null&&h!==null){var T=l.pending;T===null?h.next=h:(h.next=T.next,T.next=h),l.pending=h}d!==0&&up(a,h,d)}}function Lu(e,i,a,l){An[da++]=e,An[da++]=i,An[da++]=a,An[da++]=l,of|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lf(e,i,a,l){return Lu(e,i,a,l),ju(e)}function ma(e,i){return Lu(e,null,null,i),ju(e)}function up(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-$e(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function ju(e){if(50<hl)throw hl=0,md=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ga={};function Wb(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,i,a,l){return new Wb(e,i,a,l)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nr(e,i){var a=e.alternate;return a===null?(a=hn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function cp(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Uu(e,i,a,l,h,d){var T=0;if(l=e,typeof e=="function")uf(e)&&(T=1);else if(typeof e=="string")T=J1(e,a,vt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case D:return e=hn(31,a,i,h),e.elementType=D,e.lanes=d,e;case O:return _s(a.children,h,d,i);case V:T=8,h|=24;break;case k:return e=hn(12,a,i,h|2),e.elementType=k,e.lanes=d,e;case rt:return e=hn(13,a,i,h),e.elementType=rt,e.lanes=d,e;case J:return e=hn(19,a,i,h),e.elementType=J,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:case q:T=10;break t;case F:T=9;break t;case Z:T=11;break t;case P:T=14;break t;case A:T=16,l=null;break t}T=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=hn(T,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function _s(e,i,a,l){return e=hn(7,e,l,i),e.lanes=a,e}function cf(e,i,a){return e=hn(6,e,null,i),e.lanes=a,e}function hf(e,i,a){return i=hn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var pa=[],ya=0,zu=null,Bu=0,Rn=[],xn=0,Es=null,Dr=1,Or="";function Ts(e,i){pa[ya++]=Bu,pa[ya++]=zu,zu=e,Bu=i}function hp(e,i,a){Rn[xn++]=Dr,Rn[xn++]=Or,Rn[xn++]=Es,Es=e;var l=Dr;e=Or;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(i)+h;if(30<d){var T=h-h%5;d=(l&(1<<T)-1).toString(32),l>>=T,h-=T,Dr=1<<32-$e(i)+h|a<<h|l,Or=d+e}else Dr=1<<d|a<<h|l,Or=e}function ff(e){e.return!==null&&(Ts(e,1),hp(e,1,0))}function df(e){for(;e===zu;)zu=pa[--ya],pa[ya]=null,Bu=pa[--ya],pa[ya]=null;for(;e===Es;)Es=Rn[--xn],Rn[xn]=null,Or=Rn[--xn],Rn[xn]=null,Dr=Rn[--xn],Rn[xn]=null}var nn=null,ce=null,qt=!1,bs=null,rr=!1,mf=Error(s(519));function Ss(e){var i=Error(s(418,""));throw qo(wn(i,e)),mf}function fp(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Se]=e,i[pe]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)Mt(dl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),os(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ea(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),ls(i,l.value,l.defaultValue,l.children),ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||I0(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||Ss(e)}function dp(e){for(nn=e.return;nn;)switch(nn.tag){case 5:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:nn=nn.return}}function Bo(e){if(e!==nn)return!1;if(!qt)return dp(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nd(e.type,e.memoizedProps)),a=!a),a&&ce&&Ss(e),dp(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ce=jn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ce=null}}else i===27?(i=ce,Ai(e.type)?(e=Md,Md=null,ce=e):ce=i):ce=nn?jn(e.stateNode.nextSibling):null;return!0}function Ho(){ce=nn=null,qt=!1}function mp(){var e=bs;return e!==null&&(an===null?an=e:an.push.apply(an,e),bs=null),e}function qo(e){bs===null?bs=[e]:bs.push(e)}var gf=et(null),ws=null,Pr=null;function ci(e,i,a){lt(gf,i._currentValue),i._currentValue=a}function Mr(e){e._currentValue=gf.current,ct(gf)}function pf(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function yf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var T=h.child;d=d.firstContext;t:for(;d!==null;){var w=d;d=h;for(var M=0;M<i.length;M++)if(w.context===i[M]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),pf(d.return,a,e),l||(T=null);break t}d=w.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),pf(T,a,e),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===e){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function Fo(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var w=h.type;cn(h.pendingProps.value,T.value)||(e!==null?e.push(w):e=[w])}}else if(h===Ie.current){if(T=h.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&yf(i,e,a,l),i.flags|=262144}function Hu(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function As(e){ws=e,Pr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return gp(ws,e)}function qu(e,i){return ws===null&&As(e),gp(e,i)}function gp(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pr===null){if(e===null)throw Error(s(308));Pr=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Pr=Pr.next=i;return a}var Zb=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Jb=r.unstable_scheduleCallback,t1=r.unstable_NormalPriority,Re={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new Zb,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&Jb(t1,function(){e.controller.abort()})}var Go=null,_f=0,va=0,_a=null;function e1(e,i){if(Go===null){var a=Go=[];_f=0,va=Td(),_a={status:"pending",value:void 0,then:function(l){a.push(l)}}}return _f++,i.then(pp,pp),i}function pp(){if(--_f===0&&Go!==null){_a!==null&&(_a.status="fulfilled");var e=Go;Go=null,va=0,_a=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function n1(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yp=Q.S;Q.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&e1(e,i),yp!==null&&yp(e,i)};var Rs=et(null);function Ef(){var e=Rs.current;return e!==null?e:ee.pooledCache}function Fu(e,i){i===null?lt(Rs,Rs.current):lt(Rs,i.pool)}function vp(){var e=Ef();return e===null?null:{parent:Re._currentValue,pool:e}}var Yo=Error(s(460)),_p=Error(s(474)),$u=Error(s(542)),Tf={then:function(){}};function Ep(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gu(){}function Tp(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Gu,Gu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sp(e),e;default:if(typeof i.status=="string")i.then(Gu,Gu);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Sp(e),e}throw Xo=i,Yo}}var Xo=null;function bp(){if(Xo===null)throw Error(s(459));var e=Xo;return Xo=null,e}function Sp(e){if(e===Yo||e===$u)throw Error(s(483))}var hi=!1;function bf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function di(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ju(e),up(e,null,a),i}return Lu(e,l,i,a),ju(e)}function Qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,So(e,a)}}function wf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Af=!1;function Ko(){if(Af){var e=_a;if(e!==null)throw e}}function Wo(e,i,a,l){Af=!1;var h=e.updateQueue;hi=!1;var d=h.firstBaseUpdate,T=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var M=w,Y=M.next;M.next=null,T===null?d=Y:T.next=Y,T=M;var tt=e.alternate;tt!==null&&(tt=tt.updateQueue,w=tt.lastBaseUpdate,w!==T&&(w===null?tt.firstBaseUpdate=Y:w.next=Y,tt.lastBaseUpdate=M))}if(d!==null){var st=h.baseState;T=0,tt=Y=M=null,w=d;do{var X=w.lane&-536870913,K=X!==w.lane;if(K?(zt&X)===X:(l&X)===X){X!==0&&X===va&&(Af=!0),tt!==null&&(tt=tt.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var bt=e,_t=w;X=i;var Zt=a;switch(_t.tag){case 1:if(bt=_t.payload,typeof bt=="function"){st=bt.call(Zt,st,X);break t}st=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=_t.payload,X=typeof bt=="function"?bt.call(Zt,st,X):bt,X==null)break t;st=E({},st,X);break t;case 2:hi=!0}}X=w.callback,X!==null&&(e.flags|=64,K&&(e.flags|=8192),K=h.callbacks,K===null?h.callbacks=[X]:K.push(X))}else K={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},tt===null?(Y=tt=K,M=st):tt=tt.next=K,T|=X;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;K=w,w=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);tt===null&&(M=st),h.baseState=M,h.firstBaseUpdate=Y,h.lastBaseUpdate=tt,d===null&&(h.shared.lanes=0),Ti|=T,e.lanes=T,e.memoizedState=st}}function wp(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ap(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wp(a[e],i)}var Ea=et(null),Yu=et(0);function Rp(e,i){e=Br,lt(Yu,e),lt(Ea,i),Br=e|i.baseLanes}function Rf(){lt(Yu,Br),lt(Ea,Ea.current)}function xf(){Br=Yu.current,ct(Ea),ct(Yu)}var mi=0,It=null,Kt=null,ve=null,Xu=!1,Ta=!1,xs=!1,Qu=0,Zo=0,ba=null,r1=0;function de(){throw Error(s(321))}function Cf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!cn(e[a],i[a]))return!1;return!0}function If(e,i,a,l,h,d){return mi=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?uy:cy,xs=!1,d=a(l,h),xs=!1,Ta&&(d=Cp(i,a,l,h)),xp(e),d}function xp(e){Q.H=ec;var i=Kt!==null&&Kt.next!==null;if(mi=0,ve=Kt=It=null,Xu=!1,Zo=0,ba=null,i)throw Error(s(300));e===null||Oe||(e=e.dependencies,e!==null&&Hu(e)&&(Oe=!0))}function Cp(e,i,a,l){It=e;var h=0;do{if(Ta&&(ba=null),Zo=0,Ta=!1,25<=h)throw Error(s(301));if(h+=1,ve=Kt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=c1,d=i(a,l)}while(Ta);return d}function i1(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?Jo(i):i,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(It.flags|=1024),i}function Nf(){var e=Qu!==0;return Qu=0,e}function Df(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Of(e){if(Xu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Xu=!1}mi=0,ve=Kt=It=null,Ta=!1,Zo=Qu=0,ba=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?It.memoizedState=ve=e:ve=ve.next=e,ve}function _e(){if(Kt===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var i=ve===null?It.memoizedState:ve.next;if(i!==null)ve=i,Kt=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ve===null?It.memoizedState=ve=e:ve=ve.next=e}return ve}function Pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var i=Zo;return Zo+=1,ba===null&&(ba=[]),e=Tp(ba,e,i),i=It,(ve===null?i.memoizedState:ve.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?uy:cy),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===q)return Ge(e)}throw Error(s(438,String(e)))}function Mf(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Pf(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=N;return i.index++,a}function Vr(e,i){return typeof i=="function"?i(e):i}function Wu(e){var i=_e();return Vf(i,Kt,e)}function Vf(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var T=h.next;h.next=d.next,d.next=T}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var w=T=null,M=null,Y=i,tt=!1;do{var st=Y.lane&-536870913;if(st!==Y.lane?(zt&st)===st:(mi&st)===st){var X=Y.revertLane;if(X===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),st===va&&(tt=!0);else if((mi&X)===X){Y=Y.next,X===va&&(tt=!0);continue}else st={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(w=M=st,T=d):M=M.next=st,It.lanes|=X,Ti|=X;st=Y.action,xs&&a(d,st),d=Y.hasEagerState?Y.eagerState:a(d,st)}else X={lane:st,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(w=M=X,T=d):M=M.next=X,It.lanes|=st,Ti|=st;Y=Y.next}while(Y!==null&&Y!==i);if(M===null?T=d:M.next=w,!cn(d,e.memoizedState)&&(Oe=!0,tt&&(a=_a,a!==null)))throw a;e.memoizedState=d,e.baseState=T,e.baseQueue=M,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function kf(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var T=h=h.next;do d=e(d,T.action),T=T.next;while(T!==h);cn(d,i.memoizedState)||(Oe=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ip(e,i,a){var l=It,h=_e(),d=qt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!cn((Kt||h).memoizedState,a);T&&(h.memoizedState=a,Oe=!0),h=h.queue;var w=Op.bind(null,l,h,e);if(tl(2048,8,w,[e]),h.getSnapshot!==i||T||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,Sa(9,Zu(),Dp.bind(null,l,h,a,i),null),ee===null)throw Error(s(349));d||(mi&124)!==0||Np(l,i,a)}return a}function Np(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=Pf(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Dp(e,i,a,l){i.value=a,i.getSnapshot=l,Pp(i)&&Mp(e)}function Op(e,i,a){return a(function(){Pp(i)&&Mp(e)})}function Pp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!cn(e,a)}catch{return!0}}function Mp(e){var i=ma(e,2);i!==null&&pn(i,e,2)}function Lf(e){var i=rn();if(typeof e=="function"){var a=e;if(e=a(),xs){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:e},i}function Vp(e,i,a,l){return e.baseState=a,Vf(e,Kt,typeof l=="function"?l:Vr)}function s1(e,i,a,l,h){if(tc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,kp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function kp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=Q.T,T={};Q.T=T;try{var w=a(h,l),M=Q.S;M!==null&&M(T,w),Lp(e,i,w)}catch(Y){jf(e,i,Y)}finally{Q.T=d}}else try{d=a(h,l),Lp(e,i,d)}catch(Y){jf(e,i,Y)}}function Lp(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jp(e,i,l)},function(l){return jf(e,i,l)}):jp(e,i,a)}function jp(e,i,a){i.status="fulfilled",i.value=a,Up(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,kp(e,a)))}function jf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Up(i),i=i.next;while(i!==l)}e.action=null}function Up(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function zp(e,i){return i}function Bp(e,i){if(qt){var a=ee.formState;if(a!==null){t:{var l=It;if(qt){if(ce){e:{for(var h=ce,d=rr;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ce=jn(h.nextSibling),l=h.data==="F!";break t}}Ss(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:i},a.queue=l,a=ay.bind(null,It,l),l.dispatch=a,l=Lf(!1),d=qf.bind(null,It,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=s1.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Hp(e){var i=_e();return qp(i,Kt,e)}function qp(e,i,a){if(i=Vf(e,i,zp)[0],e=Wu(Vr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Jo(i)}catch(T){throw T===Yo?$u:T}else l=i;i=_e();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Sa(9,Zu(),a1.bind(null,h,a),null)),[l,d,e]}function a1(e,i){e.action=i}function Fp(e){var i=_e(),a=Kt;if(a!==null)return qp(i,a,e);_e(),i=i.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Sa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=Pf(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Zu(){return{destroy:void 0,resource:void 0}}function $p(){return _e().memoizedState}function Ju(e,i,a,l){var h=rn();l=l===void 0?null:l,It.flags|=e,h.memoizedState=Sa(1|i,Zu(),a,l)}function tl(e,i,a,l){var h=_e();l=l===void 0?null:l;var d=h.memoizedState.inst;Kt!==null&&l!==null&&Cf(l,Kt.memoizedState.deps)?h.memoizedState=Sa(i,d,a,l):(It.flags|=e,h.memoizedState=Sa(1|i,d,a,l))}function Gp(e,i){Ju(8390656,8,e,i)}function Yp(e,i){tl(2048,8,e,i)}function Xp(e,i){return tl(4,2,e,i)}function Qp(e,i){return tl(4,4,e,i)}function Kp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Wp(e,i,a){a=a!=null?a.concat([e]):null,tl(4,4,Kp.bind(null,i,e),a)}function Uf(){}function Zp(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Cf(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Jp(e,i){var a=_e();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Cf(i,l[1]))return l[0];if(l=e(),xs){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function zf(e,i,a){return a===void 0||(mi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=n0(),It.lanes|=e,Ti|=e,a)}function ty(e,i,a,l){return cn(a,i)?a:Ea.current!==null?(e=zf(e,a,l),cn(e,i)||(Oe=!0),e):(mi&42)===0?(Oe=!0,e.memoizedState=a):(e=n0(),It.lanes|=e,Ti|=e,i)}function ey(e,i,a,l,h){var d=ot.p;ot.p=d!==0&&8>d?d:8;var T=Q.T,w={};Q.T=w,qf(e,!1,i,a);try{var M=h(),Y=Q.S;if(Y!==null&&Y(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var tt=n1(M,l);el(e,i,tt,gn(e))}else el(e,i,l,gn(e))}catch(st){el(e,i,{then:function(){},status:"rejected",reason:st},gn())}finally{ot.p=d,Q.T=T}}function o1(){}function Bf(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=ny(e).queue;ey(e,h,i,ht,a===null?o1:function(){return ry(e),a(l)})}function ny(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vr,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function ry(e){var i=ny(e).next.queue;el(e,i,{},gn())}function Hf(){return Ge(_l)}function iy(){return _e().memoizedState}function sy(){return _e().memoizedState}function l1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=gn();e=fi(a);var l=di(i,e,a);l!==null&&(pn(l,i,a),Qo(l,i,a)),i={cache:vf()},e.payload=i;return}i=i.return}}function u1(e,i,a){var l=gn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},tc(e)?oy(i,a):(a=lf(e,i,a,l),a!==null&&(pn(a,e,l),ly(a,i,l)))}function ay(e,i,a){var l=gn();el(e,i,a,l)}function el(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(tc(e))oy(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var T=i.lastRenderedState,w=d(T,a);if(h.hasEagerState=!0,h.eagerState=w,cn(w,T))return Lu(e,i,h,0),ee===null&&ku(),!1}catch{}finally{}if(a=lf(e,i,h,l),a!==null)return pn(a,e,l),ly(a,i,l),!0}return!1}function qf(e,i,a,l){if(l={lane:2,revertLane:Td(),action:l,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(i)throw Error(s(479))}else i=lf(e,a,l,2),i!==null&&pn(i,e,2)}function tc(e){var i=e.alternate;return e===It||i!==null&&i===It}function oy(e,i){Ta=Xu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ly(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,So(e,a)}}var ec={readContext:Ge,use:Ku,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},uy={readContext:Ge,use:Ku,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Gp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ju(4194308,4,Kp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ju(4194308,4,e,i)},useInsertionEffect:function(e,i){Ju(4,2,e,i)},useMemo:function(e,i){var a=rn();i=i===void 0?null:i;var l=e();if(xs){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=rn();if(a!==void 0){var h=a(i);if(xs){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=u1.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Lf(e);var i=e.queue,a=ay.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(e,i){var a=rn();return zf(a,e,i)},useTransition:function(){var e=Lf(!1);return e=ey.bind(null,It,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=rn();if(qt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ee===null)throw Error(s(349));(zt&124)!==0||Np(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Gp(Op.bind(null,l,d,e),[e]),l.flags|=2048,Sa(9,Zu(),Dp.bind(null,l,d,a,i),null),a},useId:function(){var e=rn(),i=ee.identifierPrefix;if(qt){var a=Or,l=Dr;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Qu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=r1++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Hf,useFormState:Bp,useActionState:Bp,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qf.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:Mf,useCacheRefresh:function(){return rn().memoizedState=l1.bind(null,It)}},cy={readContext:Ge,use:Ku,useCallback:Zp,useContext:Ge,useEffect:Yp,useImperativeHandle:Wp,useInsertionEffect:Xp,useLayoutEffect:Qp,useMemo:Jp,useReducer:Wu,useRef:$p,useState:function(){return Wu(Vr)},useDebugValue:Uf,useDeferredValue:function(e,i){var a=_e();return ty(a,Kt.memoizedState,e,i)},useTransition:function(){var e=Wu(Vr)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:Ip,useId:iy,useHostTransitionStatus:Hf,useFormState:Hp,useActionState:Hp,useOptimistic:function(e,i){var a=_e();return Vp(a,Kt,e,i)},useMemoCache:Mf,useCacheRefresh:sy},c1={readContext:Ge,use:Ku,useCallback:Zp,useContext:Ge,useEffect:Yp,useImperativeHandle:Wp,useInsertionEffect:Xp,useLayoutEffect:Qp,useMemo:Jp,useReducer:kf,useRef:$p,useState:function(){return kf(Vr)},useDebugValue:Uf,useDeferredValue:function(e,i){var a=_e();return Kt===null?zf(a,e,i):ty(a,Kt.memoizedState,e,i)},useTransition:function(){var e=kf(Vr)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Jo(e),i]},useSyncExternalStore:Ip,useId:iy,useHostTransitionStatus:Hf,useFormState:Fp,useActionState:Fp,useOptimistic:function(e,i){var a=_e();return Kt!==null?Vp(a,Kt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:sy},wa=null,nl=0;function nc(e){var i=nl;return nl+=1,wa===null&&(wa=[]),Tp(wa,e,i)}function rl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function rc(e,i){throw i.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function hy(e){var i=e._init;return i(e._payload)}function fy(e){function i(H,B){if(e){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function a(H,B){if(!e)return null;for(;B!==null;)i(H,B),B=B.sibling;return null}function l(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function h(H,B){return H=Nr(H,B),H.index=0,H.sibling=null,H}function d(H,B,G){return H.index=G,e?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function T(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function w(H,B,G,nt){return B===null||B.tag!==6?(B=cf(G,H.mode,nt),B.return=H,B):(B=h(B,G),B.return=H,B)}function M(H,B,G,nt){var mt=G.type;return mt===O?tt(H,B,G.props.children,nt,G.key):B!==null&&(B.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&hy(mt)===B.type)?(B=h(B,G.props),rl(B,G),B.return=H,B):(B=Uu(G.type,G.key,G.props,null,H.mode,nt),rl(B,G),B.return=H,B)}function Y(H,B,G,nt){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=hf(G,H.mode,nt),B.return=H,B):(B=h(B,G.children||[]),B.return=H,B)}function tt(H,B,G,nt,mt){return B===null||B.tag!==7?(B=_s(G,H.mode,nt,mt),B.return=H,B):(B=h(B,G),B.return=H,B)}function st(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=cf(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return G=Uu(B.type,B.key,B.props,null,H.mode,G),rl(G,B),G.return=H,G;case x:return B=hf(B,H.mode,G),B.return=H,B;case A:var nt=B._init;return B=nt(B._payload),st(H,B,G)}if(pt(B)||L(B))return B=_s(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return st(H,nc(B),G);if(B.$$typeof===q)return st(H,qu(H,B),G);rc(H,B)}return null}function X(H,B,G,nt){var mt=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return mt!==null?null:w(H,B,""+G,nt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return G.key===mt?M(H,B,G,nt):null;case x:return G.key===mt?Y(H,B,G,nt):null;case A:return mt=G._init,G=mt(G._payload),X(H,B,G,nt)}if(pt(G)||L(G))return mt!==null?null:tt(H,B,G,nt,null);if(typeof G.then=="function")return X(H,B,nc(G),nt);if(G.$$typeof===q)return X(H,B,qu(H,G),nt);rc(H,G)}return null}function K(H,B,G,nt,mt){if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return H=H.get(G)||null,w(B,H,""+nt,mt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case S:return H=H.get(nt.key===null?G:nt.key)||null,M(B,H,nt,mt);case x:return H=H.get(nt.key===null?G:nt.key)||null,Y(B,H,nt,mt);case A:var Ot=nt._init;return nt=Ot(nt._payload),K(H,B,G,nt,mt)}if(pt(nt)||L(nt))return H=H.get(G)||null,tt(B,H,nt,mt,null);if(typeof nt.then=="function")return K(H,B,G,nc(nt),mt);if(nt.$$typeof===q)return K(H,B,G,qu(B,nt),mt);rc(B,nt)}return null}function bt(H,B,G,nt){for(var mt=null,Ot=null,gt=B,Et=B=0,Me=null;gt!==null&&Et<G.length;Et++){gt.index>Et?(Me=gt,gt=null):Me=gt.sibling;var Ht=X(H,gt,G[Et],nt);if(Ht===null){gt===null&&(gt=Me);break}e&&gt&&Ht.alternate===null&&i(H,gt),B=d(Ht,B,Et),Ot===null?mt=Ht:Ot.sibling=Ht,Ot=Ht,gt=Me}if(Et===G.length)return a(H,gt),qt&&Ts(H,Et),mt;if(gt===null){for(;Et<G.length;Et++)gt=st(H,G[Et],nt),gt!==null&&(B=d(gt,B,Et),Ot===null?mt=gt:Ot.sibling=gt,Ot=gt);return qt&&Ts(H,Et),mt}for(gt=l(gt);Et<G.length;Et++)Me=K(gt,H,Et,G[Et],nt),Me!==null&&(e&&Me.alternate!==null&&gt.delete(Me.key===null?Et:Me.key),B=d(Me,B,Et),Ot===null?mt=Me:Ot.sibling=Me,Ot=Me);return e&&gt.forEach(function(Ni){return i(H,Ni)}),qt&&Ts(H,Et),mt}function _t(H,B,G,nt){if(G==null)throw Error(s(151));for(var mt=null,Ot=null,gt=B,Et=B=0,Me=null,Ht=G.next();gt!==null&&!Ht.done;Et++,Ht=G.next()){gt.index>Et?(Me=gt,gt=null):Me=gt.sibling;var Ni=X(H,gt,Ht.value,nt);if(Ni===null){gt===null&&(gt=Me);break}e&&gt&&Ni.alternate===null&&i(H,gt),B=d(Ni,B,Et),Ot===null?mt=Ni:Ot.sibling=Ni,Ot=Ni,gt=Me}if(Ht.done)return a(H,gt),qt&&Ts(H,Et),mt;if(gt===null){for(;!Ht.done;Et++,Ht=G.next())Ht=st(H,Ht.value,nt),Ht!==null&&(B=d(Ht,B,Et),Ot===null?mt=Ht:Ot.sibling=Ht,Ot=Ht);return qt&&Ts(H,Et),mt}for(gt=l(gt);!Ht.done;Et++,Ht=G.next())Ht=K(gt,H,Et,Ht.value,nt),Ht!==null&&(e&&Ht.alternate!==null&&gt.delete(Ht.key===null?Et:Ht.key),B=d(Ht,B,Et),Ot===null?mt=Ht:Ot.sibling=Ht,Ot=Ht);return e&&gt.forEach(function(hS){return i(H,hS)}),qt&&Ts(H,Et),mt}function Zt(H,B,G,nt){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case S:t:{for(var mt=G.key;B!==null;){if(B.key===mt){if(mt=G.type,mt===O){if(B.tag===7){a(H,B.sibling),nt=h(B,G.props.children),nt.return=H,H=nt;break t}}else if(B.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===A&&hy(mt)===B.type){a(H,B.sibling),nt=h(B,G.props),rl(nt,G),nt.return=H,H=nt;break t}a(H,B);break}else i(H,B);B=B.sibling}G.type===O?(nt=_s(G.props.children,H.mode,nt,G.key),nt.return=H,H=nt):(nt=Uu(G.type,G.key,G.props,null,H.mode,nt),rl(nt,G),nt.return=H,H=nt)}return T(H);case x:t:{for(mt=G.key;B!==null;){if(B.key===mt)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(H,B.sibling),nt=h(B,G.children||[]),nt.return=H,H=nt;break t}else{a(H,B);break}else i(H,B);B=B.sibling}nt=hf(G,H.mode,nt),nt.return=H,H=nt}return T(H);case A:return mt=G._init,G=mt(G._payload),Zt(H,B,G,nt)}if(pt(G))return bt(H,B,G,nt);if(L(G)){if(mt=L(G),typeof mt!="function")throw Error(s(150));return G=mt.call(G),_t(H,B,G,nt)}if(typeof G.then=="function")return Zt(H,B,nc(G),nt);if(G.$$typeof===q)return Zt(H,B,qu(H,G),nt);rc(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(H,B.sibling),nt=h(B,G),nt.return=H,H=nt):(a(H,B),nt=cf(G,H.mode,nt),nt.return=H,H=nt),T(H)):a(H,B)}return function(H,B,G,nt){try{nl=0;var mt=Zt(H,B,G,nt);return wa=null,mt}catch(gt){if(gt===Yo||gt===$u)throw gt;var Ot=hn(29,gt,null,H.mode);return Ot.lanes=nt,Ot.return=H,Ot}finally{}}}var Aa=fy(!0),dy=fy(!1),Cn=et(null),ir=null;function gi(e){var i=e.alternate;lt(xe,xe.current&1),lt(Cn,e),ir===null&&(i===null||Ea.current!==null||i.memoizedState!==null)&&(ir=e)}function my(e){if(e.tag===22){if(lt(xe,xe.current),lt(Cn,e),ir===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ir=e)}}else pi()}function pi(){lt(xe,xe.current),lt(Cn,Cn.current)}function kr(e){ct(Cn),ir===e&&(ir=null),ct(xe)}var xe=et(0);function ic(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Pd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ff(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $f={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=gn(),h=fi(l);h.payload=i,a!=null&&(h.callback=a),i=di(e,h,l),i!==null&&(pn(i,e,l),Qo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=gn(),h=fi(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=di(e,h,l),i!==null&&(pn(i,e,l),Qo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=gn(),l=fi(a);l.tag=2,i!=null&&(l.callback=i),i=di(e,l,a),i!==null&&(pn(i,e,a),Qo(i,e,a))}};function gy(e,i,a,l,h,d,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,T):i.prototype&&i.prototype.isPureReactComponent?!Uo(a,l)||!Uo(h,d):!0}function py(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&$f.enqueueReplaceState(i,i.state,null)}function Cs(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=E({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var sc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yy(e){sc(e)}function vy(e){console.error(e)}function _y(e){sc(e)}function ac(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gf(e,i,a){return a=fi(a),a.tag=3,a.payload={element:null},a.callback=function(){ac(e,i)},a}function Ty(e){return e=fi(e),e.tag=3,e}function by(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Ey(i,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Ey(i,a,l),typeof h!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function h1(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fo(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ir===null?pd():a.alternate===null&&he===0&&(he=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Tf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),vd(e,l,h)),!1;case 22:return a.flags|=65536,l===Tf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),vd(e,l,h)),!1}throw Error(s(435,a.tag))}return vd(e,l,h),pd(),!1}if(qt)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==mf&&(e=Error(s(422),{cause:l}),qo(wn(e,a)))):(l!==mf&&(i=Error(s(423),{cause:l}),qo(wn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=wn(l,a),h=Gf(e.stateNode,l,h),wf(e,h),he!==4&&(he=2)),!1;var d=Error(s(520),{cause:l});if(d=wn(d,a),cl===null?cl=[d]:cl.push(d),he!==4&&(he=2),i===null)return!0;l=wn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Gf(a.stateNode,l,e),wf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(bi===null||!bi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ty(h),by(h,e,a,l),wf(a,h),!1}a=a.return}while(a!==null);return!1}var Sy=Error(s(461)),Oe=!1;function Ue(e,i,a,l){i.child=e===null?dy(i,null,a,l):Aa(i,e.child,a,l)}function wy(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var T={};for(var w in l)w!=="ref"&&(T[w]=l[w])}else T=l;return As(i),l=If(e,i,a,T,d,h),w=Nf(),e!==null&&!Oe?(Df(e,i,h),Lr(e,i,h)):(qt&&w&&ff(i),i.flags|=1,Ue(e,i,l,h),i.child)}function Ay(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ry(e,i,d,l,h)):(e=Uu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!td(e,h)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:Uo,a(T,l)&&e.ref===i.ref)return Lr(e,i,h)}return i.flags|=1,e=Nr(d,l),e.ref=i.ref,e.return=i,i.child=e}function Ry(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Uo(d,l)&&e.ref===i.ref)if(Oe=!1,i.pendingProps=l=d,td(e,h))(e.flags&131072)!==0&&(Oe=!0);else return i.lanes=e.lanes,Lr(e,i,h)}return Yf(e,i,a,l,h)}function xy(e,i,a){var l=i.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Cy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fu(i,d!==null?d.cachePool:null),d!==null?Rp(i,d):Rf(),my(i);else return i.lanes=i.childLanes=536870912,Cy(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Fu(i,d.cachePool),Rp(i,d),pi(),i.memoizedState=null):(e!==null&&Fu(i,null),Rf(),pi());return Ue(e,i,h,a),i.child}function Cy(e,i,a,l){var h=Ef();return h=h===null?null:{parent:Re._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Fu(i,null),Rf(),my(i),e!==null&&Fo(e,i,l,!0),null}function oc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Yf(e,i,a,l,h){return As(i),a=If(e,i,a,l,void 0,h),l=Nf(),e!==null&&!Oe?(Df(e,i,h),Lr(e,i,h)):(qt&&l&&ff(i),i.flags|=1,Ue(e,i,a,h),i.child)}function Iy(e,i,a,l,h,d){return As(i),i.updateQueue=null,a=Cp(i,l,a,h),xp(e),l=Nf(),e!==null&&!Oe?(Df(e,i,d),Lr(e,i,d)):(qt&&l&&ff(i),i.flags|=1,Ue(e,i,a,d),i.child)}function Ny(e,i,a,l,h){if(As(i),i.stateNode===null){var d=ga,T=a.contextType;typeof T=="object"&&T!==null&&(d=Ge(T)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=$f,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},bf(i),T=a.contextType,d.context=typeof T=="object"&&T!==null?Ge(T):ga,d.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ff(i,a,T,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&$f.enqueueReplaceState(d,d.state,null),Wo(i,l,d,h),Ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var w=i.memoizedProps,M=Cs(a,w);d.props=M;var Y=d.context,tt=a.contextType;T=ga,typeof tt=="object"&&tt!==null&&(T=Ge(tt));var st=a.getDerivedStateFromProps;tt=typeof st=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,tt||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||Y!==T)&&py(i,d,l,T),hi=!1;var X=i.memoizedState;d.state=X,Wo(i,l,d,h),Ko(),Y=i.memoizedState,w||X!==Y||hi?(typeof st=="function"&&(Ff(i,a,st,l),Y=i.memoizedState),(M=hi||gy(i,a,M,l,X,Y,T))?(tt||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=T,l=M):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Sf(e,i),T=i.memoizedProps,tt=Cs(a,T),d.props=tt,st=i.pendingProps,X=d.context,Y=a.contextType,M=ga,typeof Y=="object"&&Y!==null&&(M=Ge(Y)),w=a.getDerivedStateFromProps,(Y=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==st||X!==M)&&py(i,d,l,M),hi=!1,X=i.memoizedState,d.state=X,Wo(i,l,d,h),Ko();var K=i.memoizedState;T!==st||X!==K||hi||e!==null&&e.dependencies!==null&&Hu(e.dependencies)?(typeof w=="function"&&(Ff(i,a,w,l),K=i.memoizedState),(tt=hi||gy(i,a,tt,l,X,K,M)||e!==null&&e.dependencies!==null&&Hu(e.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,M)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===e.memoizedProps&&X===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&X===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=M,l=tt):(typeof d.componentDidUpdate!="function"||T===e.memoizedProps&&X===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&X===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,oc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Aa(i,e.child,null,h),i.child=Aa(i,null,a,h)):Ue(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Lr(e,i,h),e}function Dy(e,i,a,l){return Ho(),i.flags|=256,Ue(e,i,a,l),i.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(e){return{baseLanes:e,cachePool:vp()}}function Kf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=In),e}function Oy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,T;if((T=d)||(T=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?gi(i):pi(),qt){var w=ce,M;if(M=w){t:{for(M=w,w=rr;M.nodeType!==8;){if(!w){w=null;break t}if(M=jn(M.nextSibling),M===null){w=null;break t}}w=M}w!==null?(i.memoizedState={dehydrated:w,treeContext:Es!==null?{id:Dr,overflow:Or}:null,retryLane:536870912,hydrationErrors:null},M=hn(18,null,null,0),M.stateNode=w,M.return=i,i.child=M,nn=i,ce=null,M=!0):M=!1}M||Ss(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Pd(w)?i.lanes=32:i.lanes=536870912,null;kr(i)}return w=l.children,l=l.fallback,h?(pi(),h=i.mode,w=lc({mode:"hidden",children:w},h),l=_s(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=Qf(a),h.childLanes=Kf(e,T,a),i.memoizedState=Xf,l):(gi(i),Wf(i,w))}if(M=e.memoizedState,M!==null&&(w=M.dehydrated,w!==null)){if(d)i.flags&256?(gi(i),i.flags&=-257,i=Zf(e,i,a)):i.memoizedState!==null?(pi(),i.child=e.child,i.flags|=128,i=null):(pi(),h=l.fallback,w=i.mode,l=lc({mode:"visible",children:l.children},w),h=_s(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Aa(i,e.child,null,a),l=i.child,l.memoizedState=Qf(a),l.childLanes=Kf(e,T,a),i.memoizedState=Xf,i=h);else if(gi(i),Pd(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var Y=T.dgst;T=Y,l=Error(s(419)),l.stack="",l.digest=T,qo({value:l,source:null,stack:null}),i=Zf(e,i,a)}else if(Oe||Fo(e,i,a,!1),T=(a&e.childLanes)!==0,Oe||T){if(T=ee,T!==null&&(l=a&-a,l=(l&42)!==0?1:ri(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,ma(e,l),pn(T,e,l),Sy;w.data==="$?"||pd(),i=Zf(e,i,a)}else w.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=M.treeContext,ce=jn(w.nextSibling),nn=i,qt=!0,bs=null,rr=!1,e!==null&&(Rn[xn++]=Dr,Rn[xn++]=Or,Rn[xn++]=Es,Dr=e.id,Or=e.overflow,Es=i),i=Wf(i,l.children),i.flags|=4096);return i}return h?(pi(),h=l.fallback,w=i.mode,M=e.child,Y=M.sibling,l=Nr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,Y!==null?h=Nr(Y,h):(h=_s(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=e.child.memoizedState,w===null?w=Qf(a):(M=w.cachePool,M!==null?(Y=Re._currentValue,M=M.parent!==Y?{parent:Y,pool:Y}:M):M=vp(),w={baseLanes:w.baseLanes|a,cachePool:M}),h.memoizedState=w,h.childLanes=Kf(e,T,a),i.memoizedState=Xf,l):(gi(i),a=e.child,e=a.sibling,a=Nr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(T=i.deletions,T===null?(i.deletions=[e],i.flags|=16):T.push(e)),i.child=a,i.memoizedState=null,a)}function Wf(e,i){return i=lc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function lc(e,i){return e=hn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Zf(e,i,a){return Aa(i,e.child,null,a),e=Wf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Py(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),pf(e.return,i,a)}function Jf(e,i,a,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function My(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ue(e,i,l.children,a),l=xe.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Py(e,a,i);else if(e.tag===19)Py(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(lt(xe,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&ic(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Jf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&ic(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Jf(i,!0,a,null,d);break;case"together":Jf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Lr(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ti|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Fo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Nr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Nr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function td(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Hu(e)))}function f1(e,i,a){switch(i.tag){case 3:te(i,i.stateNode.containerInfo),ci(i,Re,e.memoizedState.cache),Ho();break;case 27:case 5:ni(i);break;case 4:te(i,i.stateNode.containerInfo);break;case 10:ci(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(gi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Oy(e,i,a):(gi(i),e=Lr(e,i,a),e!==null?e.sibling:null);gi(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fo(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return My(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(xe,xe.current),l)break;return null;case 22:case 23:return i.lanes=0,xy(e,i,a);case 24:ci(i,Re,e.memoizedState.cache)}return Lr(e,i,a)}function Vy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Oe=!0;else{if(!td(e,a)&&(i.flags&128)===0)return Oe=!1,f1(e,i,a);Oe=(e.flags&131072)!==0}else Oe=!1,qt&&(i.flags&1048576)!==0&&hp(i,Bu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")uf(l)?(e=Cs(l,e),i.tag=1,i=Ny(null,i,l,e,a)):(i.tag=0,i=Yf(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===Z){i.tag=11,i=wy(null,i,l,e,a);break t}else if(h===P){i.tag=14,i=Ay(null,i,l,e,a);break t}}throw i=At(l)||l,Error(s(306,i,""))}}return i;case 0:return Yf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Cs(l,i.pendingProps),Ny(e,i,l,h,a);case 3:t:{if(te(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Sf(e,i),Wo(i,l,null,a);var T=i.memoizedState;if(l=T.cache,ci(i,Re,l),l!==d.cache&&yf(i,[Re],a,!0),Ko(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Dy(e,i,l,a);break t}else if(l!==h){h=wn(Error(s(424)),i),qo(h),i=Dy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=jn(e.firstChild),nn=i,qt=!0,bs=null,rr=!0,a=dy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ho(),l===h){i=Lr(e,i,a);break t}Ue(e,i,l,a)}i=i.child}return i;case 26:return oc(e,i),e===null?(a=U0(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=bc(wt.current).createElement(a),l[Se]=i,l[pe]=e,Be(l,a,e),fe(l),i.stateNode=l):i.memoizedState=U0(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ni(i),e===null&&qt&&(l=i.stateNode=k0(i.type,i.pendingProps,wt.current),nn=i,rr=!0,h=ce,Ai(i.type)?(Md=h,ce=jn(l.firstChild)):ce=h),Ue(e,i,i.pendingProps.children,a),oc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=ce)&&(l=z1(l,i.type,i.pendingProps,rr),l!==null?(i.stateNode=l,nn=i,ce=jn(l.firstChild),rr=!1,h=!0):h=!1),h||Ss(i)),ni(i),h=i.type,d=i.pendingProps,T=e!==null?e.memoizedProps:null,l=d.children,Nd(h,d)?l=null:T!==null&&Nd(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=If(e,i,i1,null,null,a),_l._currentValue=h),oc(e,i),Ue(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=ce)&&(a=B1(a,i.pendingProps,rr),a!==null?(i.stateNode=a,nn=i,ce=null,e=!0):e=!1),e||Ss(i)),null;case 13:return Oy(e,i,a);case 4:return te(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Aa(i,null,l,a):Ue(e,i,l,a),i.child;case 11:return wy(e,i,i.type,i.pendingProps,a);case 7:return Ue(e,i,i.pendingProps,a),i.child;case 8:return Ue(e,i,i.pendingProps.children,a),i.child;case 12:return Ue(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ci(i,i.type,l.value),Ue(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,As(i),h=Ge(h),l=l(h),i.flags|=1,Ue(e,i,l,a),i.child;case 14:return Ay(e,i,i.type,i.pendingProps,a);case 15:return Ry(e,i,i.type,i.pendingProps,a);case 19:return My(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=lc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Nr(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return xy(e,i,a);case 24:return As(i),l=Ge(Re),e===null?(h=Ef(),h===null&&(h=ee,d=vf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},bf(i),ci(i,Re,h)):((e.lanes&a)!==0&&(Sf(e,i),Wo(i,null,null,a),Ko()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ci(i,Re,l)):(l=d.cache,ci(i,Re,l),l!==h.cache&&yf(i,[Re],a,!0))),Ue(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function jr(e){e.flags|=4}function ky(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!F0(i)){if(i=Cn.current,i!==null&&((zt&4194048)===zt?ir!==null:(zt&62914560)!==zt&&(zt&536870912)===0||i!==ir))throw Xo=Tf,_p;e.flags|=8192}}function uc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?To():536870912,e.lanes|=i,Ia|=i)}function il(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function d1(e,i,a){var l=i.pendingProps;switch(df(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mr(Re),$n(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Bo(i)?jr(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mp())),oe(i),null;case 26:return a=i.memoizedState,e===null?(jr(i),a!==null?(oe(i),ky(i,a)):(oe(i),i.flags&=-16777217)):a?a!==e.memoizedState?(jr(i),oe(i),ky(i,a)):(oe(i),i.flags&=-16777217):(e.memoizedProps!==l&&jr(i),oe(i),i.flags&=-16777217),null;case 27:yr(i),a=wt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&jr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=vt.current,Bo(i)?fp(i):(e=k0(h,l,a),i.stateNode=e,jr(i))}return oe(i),null;case 5:if(yr(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&jr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(e=vt.current,Bo(i))fp(i);else{switch(h=bc(wt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Se]=i,e[pe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Be(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&jr(i)}}return oe(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&jr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=wt.current,Bo(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I0(e.nodeValue,a)),e||Ss(i)}else e=bc(e).createTextNode(l),e[Se]=i,i.stateNode=e}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Bo(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Se]=i}else Ho(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else h=mp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(kr(i),i):(kr(i),null)}if(kr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),uc(i,i.updateQueue),oe(i),null;case 4:return $n(),e===null&&Ad(i.stateNode.containerInfo),oe(i),null;case 10:return Mr(i.type),oe(i),null;case 19:if(ct(xe),h=i.memoizedState,h===null)return oe(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)il(h,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=ic(e),d!==null){for(i.flags|=128,il(h,!1),e=d.updateQueue,i.updateQueue=e,uc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)cp(a,e),a=a.sibling;return lt(xe,xe.current&1|2),i.child}e=e.sibling}h.tail!==null&&vn()>fc&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304)}else{if(!l)if(e=ic(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,uc(i,e),il(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qt)return oe(i),null}else 2*vn()-h.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,l=!0,il(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,e=xe.current,lt(xe,l?e&1|2:e&1),i):(oe(i),null);case 22:case 23:return kr(i),xf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&uc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&ct(Rs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mr(Re),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function m1(e,i){switch(df(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Mr(Re),$n(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return yr(i),null;case 13:if(kr(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ho()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return ct(xe),null;case 4:return $n(),null;case 10:return Mr(i.type),null;case 22:case 23:return kr(i),xf(),e!==null&&ct(Rs),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Mr(Re),null;case 25:return null;default:return null}}function Ly(e,i){switch(df(i),i.tag){case 3:Mr(Re),$n();break;case 26:case 27:case 5:yr(i);break;case 4:$n();break;case 13:kr(i);break;case 19:ct(xe);break;case 10:Mr(i.type);break;case 22:case 23:kr(i),xf(),e!==null&&ct(Rs);break;case 24:Mr(Re)}}function sl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==h)}}catch(w){Jt(i,i.return,w)}}function yi(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var T=l.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,h=i;var M=a,Y=w;try{Y()}catch(tt){Jt(h,M,tt)}}}l=l.next}while(l!==d)}}catch(tt){Jt(i,i.return,tt)}}function jy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ap(i,a)}catch(l){Jt(e,e.return,l)}}}function Uy(e,i,a){a.props=Cs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,i,l)}}function al(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){Jt(e,i,h)}}function sr(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Jt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Jt(e,i,h)}else a.current=null}function zy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Jt(e,e.return,h)}}function ed(e,i,a){try{var l=e.stateNode;V1(l,e.type,a,i),l[pe]=i}catch(h){Jt(e,e.return,h)}}function By(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ai(e.type)||e.tag===4}function nd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ai(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&(l===27&&Ai(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(rd(e,i,a),e=e.sibling;e!==null;)rd(e,i,a),e=e.sibling}function cc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ai(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(cc(e,i,a),e=e.sibling;e!==null;)cc(e,i,a),e=e.sibling}function Hy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Be(i,l,a),i[Se]=e,i[pe]=a}catch(d){Jt(e,e.return,d)}}var Ur=!1,me=!1,id=!1,qy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function g1(e,i){if(e=e.containerInfo,Cd=Cc,e=tp(e),ef(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var T=0,w=-1,M=-1,Y=0,tt=0,st=e,X=null;e:for(;;){for(var K;st!==a||h!==0&&st.nodeType!==3||(w=T+h),st!==d||l!==0&&st.nodeType!==3||(M=T+l),st.nodeType===3&&(T+=st.nodeValue.length),(K=st.firstChild)!==null;)X=st,st=K;for(;;){if(st===e)break e;if(X===a&&++Y===h&&(w=T),X===d&&++tt===l&&(M=T),(K=st.nextSibling)!==null)break;st=X,X=st.parentNode}st=K}a=w===-1||M===-1?null:{start:w,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Id={focusedElem:e,selectionRange:a},Cc=!1,Pe=i;Pe!==null;)if(i=Pe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Pe=e;else for(;Pe!==null;){switch(i=Pe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var bt=Cs(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(bt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){Jt(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Od(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Pe=e;break}Pe=i.return}}function Fy(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vi(e,a),l&4&&sl(5,a);break;case 1:if(vi(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){Jt(a,a.return,T)}else{var h=Cs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(a,a.return,T)}}l&64&&jy(a),l&512&&al(a,a.return);break;case 3:if(vi(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ap(e,i)}catch(T){Jt(a,a.return,T)}}break;case 27:i===null&&l&4&&Hy(a);case 26:case 5:vi(e,a),i===null&&l&4&&zy(a),l&512&&al(a,a.return);break;case 12:vi(e,a);break;case 13:vi(e,a),l&4&&Yy(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=w1.bind(null,a),H1(e,a))));break;case 22:if(l=a.memoizedState!==null||Ur,!l){i=i!==null&&i.memoizedState!==null||me,h=Ur;var d=me;Ur=l,(me=i)&&!d?_i(e,a,(a.subtreeFlags&8772)!==0):vi(e,a),Ur=h,me=d}break;case 30:break;default:vi(e,a)}}function $y(e){var i=e.alternate;i!==null&&(e.alternate=null,$y(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ai(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,sn=!1;function zr(e,i,a){for(a=a.child;a!==null;)Gy(e,i,a),a=a.sibling}function Gy(e,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ue,a)}catch{}switch(a.tag){case 26:me||sr(a,i),zr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||sr(a,i);var l=se,h=sn;Ai(a.type)&&(se=a.stateNode,sn=!1),zr(e,i,a),gl(a.stateNode),se=l,sn=h;break;case 5:me||sr(a,i);case 6:if(l=se,h=sn,se=null,zr(e,i,a),se=l,sn=h,se!==null)if(sn)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{se.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:se!==null&&(sn?(e=se,M0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Sl(e)):M0(se,a.stateNode));break;case 4:l=se,h=sn,se=a.stateNode.containerInfo,sn=!0,zr(e,i,a),se=l,sn=h;break;case 0:case 11:case 14:case 15:me||yi(2,a,i),me||yi(4,a,i),zr(e,i,a);break;case 1:me||(sr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Uy(a,i,l)),zr(e,i,a);break;case 21:zr(e,i,a);break;case 22:me=(l=me)||a.memoizedState!==null,zr(e,i,a),me=l;break;default:zr(e,i,a)}}function Yy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sl(e)}catch(a){Jt(i,i.return,a)}}function p1(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new qy),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new qy),i;default:throw Error(s(435,e.tag))}}function sd(e,i){var a=p1(e);i.forEach(function(l){var h=A1.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function fn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,T=i,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(Ai(w.type)){se=w.stateNode,sn=!1;break t}break;case 5:se=w.stateNode,sn=!1;break t;case 3:case 4:se=w.stateNode.containerInfo,sn=!0;break t}w=w.return}if(se===null)throw Error(s(160));Gy(d,T,h),se=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Xy(i,e),i=i.sibling}var Ln=null;function Xy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(i,e),dn(e),l&4&&(yi(3,e,e.return),sl(3,e),yi(5,e,e.return));break;case 1:fn(i,e),dn(e),l&512&&(me||a===null||sr(a,a.return)),l&64&&Ur&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ln;if(fn(i,e),dn(e),l&512&&(me||a===null||sr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[rs]||d[Se]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,a),d[Se]=e,fe(d),l=d;break t;case"link":var T=H0("link","href",h).get(l+(a.href||""));if(T){for(var w=0;w<T.length;w++)if(d=T[w],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(w,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;case"meta":if(T=H0("meta","content",h).get(l+(a.content||""))){for(w=0;w<T.length;w++)if(d=T[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(w,1);break e}}d=h.createElement(l),Be(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Se]=e,fe(d),l=d}e.stateNode=l}else q0(h,e.type,e.stateNode);else e.stateNode=B0(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q0(h,e.type,e.stateNode):B0(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ed(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(i,e),dn(e),l&512&&(me||a===null||sr(a,a.return)),a!==null&&l&4&&ed(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,e),dn(e),l&512&&(me||a===null||sr(a,a.return)),e.flags&32){h=e.stateNode;try{En(h,"")}catch(K){Jt(e,e.return,K)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,ed(e,h,a!==null?a.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(fn(i,e),dn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(K){Jt(e,e.return,K)}}break;case 3:if(Ac=null,h=Ln,Ln=Sc(i.containerInfo),fn(i,e),Ln=h,dn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Sl(i.containerInfo)}catch(K){Jt(e,e.return,K)}id&&(id=!1,Qy(e));break;case 4:l=Ln,Ln=Sc(e.stateNode.containerInfo),fn(i,e),dn(e),Ln=l;break;case 12:fn(i,e),dn(e);break;case 13:fn(i,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hd=vn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sd(e,l)));break;case 22:h=e.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,Y=Ur,tt=me;if(Ur=Y||h,me=tt||M,fn(i,e),me=tt,Ur=Y,dn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||M||Ur||me||Is(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){M=a=i;try{if(d=M.stateNode,h)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=M.stateNode;var st=M.memoizedProps.style,X=st!=null&&st.hasOwnProperty("display")?st.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(K){Jt(M,M.return,K)}}}else if(i.tag===6){if(a===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(K){Jt(M,M.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,sd(e,a))));break;case 19:fn(i,e),dn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sd(e,l)));break;case 30:break;case 21:break;default:fn(i,e),dn(e)}}function dn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(By(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=nd(e);cc(e,d,h);break;case 5:var T=a.stateNode;a.flags&32&&(En(T,""),a.flags&=-33);var w=nd(e);cc(e,w,T);break;case 3:case 4:var M=a.stateNode.containerInfo,Y=nd(e);rd(e,Y,M);break;default:throw Error(s(161))}}catch(tt){Jt(e,e.return,tt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function vi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(e,i.alternate,i),i=i.sibling}function Is(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:yi(4,i,i.return),Is(i);break;case 1:sr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Uy(i,i.return,a),Is(i);break;case 27:gl(i.stateNode);case 26:case 5:sr(i,i.return),Is(i);break;case 22:i.memoizedState===null&&Is(i);break;case 30:Is(i);break;default:Is(i)}e=e.sibling}}function _i(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,T=d.flags;switch(d.tag){case 0:case 11:case 15:_i(h,d,a),sl(4,d);break;case 1:if(_i(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){Jt(l,l.return,Y)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)wp(M[h],w)}catch(Y){Jt(l,l.return,Y)}}a&&T&64&&jy(d),al(d,d.return);break;case 27:Hy(d);case 26:case 5:_i(h,d,a),a&&l===null&&T&4&&zy(d),al(d,d.return);break;case 12:_i(h,d,a);break;case 13:_i(h,d,a),a&&T&4&&Yy(h,d);break;case 22:d.memoizedState===null&&_i(h,d,a),al(d,d.return);break;case 30:break;default:_i(h,d,a)}i=i.sibling}}function ad(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&$o(a))}function od(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e))}function ar(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ky(e,i,a,l),i=i.sibling}function Ky(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ar(e,i,a,l),h&2048&&sl(9,i);break;case 1:ar(e,i,a,l);break;case 3:ar(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$o(e)));break;case 12:if(h&2048){ar(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,T=d.id,w=d.onPostCommit;typeof w=="function"&&w(T,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){Jt(i,i.return,M)}}else ar(e,i,a,l);break;case 13:ar(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,T=i.alternate,i.memoizedState!==null?d._visibility&2?ar(e,i,a,l):ol(e,i):d._visibility&2?ar(e,i,a,l):(d._visibility|=2,Ra(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ad(T,i);break;case 24:ar(e,i,a,l),h&2048&&od(i.alternate,i);break;default:ar(e,i,a,l)}}function Ra(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,T=i,w=a,M=l,Y=T.flags;switch(T.tag){case 0:case 11:case 15:Ra(d,T,w,M,h),sl(8,T);break;case 23:break;case 22:var tt=T.stateNode;T.memoizedState!==null?tt._visibility&2?Ra(d,T,w,M,h):ol(d,T):(tt._visibility|=2,Ra(d,T,w,M,h)),h&&Y&2048&&ad(T.alternate,T);break;case 24:Ra(d,T,w,M,h),h&&Y&2048&&od(T.alternate,T);break;default:Ra(d,T,w,M,h)}i=i.sibling}}function ol(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ol(a,l),h&2048&&ad(l.alternate,l);break;case 24:ol(a,l),h&2048&&od(l.alternate,l);break;default:ol(a,l)}i=i.sibling}}var ll=8192;function xa(e){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)Wy(e),e=e.sibling}function Wy(e){switch(e.tag){case 26:xa(e),e.flags&ll&&e.memoizedState!==null&&eS(Ln,e.memoizedState,e.memoizedProps);break;case 5:xa(e);break;case 3:case 4:var i=Ln;Ln=Sc(e.stateNode.containerInfo),xa(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ll,ll=16777216,xa(e),ll=i):xa(e));break;default:xa(e)}}function Zy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ul(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,t0(l,e)}Zy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jy(e),e=e.sibling}function Jy(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&yi(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,hc(e)):ul(e);break;default:ul(e)}}function hc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pe=l,t0(l,e)}Zy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:yi(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,hc(i));break;default:hc(i)}e=e.sibling}}function t0(e,i){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:yi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pe=l;else t:for(a=e;Pe!==null;){l=Pe;var h=l.sibling,d=l.return;if($y(l),l===a){Pe=null;break t}if(h!==null){h.return=d,Pe=h;break t}Pe=d}}}var y1={getCacheForType:function(e){var i=Ge(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},v1=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ee=null,Pt=null,zt=0,Xt=0,mn=null,Ei=!1,Ca=!1,ld=!1,Br=0,he=0,Ti=0,Ns=0,ud=0,In=0,Ia=0,cl=null,an=null,cd=!1,hd=0,fc=1/0,dc=null,bi=null,ze=0,Si=null,Na=null,Da=0,fd=0,dd=null,e0=null,hl=0,md=null;function gn(){if((Yt&2)!==0&&zt!==0)return zt&-zt;if(Q.T!==null){var e=va;return e!==0?e:Td()}return ii()}function n0(){In===0&&(In=(zt&536870912)===0||qt?Eo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),In}function pn(e,i,a){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),wi(e,zt,In,!1)),_r(e,a),((Yt&2)===0||e!==ee)&&(e===ee&&((Yt&2)===0&&(Ns|=a),he===4&&wi(e,zt,In,!1)),or(e))}function r0(e,i,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||ns(e,i),h=l?T1(e,i):yd(e,i,!0),d=l;do{if(h===0){Ca&&!l&&wi(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!_1(a)){h=yd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var w=e;h=cl;var M=w.current.memoizedState.isDehydrated;if(M&&(Oa(w,T).flags|=256),T=yd(w,T,!1),T!==2){if(ld&&!M){w.errorRecoveryDisabledLanes|=d,Ns|=d,h=4;break t}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=T}if(d=!1,h!==2)continue}}if(h===1){Oa(e,0),wi(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:wi(l,i,In,!Ei);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=hd+300-vn(),10<h)){if(wi(l,i,In,!Ei),Qs(l,0,!0)!==0)break t;l.timeoutHandle=O0(i0.bind(null,l,a,an,dc,cd,i,In,Ns,Ia,Ei,d,2,-0,0),h);break t}i0(l,a,an,dc,cd,i,In,Ns,Ia,Ei,d,0,-0,0)}}break}while(!0);or(e)}function i0(e,i,a,l,h,d,T,w,M,Y,tt,st,X,K){if(e.timeoutHandle=-1,st=i.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(vl={stylesheets:null,count:0,unsuspend:tS},Wy(i),st=nS(),st!==null)){e.cancelPendingCommit=st(h0.bind(null,e,i,d,a,l,h,T,w,M,tt,1,X,K)),wi(e,d,T,!Y);return}h0(e,i,d,a,l,h,T,w,M)}function _1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!cn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wi(e,i,a,l){i&=~ud,i&=~Ns,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-$e(h),T=1<<d;l[d]=-1,h&=~T}a!==0&&Gn(e,a,i)}function mc(){return(Yt&6)===0?(fl(0),!1):!0}function gd(){if(Pt!==null){if(Xt===0)var e=Pt.return;else e=Pt,Pr=ws=null,Of(e),wa=null,nl=0,e=Pt;for(;e!==null;)Ly(e.alternate,e),e=e.return;Pt=null}}function Oa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,L1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),gd(),ee=e,Pt=a=Nr(e.current,null),zt=i,Xt=0,mn=null,Ei=!1,Ca=ns(e,i),ld=!1,Ia=In=ud=Ns=Ti=he=0,an=cl=null,cd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-$e(l),d=1<<h;i|=e[h],l&=~d}return Br=i,ku(),a}function s0(e,i){It=null,Q.H=ec,i===Yo||i===$u?(i=bp(),Xt=3):i===_p?(i=bp(),Xt=4):Xt=i===Sy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,Pt===null&&(he=1,ac(e,wn(i,e.current)))}function a0(){var e=Q.H;return Q.H=ec,e===null?ec:e}function o0(){var e=Q.A;return Q.A=y1,e}function pd(){he=4,Ei||(zt&4194048)!==zt&&Cn.current!==null||(Ca=!0),(Ti&134217727)===0&&(Ns&134217727)===0||ee===null||wi(ee,zt,In,!1)}function yd(e,i,a){var l=Yt;Yt|=2;var h=a0(),d=o0();(ee!==e||zt!==i)&&(dc=null,Oa(e,i)),i=!1;var T=he;t:do try{if(Xt!==0&&Pt!==null){var w=Pt,M=mn;switch(Xt){case 8:gd(),T=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var Y=Xt;if(Xt=0,mn=null,Pa(e,w,M,Y),a&&Ca){T=0;break t}break;default:Y=Xt,Xt=0,mn=null,Pa(e,w,M,Y)}}E1(),T=he;break}catch(tt){s0(e,tt)}while(!0);return i&&e.shellSuspendCounter++,Pr=ws=null,Yt=l,Q.H=h,Q.A=d,Pt===null&&(ee=null,zt=0,ku()),T}function E1(){for(;Pt!==null;)l0(Pt)}function T1(e,i){var a=Yt;Yt|=2;var l=a0(),h=o0();ee!==e||zt!==i?(dc=null,fc=vn()+500,Oa(e,i)):Ca=ns(e,i);t:do try{if(Xt!==0&&Pt!==null){i=Pt;var d=mn;e:switch(Xt){case 1:Xt=0,mn=null,Pa(e,i,d,1);break;case 2:case 9:if(Ep(d)){Xt=0,mn=null,u0(i);break}i=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),or(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Ep(d)?(Xt=0,mn=null,u0(i)):(Xt=0,mn=null,Pa(e,i,d,7));break;case 5:var T=null;switch(Pt.tag){case 26:T=Pt.memoizedState;case 5:case 27:var w=Pt;if(!T||F0(T)){Xt=0,mn=null;var M=w.sibling;if(M!==null)Pt=M;else{var Y=w.return;Y!==null?(Pt=Y,gc(Y)):Pt=null}break e}}Xt=0,mn=null,Pa(e,i,d,5);break;case 6:Xt=0,mn=null,Pa(e,i,d,6);break;case 8:gd(),he=6;break t;default:throw Error(s(462))}}b1();break}catch(tt){s0(e,tt)}while(!0);return Pr=ws=null,Q.H=l,Q.A=h,Yt=a,Pt!==null?0:(ee=null,zt=0,ku(),he)}function b1(){for(;Pt!==null&&!po();)l0(Pt)}function l0(e){var i=Vy(e.alternate,e,Br);e.memoizedProps=e.pendingProps,i===null?gc(e):Pt=i}function u0(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Iy(a,i,i.pendingProps,i.type,void 0,zt);break;case 11:i=Iy(a,i,i.pendingProps,i.type.render,i.ref,zt);break;case 5:Of(i);default:Ly(a,i),i=Pt=cp(i,Br),i=Vy(a,i,Br)}e.memoizedProps=e.pendingProps,i===null?gc(e):Pt=i}function Pa(e,i,a,l){Pr=ws=null,Of(i),wa=null,nl=0;var h=i.return;try{if(h1(e,h,i,a,zt)){he=1,ac(e,wn(a,e.current)),Pt=null;return}}catch(d){if(h!==null)throw Pt=h,d;he=1,ac(e,wn(a,e.current)),Pt=null;return}i.flags&32768?(qt||l===1?e=!0:Ca||(zt&536870912)!==0?e=!1:(Ei=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c0(i,e)):gc(i)}function gc(e){var i=e;do{if((i.flags&32768)!==0){c0(i,Ei);return}e=i.return;var a=d1(i.alternate,i,Br);if(a!==null){Pt=a;return}if(i=i.sibling,i!==null){Pt=i;return}Pt=i=e}while(i!==null);he===0&&(he=5)}function c0(e,i){do{var a=m1(e.alternate,e);if(a!==null){a.flags&=32767,Pt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Pt=e;return}Pt=e=a}while(e!==null);he=6,Pt=null}function h0(e,i,a,l,h,d,T,w,M){e.cancelPendingCommit=null;do pc();while(ze!==0);if((Yt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=of,bo(e,a,d,T,w,M),e===ee&&(Pt=ee=null,zt=0),Na=i,Si=e,Da=a,fd=d,dd=h,e0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,R1(Zi,function(){return p0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ot.p,ot.p=2,T=Yt,Yt|=4;try{g1(e,i,a)}finally{Yt=T,ot.p=h,Q.T=l}}ze=1,f0(),d0(),m0()}}function f0(){if(ze===1){ze=0;var e=Si,i=Na,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{Xy(i,e);var d=Id,T=tp(e.containerInfo),w=d.focusedElem,M=d.selectionRange;if(T!==w&&w&&w.ownerDocument&&Jg(w.ownerDocument.documentElement,w)){if(M!==null&&ef(w)){var Y=M.start,tt=M.end;if(tt===void 0&&(tt=Y),"selectionStart"in w)w.selectionStart=Y,w.selectionEnd=Math.min(tt,w.value.length);else{var st=w.ownerDocument||document,X=st&&st.defaultView||window;if(X.getSelection){var K=X.getSelection(),bt=w.textContent.length,_t=Math.min(M.start,bt),Zt=M.end===void 0?_t:Math.min(M.end,bt);!K.extend&&_t>Zt&&(T=Zt,Zt=_t,_t=T);var H=Zg(w,_t),B=Zg(w,Zt);if(H&&B&&(K.rangeCount!==1||K.anchorNode!==H.node||K.anchorOffset!==H.offset||K.focusNode!==B.node||K.focusOffset!==B.offset)){var G=st.createRange();G.setStart(H.node,H.offset),K.removeAllRanges(),_t>Zt?(K.addRange(G),K.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),K.addRange(G))}}}}for(st=[],K=w;K=K.parentNode;)K.nodeType===1&&st.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<st.length;w++){var nt=st[w];nt.element.scrollLeft=nt.left,nt.element.scrollTop=nt.top}}Cc=!!Cd,Id=Cd=null}finally{Yt=h,ot.p=l,Q.T=a}}e.current=i,ze=2}}function d0(){if(ze===2){ze=0;var e=Si,i=Na,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ot.p;ot.p=2;var h=Yt;Yt|=4;try{Fy(e,i.alternate,i)}finally{Yt=h,ot.p=l,Q.T=a}}ze=3}}function m0(){if(ze===4||ze===3){ze=0,hu();var e=Si,i=Na,a=Da,l=e0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ze=5:(ze=0,Na=Si=null,g0(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(bi=null),Ks(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ue,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ot.p,ot.p=2,Q.T=null;try{for(var d=e.onRecoverableError,T=0;T<l.length;T++){var w=l[T];d(w.value,{componentStack:w.stack})}}finally{Q.T=i,ot.p=h}}(Da&3)!==0&&pc(),or(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===md?hl++:(hl=0,md=e):hl=0,fl(0)}}function g0(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,$o(i)))}function pc(e){return f0(),d0(),m0(),p0()}function p0(){if(ze!==5)return!1;var e=Si,i=fd;fd=0;var a=Ks(Da),l=Q.T,h=ot.p;try{ot.p=32>a?32:a,Q.T=null,a=dd,dd=null;var d=Si,T=Da;if(ze=0,Na=Si=null,Da=0,(Yt&6)!==0)throw Error(s(331));var w=Yt;if(Yt|=4,Jy(d.current),Ky(d,d.current,T,a),Yt=w,fl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ue,d)}catch{}return!0}finally{ot.p=h,Q.T=l,g0(e,i)}}function y0(e,i,a){i=wn(a,i),i=Gf(e.stateNode,i,2),e=di(e,i,2),e!==null&&(_r(e,2),or(e))}function Jt(e,i,a){if(e.tag===3)y0(e,e,a);else for(;i!==null;){if(i.tag===3){y0(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(bi===null||!bi.has(l))){e=wn(a,e),a=Ty(2),l=di(i,a,2),l!==null&&(by(a,l,i,e),_r(l,2),or(l));break}}i=i.return}}function vd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new v1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(ld=!0,h.add(a),e=S1.bind(null,e,i,a),i.then(e,e))}function S1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(zt&a)===a&&(he===4||he===3&&(zt&62914560)===zt&&300>vn()-hd?(Yt&2)===0&&Oa(e,0):ud|=a,Ia===zt&&(Ia=0)),or(e)}function v0(e,i){i===0&&(i=To()),e=ma(e,i),e!==null&&(_r(e,i),or(e))}function w1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),v0(e,a)}function A1(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),v0(e,a)}function R1(e,i){return Ki(e,i)}var yc=null,Ma=null,_d=!1,vc=!1,Ed=!1,Ds=0;function or(e){e!==Ma&&e.next===null&&(Ma===null?yc=Ma=e:Ma=Ma.next=e),vc=!0,_d||(_d=!0,C1())}function fl(e,i){if(!Ed&&vc){Ed=!0;do for(var a=!1,l=yc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var T=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=h&~(T&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b0(l,d))}else d=zt,d=Qs(l,l===ee?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ns(l,d)||(a=!0,b0(l,d));l=l.next}while(a);Ed=!1}}function x1(){_0()}function _0(){vc=_d=!1;var e=0;Ds!==0&&(k1()&&(e=Ds),Ds=0);for(var i=vn(),a=null,l=yc;l!==null;){var h=l.next,d=E0(l,i);d===0?(l.next=null,a===null?yc=h:a.next=h,h===null&&(Ma=a)):(a=l,(e!==0||(d&3)!==0)&&(vc=!0)),l=h}fl(e)}function E0(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var T=31-$e(d),w=1<<T,M=h[T];M===-1?((w&a)===0||(w&l)!==0)&&(h[T]=_o(w,i)):M<=i&&(e.expiredLanes|=w),d&=~w}if(i=ee,a=zt,a=Qs(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Wi(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ns(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Wi(l),Ks(a)){case 2:case 8:a=Ys;break;case 32:a=Zi;break;case 268435456:a=Xs;break;default:a=Zi}return l=T0.bind(null,e),a=Ki(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Wi(l),e.callbackPriority=2,e.callbackNode=null,2}function T0(e,i){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(pc()&&e.callbackNode!==a)return null;var l=zt;return l=Qs(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(r0(e,l,i),E0(e,vn()),e.callbackNode!=null&&e.callbackNode===a?T0.bind(null,e):null)}function b0(e,i){if(pc())return null;r0(e,i,!0)}function C1(){j1(function(){(Yt&6)!==0?Ki(yo,x1):_0()})}function Td(){return Ds===0&&(Ds=Eo()),Ds}function S0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function w0(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function I1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=S0((h[pe]||null).action),T=l.submitter;T&&(i=(i=T[pe]||null)?S0(i.formAction):T.getAttribute("formAction"),i!==null&&(d=i,T=null));var w=new ra("action","action",null,l,h);e.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var M=T?w0(h,T):new FormData(h);Bf(a,{pending:!0,data:M,method:h.method,action:d},null,M)}}else typeof d=="function"&&(w.preventDefault(),M=T?w0(h,T):new FormData(h),Bf(a,{pending:!0,data:M,method:h.method,action:d},d,M))},currentTarget:h}]})}}for(var bd=0;bd<af.length;bd++){var Sd=af[bd],N1=Sd.toLowerCase(),D1=Sd[0].toUpperCase()+Sd.slice(1);kn(N1,"on"+D1)}kn(rp,"onAnimationEnd"),kn(ip,"onAnimationIteration"),kn(sp,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Xb,"onTransitionRun"),kn(Qb,"onTransitionStart"),kn(Kb,"onTransitionCancel"),kn(ap,"onTransitionEnd"),Tr("onMouseEnter",["mouseout","mouseover"]),Tr("onMouseLeave",["mouseout","mouseover"]),Tr("onPointerEnter",["pointerout","pointerover"]),Tr("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function A0(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var T=l.length-1;0<=T;T--){var w=l[T],M=w.instance,Y=w.currentTarget;if(w=w.listener,M!==d&&h.isPropagationStopped())break t;d=w,h.currentTarget=Y;try{d(h)}catch(tt){sc(tt)}h.currentTarget=null,d=M}else for(T=0;T<l.length;T++){if(w=l[T],M=w.instance,Y=w.currentTarget,w=w.listener,M!==d&&h.isPropagationStopped())break t;d=w,h.currentTarget=Y;try{d(h)}catch(tt){sc(tt)}h.currentTarget=null,d=M}}}}function Mt(e,i){var a=i[wo];a===void 0&&(a=i[wo]=new Set);var l=e+"__bubble";a.has(l)||(R0(i,e,2,!1),a.add(l))}function wd(e,i,a){var l=0;i&&(l|=4),R0(a,e,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Ad(e){if(!e[_c]){e[_c]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(O1.has(a)||wd(a,!1,e),wd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[_c]||(i[_c]=!0,wd("selectionchange",!1,i))}}function R0(e,i,a,l){switch(K0(i)){case 2:var h=sS;break;case 8:h=aS;break;default:h=Ud}a=h.bind(null,i,a,e),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Rd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var w=l.stateNode.containerInfo;if(w===h)break;if(T===4)for(T=l.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;w!==null;){if(T=Er(w),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){l=d=T;continue t}w=w.parentNode}}l=l.return}Tu(function(){var Y=d,tt=Tn(a),st=[];t:{var X=op.get(e);if(X!==void 0){var K=ra,bt=e;switch(e){case"keypress":if(Zn(a)===0)break t;case"keydown":case"keyup":K=ua;break;case"focusin":bt="focus",K=aa;break;case"focusout":bt="blur",K=aa;break;case"beforeblur":case"afterblur":K=aa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Iu;break;case rp:case ip:case sp:K=oa;break;case ap:K=Du;break;case"scroll":case"scrollend":K=bu;break;case"wheel":K=ca;break;case"copy":case"cut":case"paste":K=la;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Lo;break;case"toggle":case"beforetoggle":K=Pu}var _t=(i&4)!==0,Zt=!_t&&(e==="scroll"||e==="scrollend"),H=_t?X!==null?X+"Capture":null:X;_t=[];for(var B=Y,G;B!==null;){var nt=B;if(G=nt.stateNode,nt=nt.tag,nt!==5&&nt!==26&&nt!==27||G===null||H===null||(nt=cs(B,H),nt!=null&&_t.push(ml(B,nt,G))),Zt)break;B=B.return}0<_t.length&&(X=new K(X,bt,null,a,tt),st.push({event:X,listeners:_t}))}}if((i&7)===0){t:{if(X=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",X&&a!==wr&&(bt=a.relatedTarget||a.fromElement)&&(Er(bt)||bt[_n]))break t;if((K||X)&&(X=tt.window===tt?tt:(X=tt.ownerDocument)?X.defaultView||X.parentWindow:window,K?(bt=a.relatedTarget||a.toElement,K=Y,bt=bt?Er(bt):null,bt!==null&&(Zt=u(bt),_t=bt.tag,bt!==Zt||_t!==5&&_t!==27&&_t!==6)&&(bt=null)):(K=null,bt=Y),K!==bt)){if(_t=Sn,nt="onMouseLeave",H="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(_t=Lo,nt="onPointerLeave",H="onPointerEnter",B="pointer"),Zt=K==null?X:Xn(K),G=bt==null?X:Xn(bt),X=new _t(nt,B+"leave",K,a,tt),X.target=Zt,X.relatedTarget=G,nt=null,Er(tt)===Y&&(_t=new _t(H,B+"enter",bt,a,tt),_t.target=G,_t.relatedTarget=Zt,nt=_t),Zt=nt,K&&bt)e:{for(_t=K,H=bt,B=0,G=_t;G;G=Va(G))B++;for(G=0,nt=H;nt;nt=Va(nt))G++;for(;0<B-G;)_t=Va(_t),B--;for(;0<G-B;)H=Va(H),G--;for(;B--;){if(_t===H||H!==null&&_t===H.alternate)break e;_t=Va(_t),H=Va(H)}_t=null}else _t=null;K!==null&&x0(st,X,K,_t,!1),bt!==null&&Zt!==null&&x0(st,Zt,bt,_t,!0)}}t:{if(X=Y?Xn(Y):window,K=X.nodeName&&X.nodeName.toLowerCase(),K==="select"||K==="input"&&X.type==="file")var mt=Gg;else if(Ae(X))if(Yg)mt=$b;else{mt=qb;var Ot=Hb}else K=X.nodeName,!K||K.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&No(Y.elementType)&&(mt=Gg):mt=Fb;if(mt&&(mt=mt(e,Y))){Ir(st,mt,a,tt);break t}Ot&&Ot(e,X,Y),e==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&li(X,"number",X.value)}switch(Ot=Y?Xn(Y):window,e){case"focusin":(Ae(Ot)||Ot.contentEditable==="true")&&(ha=Ot,nf=Y,zo=null);break;case"focusout":zo=nf=ha=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,ep(st,a,tt);break;case"selectionchange":if(Yb)break;case"keydown":case"keyup":ep(st,a,tt)}var gt;if(er)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else jt?W(e,a)&&(Et="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(_&&a.locale!=="ko"&&(jt||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&jt&&(gt=Oo()):(Wn=tt,ui="value"in Wn?Wn.value:Wn.textContent,jt=!0)),Ot=Ec(Y,Et),0<Ot.length&&(Et=new Vo(Et,e,null,a,tt),st.push({event:Et,listeners:Ot}),gt?Et.data=gt:(gt=ut(a),gt!==null&&(Et.data=gt)))),(gt=y?we(e,a):Ut(e,a))&&(Et=Ec(Y,"onBeforeInput"),0<Et.length&&(Ot=new Vo("onBeforeInput","beforeinput",null,a,tt),st.push({event:Ot,listeners:Et}),Ot.data=gt)),I1(st,e,Y,a,tt)}A0(st,i)})}function ml(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Ec(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=cs(e,a),h!=null&&l.unshift(ml(e,h,d)),h=cs(e,i),h!=null&&l.push(ml(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function x0(e,i,a,l,h){for(var d=i._reactName,T=[];a!==null&&a!==l;){var w=a,M=w.alternate,Y=w.stateNode;if(w=w.tag,M!==null&&M===l)break;w!==5&&w!==26&&w!==27||Y===null||(M=Y,h?(Y=cs(a,d),Y!=null&&T.unshift(ml(a,Y,M))):h||(Y=cs(a,d),Y!=null&&T.push(ml(a,Y,M)))),a=a.return}T.length!==0&&e.push({event:i,listeners:T})}var P1=/\r\n?/g,M1=/\u0000|\uFFFD/g;function C0(e){return(typeof e=="string"?e:""+e).replace(P1,`
`).replace(M1,"")}function I0(e,i){return i=C0(i),C0(e)===i}function Tc(){}function Wt(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(e,""+l);break;case"className":Qn(e,"class",l);break;case"tabIndex":Qn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(e,a,l);break;case"style":Io(e,l,d);break;case"data":if(i!=="object"){Qn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=na(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Wt(e,i,"name",h.name,h,null),Wt(e,i,"formEncType",h.formEncType,h,null),Wt(e,i,"formMethod",h.formMethod,h,null),Wt(e,i,"formTarget",h.formTarget,h,null)):(Wt(e,i,"encType",h.encType,h,null),Wt(e,i,"method",h.method,h,null),Wt(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=na(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Tc);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=na(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),oi(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":oi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qh.get(a)||a,oi(e,a,l))}}function xd(e,i,a,l,h,d){switch(a){case"style":Io(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ws.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[pe]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):oi(e,a,l)}}}function Be(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,d,T,a,null)}}h&&Wt(e,i,"srcSet",a.srcSet,a,null),l&&Wt(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var w=d=T=h=null,M=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var tt=a[l];if(tt!=null)switch(l){case"name":h=tt;break;case"type":T=tt;break;case"checked":M=tt;break;case"defaultChecked":Y=tt;break;case"value":d=tt;break;case"defaultValue":w=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(s(137,i));break;default:Wt(e,i,l,tt,a,null)}}os(e,d,w,M,Y,T,h,!1),ea(e);return;case"select":Mt("invalid",e),l=T=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":T=w;break;case"multiple":l=w;default:Wt(e,i,h,w,a,null)}i=d,a=T,e.multiple=!!l,i!=null?Sr(e,!!l,i,!1):a!=null&&Sr(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=h=l=null;for(T in a)if(a.hasOwnProperty(T)&&(w=a[T],w!=null))switch(T){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Wt(e,i,T,w,a,null)}ls(e,l,h,d),ea(e);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(l=a[M],l!=null))switch(M){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Wt(e,i,M,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<dl.length;l++)Mt(dl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,Y,l,a,null)}return;default:if(No(i)){for(tt in a)a.hasOwnProperty(tt)&&(l=a[tt],l!==void 0&&xd(e,i,tt,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Wt(e,i,w,l,a,null))}function V1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,T=null,w=null,M=null,Y=null,tt=null;for(K in a){var st=a[K];if(a.hasOwnProperty(K)&&st!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":M=st;default:l.hasOwnProperty(K)||Wt(e,i,K,null,l,st)}}for(var X in l){var K=l[X];if(st=a[X],l.hasOwnProperty(X)&&(K!=null||st!=null))switch(X){case"type":d=K;break;case"name":h=K;break;case"checked":Y=K;break;case"defaultChecked":tt=K;break;case"value":T=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==st&&Wt(e,i,X,K,l,st)}}un(e,T,w,M,Y,tt,d,h);return;case"select":K=T=w=X=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":K=M;default:l.hasOwnProperty(d)||Wt(e,i,d,null,l,M)}for(h in l)if(d=l[h],M=a[h],l.hasOwnProperty(h)&&(d!=null||M!=null))switch(h){case"value":X=d;break;case"defaultValue":w=d;break;case"multiple":T=d;default:d!==M&&Wt(e,i,h,d,l,M)}i=w,a=T,l=K,X!=null?Sr(e,!!a,X,!1):!!l!=!!a&&(i!=null?Sr(e,!!a,i,!0):Sr(e,!!a,a?[]:"",!1));return;case"textarea":K=X=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Wt(e,i,w,null,l,h)}for(T in l)if(h=l[T],d=a[T],l.hasOwnProperty(T)&&(h!=null||d!=null))switch(T){case"value":X=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Wt(e,i,T,h,l,d)}Qt(e,X,K);return;case"option":for(var bt in a)if(X=a[bt],a.hasOwnProperty(bt)&&X!=null&&!l.hasOwnProperty(bt))switch(bt){case"selected":e.selected=!1;break;default:Wt(e,i,bt,null,l,X)}for(M in l)if(X=l[M],K=a[M],l.hasOwnProperty(M)&&X!==K&&(X!=null||K!=null))switch(M){case"selected":e.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:Wt(e,i,M,X,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)X=a[_t],a.hasOwnProperty(_t)&&X!=null&&!l.hasOwnProperty(_t)&&Wt(e,i,_t,null,l,X);for(Y in l)if(X=l[Y],K=a[Y],l.hasOwnProperty(Y)&&X!==K&&(X!=null||K!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Wt(e,i,Y,X,l,K)}return;default:if(No(i)){for(var Zt in a)X=a[Zt],a.hasOwnProperty(Zt)&&X!==void 0&&!l.hasOwnProperty(Zt)&&xd(e,i,Zt,void 0,l,X);for(tt in l)X=l[tt],K=a[tt],!l.hasOwnProperty(tt)||X===K||X===void 0&&K===void 0||xd(e,i,tt,X,l,K);return}}for(var H in a)X=a[H],a.hasOwnProperty(H)&&X!=null&&!l.hasOwnProperty(H)&&Wt(e,i,H,null,l,X);for(st in l)X=l[st],K=a[st],!l.hasOwnProperty(st)||X===K||X==null&&K==null||Wt(e,i,st,X,l,K)}var Cd=null,Id=null;function bc(e){return e.nodeType===9?e:e.ownerDocument}function N0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D0(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Nd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dd=null;function k1(){var e=window.event;return e&&e.type==="popstate"?e===Dd?!1:(Dd=e,!0):(Dd=null,!1)}var O0=typeof setTimeout=="function"?setTimeout:void 0,L1=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,j1=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(e){return P0.resolve(null).then(e).catch(U1)}:O0;function U1(e){setTimeout(function(){throw e})}function Ai(e){return e==="head"}function M0(e,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=e.ownerDocument;if(a&1&&gl(T.documentElement),a&2&&gl(T.body),a&4)for(a=T.head,gl(a),T=a.firstChild;T;){var w=T.nextSibling,M=T.nodeName;T[rs]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=w}}if(h===0){e.removeChild(d),Sl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Sl(i)}function Od(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Od(a),ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function z1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[rs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function B1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function Pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function H1(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Md=null;function V0(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function k0(e,i,a){switch(i=bc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function gl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ai(e)}var Nn=new Map,L0=new Set;function Sc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Hr=ot.d;ot.d={f:q1,r:F1,D:$1,C:G1,L:Y1,m:X1,X:K1,S:Q1,M:W1};function q1(){var e=Hr.f(),i=mc();return e||i}function F1(e){var i=Yn(e);i!==null&&i.tag===5&&i.type==="form"?ry(i):Hr.r(e)}var ka=typeof document>"u"?null:document;function j0(e,i,a){var l=ka;if(l&&typeof i=="string"&&i){var h=ye(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),L0.has(h)||(L0.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Be(i,"link",e),fe(i),l.head.appendChild(i)))}}function $1(e){Hr.D(e),j0("dns-prefetch",e,null)}function G1(e,i){Hr.C(e,i),j0("preconnect",e,i)}function Y1(e,i,a){Hr.L(e,i,a);var l=ka;if(l&&e&&i){var h='link[rel="preload"][as="'+ye(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ye(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ye(a.imageSizes)+'"]')):h+='[href="'+ye(e)+'"]';var d=h;switch(i){case"style":d=La(e);break;case"script":d=ja(e)}Nn.has(d)||(e=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Nn.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(pl(d))||i==="script"&&l.querySelector(yl(d))||(i=l.createElement("link"),Be(i,"link",e),fe(i),l.head.appendChild(i)))}}function X1(e,i){Hr.m(e,i);var a=ka;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ja(e)}if(!Nn.has(d)&&(e=E({rel:"modulepreload",href:e},i),Nn.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(d)))return}l=a.createElement("link"),Be(l,"link",e),fe(l),a.head.appendChild(l)}}}function Q1(e,i,a){Hr.S(e,i,a);var l=ka;if(l&&e){var h=Je(l).hoistableStyles,d=La(e);i=i||"default";var T=h.get(d);if(!T){var w={loading:0,preload:null};if(T=l.querySelector(pl(d)))w.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Nn.get(d))&&Vd(e,a);var M=T=l.createElement("link");fe(M),Be(M,"link",e),M._p=new Promise(function(Y,tt){M.onload=Y,M.onerror=tt}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,wc(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:w},h.set(d,T)}}}function K1(e,i){Hr.X(e,i);var a=ka;if(a&&e){var l=Je(a).hoistableScripts,h=ja(e),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(e=E({src:e,async:!0},i),(i=Nn.get(h))&&kd(e,i),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function W1(e,i){Hr.M(e,i);var a=ka;if(a&&e){var l=Je(a).hoistableScripts,h=ja(e),d=l.get(h);d||(d=a.querySelector(yl(h)),d||(e=E({src:e,async:!0,type:"module"},i),(i=Nn.get(h))&&kd(e,i),d=a.createElement("script"),fe(d),Be(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function U0(e,i,a,l){var h=(h=wt.current)?Sc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=La(a.href),a=Je(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var d=Je(h).hoistableStyles,T=d.get(e);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,T),(d=h.querySelector(pl(e)))&&!d._p&&(T.instance=d,T.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),d||Z1(h,e,a,T.state))),i&&l===null)throw Error(s(528,""));return T}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ja(a),a=Je(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function La(e){return'href="'+ye(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function z0(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Z1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Be(i,"link",a),fe(i),e.head.appendChild(i))}function ja(e){return'[src="'+ye(e)+'"]'}function yl(e){return"script[async]"+e}function B0(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ye(a.href)+'"]');if(l)return i.instance=l,fe(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),fe(l),Be(l,"style",h),wc(l,a.precedence,e),i.instance=l;case"stylesheet":h=La(a.href);var d=e.querySelector(pl(h));if(d)return i.state.loading|=4,i.instance=d,fe(d),d;l=z0(a),(h=Nn.get(h))&&Vd(l,h),d=(e.ownerDocument||e).createElement("link"),fe(d);var T=d;return T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),Be(d,"link",l),i.state.loading|=4,wc(d,a.precedence,e),i.instance=d;case"script":return d=ja(a.src),(h=e.querySelector(yl(d)))?(i.instance=h,fe(h),h):(l=a,(h=Nn.get(d))&&(l=E({},a),kd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),fe(h),Be(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,e));return i.instance}function wc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,T=0;T<l.length;T++){var w=l[T];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function kd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ac=null;function H0(e,i,a){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(a,l)}else h=Ac,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[rs]||d[Se]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(i)||"";T=e+T;var w=l.get(T);w?w.push(d):l.set(T,[d])}}return l}function q0(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function J1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var vl=null;function tS(){}function eS(e,i,a){if(vl===null)throw Error(s(475));var l=vl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=La(a.href),d=e.querySelector(pl(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Rc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,fe(d);return}d=e.ownerDocument||e,a=z0(a),(h=Nn.get(h))&&Vd(a,h),d=d.createElement("link"),fe(d);var T=d;T._p=new Promise(function(w,M){T.onload=w,T.onerror=M}),Be(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Rc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function nS(){if(vl===null)throw Error(s(475));var e=vl;return e.stylesheets&&e.count===0&&Ld(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Ld(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Ld(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function Ld(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,i.forEach(rS,e),xc=null,Rc.call(e))}function rS(e,i){if(!(i.state.loading&4)){var a=xc.get(e);if(a)var l=a.get(null);else{a=new Map,xc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var T=h[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}h=i.instance,T=h.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,h),a.set(T,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var _l={$$typeof:q,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function iS(e,i,a,l,h,d,T,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vr(0),this.hiddenUpdates=vr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function $0(e,i,a,l,h,d,T,w,M,Y,tt,st){return e=new iS(e,i,a,T,w,M,Y,st),i=1,d===!0&&(i|=24),d=hn(3,null,null,i),e.current=d,d.stateNode=e,i=vf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},bf(d),e}function G0(e){return e?(e=ga,e):ga}function Y0(e,i,a,l,h,d){h=G0(h),l.context===null?l.context=h:l.pendingContext=h,l=fi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=di(e,l,i),a!==null&&(pn(a,e,i),Qo(a,e,i))}function X0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function jd(e,i){X0(e,i),(e=e.alternate)&&X0(e,i)}function Q0(e){if(e.tag===13){var i=ma(e,67108864);i!==null&&pn(i,e,67108864),jd(e,67108864)}}var Cc=!0;function sS(e,i,a,l){var h=Q.T;Q.T=null;var d=ot.p;try{ot.p=2,Ud(e,i,a,l)}finally{ot.p=d,Q.T=h}}function aS(e,i,a,l){var h=Q.T;Q.T=null;var d=ot.p;try{ot.p=8,Ud(e,i,a,l)}finally{ot.p=d,Q.T=h}}function Ud(e,i,a,l){if(Cc){var h=zd(l);if(h===null)Rd(e,i,l,Ic,a),W0(e,l);else if(lS(h,e,i,a,l))l.stopPropagation();else if(W0(e,l),i&4&&-1<oS.indexOf(e)){for(;h!==null;){var d=Yn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Pn(d.pendingLanes);if(T!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var M=1<<31-$e(T);w.entanglements[1]|=M,T&=~M}or(d),(Yt&6)===0&&(fc=vn()+500,fl(0))}}break;case 13:w=ma(d,2),w!==null&&pn(w,d,2),mc(),jd(d,2)}if(d=zd(l),d===null&&Rd(e,i,l,Ic,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Rd(e,i,l,null,a)}}function zd(e){return e=Tn(e),Bd(e)}var Ic=null;function Bd(e){if(Ic=null,e=Er(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ic=e,null}function K0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qh()){case yo:return 2;case Ys:return 8;case Zi:case Fh:return 32;case Xs:return 268435456;default:return 32}default:return 32}}var Hd=!1,Ri=null,xi=null,Ci=null,El=new Map,Tl=new Map,Ii=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(e,i){switch(e){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":xi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":El.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(i.pointerId)}}function bl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Yn(i),i!==null&&Q0(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function lS(e,i,a,l,h){switch(i){case"focusin":return Ri=bl(Ri,e,i,a,l,h),!0;case"dragenter":return xi=bl(xi,e,i,a,l,h),!0;case"mouseover":return Ci=bl(Ci,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return El.set(d,bl(El.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Tl.set(d,bl(Tl.get(d)||null,e,i,a,l,h)),!0}return!1}function Z0(e){var i=Er(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,mu(e.priority,function(){if(a.tag===13){var l=gn();l=ri(l);var h=ma(a,l);h!==null&&pn(h,a,l),jd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=zd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);wr=l,a.target.dispatchEvent(l),wr=null}else return i=Yn(a),i!==null&&Q0(i),e.blockedOn=a,!1;i.shift()}return!0}function J0(e,i,a){Nc(e)&&a.delete(i)}function uS(){Hd=!1,Ri!==null&&Nc(Ri)&&(Ri=null),xi!==null&&Nc(xi)&&(xi=null),Ci!==null&&Nc(Ci)&&(Ci=null),El.forEach(J0),Tl.forEach(J0)}function Dc(e,i){e.blockedOn===i&&(e.blockedOn=null,Hd||(Hd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uS)))}var Oc=null;function tv(e){Oc!==e&&(Oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===e&&(Oc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Bd(l||a)===null)continue;break}var d=Yn(a);d!==null&&(e.splice(i,3),i-=3,Bf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Sl(e){function i(M){return Dc(M,e)}Ri!==null&&Dc(Ri,e),xi!==null&&Dc(xi,e),Ci!==null&&Dc(Ci,e),El.forEach(i),Tl.forEach(i);for(var a=0;a<Ii.length;a++){var l=Ii[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ii.length&&(a=Ii[0],a.blockedOn===null);)Z0(a),a.blockedOn===null&&Ii.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],T=h[pe]||null;if(typeof d=="function")T||tv(a);else if(T){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,T=d[pe]||null)w=T.formAction;else if(Bd(h)!==null)continue}else w=T.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),tv(a)}}}function qd(e){this._internalRoot=e}Pc.prototype.render=qd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=gn();Y0(a,l,e,i,null,null)},Pc.prototype.unmount=qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Y0(e.current,2,null,e,null,null),mc(),i[_n]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var i=ii();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ii.length&&i!==0&&i<Ii[a].priority;a++);Ii.splice(a,0,e),a===0&&Z0(e)}};var ev=t.version;if(ev!=="19.1.1")throw Error(s(527,ev,"19.1.1"));ot.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var cS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{ue=Mc.inject(cS),Gt=Mc}catch{}}return Al.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=yy,d=vy,T=_y,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=$0(e,1,!1,null,null,a,l,h,d,T,w,null),e[_n]=i.current,Ad(e),new qd(i)},Al.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",d=yy,T=vy,w=_y,M=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),i=$0(e,1,!0,i,a??null,l,h,d,T,w,M,Y),i.context=G0(null),a=i.current,l=gn(),l=ri(l),h=fi(l),h.callback=null,di(a,h,l),a=l,i.current.lanes=a,_r(i,a),or(i),e[_n]=i.current,Ad(e),new Pc(i)},Al.version="19.1.1",Al}var hv;function ES(){if(hv)return Gd.exports;hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Gd.exports=_S(),Gd.exports}var TS=ES();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fv="popstate";function bS(r={}){function t(o,u){let{pathname:f="/",search:m="",hash:g=""}=Hs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),gm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");m=p===-1?g:g.slice(0,p)}return m+"#"+(typeof u=="string"?u:jl(u))}function s(o,u){On(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return wS(t,n,s,r)}function ae(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function On(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SS(){return Math.random().toString(36).substring(2,10)}function dv(r,t){return{usr:r.state,key:r.key,idx:t}}function gm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Hs(t):t,state:n,key:t&&t.key||s||SS()}}function jl({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Hs(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function wS(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,p=E();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let k=E(),U=k==null?null:k-p;p=k,g&&g({action:m,location:V.location,delta:U})}function S(k,U){m="PUSH";let F=gm(V.location,k,U);n&&n(F,k),p=E()+1;let q=dv(F,p),Z=V.createHref(F);try{f.pushState(q,"",Z)}catch(rt){if(rt instanceof DOMException&&rt.name==="DataCloneError")throw rt;o.location.assign(Z)}u&&g&&g({action:m,location:V.location,delta:1})}function x(k,U){m="REPLACE";let F=gm(V.location,k,U);n&&n(F,k),p=E();let q=dv(F,p),Z=V.createHref(F);f.replaceState(q,"",Z),u&&g&&g({action:m,location:V.location,delta:0})}function O(k){return AS(k)}let V={get action(){return m},get location(){return r(o,f)},listen(k){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(fv,b),g=k,()=>{o.removeEventListener(fv,b),g=null}},createHref(k){return t(o,k)},createURL:O,encodeLocation(k){let U=O(k);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:S,replace:x,go(k){return f.go(k)}};return V}function AS(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ae(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:jl(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Z_(r,t,n="/"){return RS(r,t,n,!1)}function RS(r,t,n,s){let o=typeof t=="string"?Hs(t):t,u=Kr(o.pathname||"/",n);if(u==null)return null;let f=J_(r);xS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let p=jS(u);m=kS(f[g],p,s)}return m}function J_(r,t=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(ae(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let p=Xr([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(ae(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),J_(u.children,t,E,p)),!(u.path==null&&!u.index)&&t.push({path:p,score:MS(p,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of tE(u.path))o(u,f,g)}),t}function tE(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=tE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function xS(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:VS(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var CS=/^:[\w-]+$/,IS=3,NS=2,DS=1,OS=10,PS=-2,mv=r=>r==="*";function MS(r,t){let n=r.split("/"),s=n.length;return n.some(mv)&&(s+=PS),t&&(s+=NS),n.filter(o=>!mv(o)).reduce((o,u)=>o+(CS.test(u)?IS:u===""?DS:OS),s)}function VS(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function kS(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],p=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},E),S=g.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=eh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Xr([u,b.pathname]),pathnameBase:HS(Xr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Xr([u,b.pathnameBase]))}return f}function eh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=LS(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:b},S)=>{if(E==="*"){let O=m[S]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const x=m[S];return b&&!x?p[E]=void 0:p[E]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:r}}function LS(r,t=!1,n=!0){On(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function jS(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Kr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function US(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Hs(r):r;return{pathname:n?n.startsWith("/")?n:zS(n,t):t,search:qS(s),hash:FS(o)}}function zS(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BS(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ym(r){let t=BS(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Xm(r,t,n,s=!1){let o;typeof r=="string"?o=Hs(r):(o={...r},ae(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let g=US(o,m),p=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||E)&&(g.pathname+="/"),g}var Xr=r=>r.join("/").replace(/\/\/+/g,"/"),HS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,FS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function $S(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var eE=["POST","PUT","PATCH","DELETE"];new Set(eE);var GS=["GET",...eE];new Set(GS);var ro=z.createContext(null);ro.displayName="DataRouter";var Th=z.createContext(null);Th.displayName="DataRouterState";z.createContext(!1);var nE=z.createContext({isTransitioning:!1});nE.displayName="ViewTransition";var YS=z.createContext(new Map);YS.displayName="Fetchers";var XS=z.createContext(null);XS.displayName="Await";var Fn=z.createContext(null);Fn.displayName="Navigation";var Zl=z.createContext(null);Zl.displayName="Location";var pr=z.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var Qm=z.createContext(null);Qm.displayName="RouteError";function QS(r,{relative:t}={}){ae(io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Fn),{hash:o,pathname:u,search:f}=Jl(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:Xr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function io(){return z.useContext(Zl)!=null}function Xi(){return ae(io(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Zl).location}var rE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iE(r){z.useContext(Fn).static||z.useLayoutEffect(r)}function Km(){let{isDataRoute:r}=z.useContext(pr);return r?lw():KS()}function KS(){ae(io(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(ro),{basename:t,navigator:n}=z.useContext(Fn),{matches:s}=z.useContext(pr),{pathname:o}=Xi(),u=JSON.stringify(Ym(s)),f=z.useRef(!1);return iE(()=>{f.current=!0}),z.useCallback((g,p={})=>{if(On(f.current,rE),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=Xm(g,JSON.parse(u),o,p.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Xr([t,E.pathname])),(p.replace?n.replace:n.push)(E,p.state,p)},[t,n,u,o,r])}z.createContext(null);function Jl(r,{relative:t}={}){let{matches:n}=z.useContext(pr),{pathname:s}=Xi(),o=JSON.stringify(Ym(n));return z.useMemo(()=>Xm(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function WS(r,t){return sE(r,t)}function sE(r,t,n,s){var U;ae(io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(Fn),{matches:u}=z.useContext(pr),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",p=f?f.pathnameBase:"/",E=f&&f.route;{let F=E&&E.path||"";aE(g,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let b=Xi(),S;if(t){let F=typeof t=="string"?Hs(t):t;ae(p==="/"||((U=F.pathname)==null?void 0:U.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=b;let x=S.pathname||"/",O=x;if(p!=="/"){let F=p.replace(/^\//,"").split("/");O="/"+x.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=Z_(r,{pathname:O});On(E||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),On(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=nw(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:Xr([p,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?p:Xr([p,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,s);return t&&k?z.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},k):k}function ZS(){let r=ow(),t=$S(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:o},n):null,f)}var JS=z.createElement(ZS,null),tw=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?z.createElement(pr.Provider,{value:this.props.routeContext},z.createElement(Qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ew({routeContext:r,match:t,children:n}){let s=z.useContext(ro);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(pr.Provider,{value:r},n)}function nw(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);ae(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let p=o[g];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=g),p.route.id){let{loaderData:E,errors:b}=n,S=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,p,E)=>{let b,S=!1,x=null,O=null;n&&(b=u&&p.route.id?u[p.route.id]:void 0,x=p.route.errorElement||JS,f&&(m<0&&E===0?(aE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===E&&(S=!0,O=p.route.hydrateFallbackElement||null)));let V=t.concat(o.slice(0,E+1)),k=()=>{let U;return b?U=x:S?U=O:p.route.Component?U=z.createElement(p.route.Component,null):p.route.element?U=p.route.element:U=g,z.createElement(ew,{match:p,routeContext:{outlet:g,matches:V,isDataRoute:n!=null},children:U})};return n&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?z.createElement(tw,{location:n.location,revalidation:n.revalidation,component:x,error:b,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):k()},null)}function Wm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rw(r){let t=z.useContext(ro);return ae(t,Wm(r)),t}function iw(r){let t=z.useContext(Th);return ae(t,Wm(r)),t}function sw(r){let t=z.useContext(pr);return ae(t,Wm(r)),t}function Zm(r){let t=sw(r),n=t.matches[t.matches.length-1];return ae(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function aw(){return Zm("useRouteId")}function ow(){var s;let r=z.useContext(Qm),t=iw("useRouteError"),n=Zm("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function lw(){let{router:r}=rw("useNavigate"),t=Zm("useNavigate"),n=z.useRef(!1);return iE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{On(n.current,rE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var gv={};function aE(r,t,n){!t&&!gv[r]&&(gv[r]=!0,On(!1,n))}z.memo(uw);function uw({routes:r,future:t,state:n}){return sE(r,void 0,n,t)}function cw({to:r,replace:t,state:n,relative:s}){ae(io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(Fn);On(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(pr),{pathname:f}=Xi(),m=Km(),g=Xm(r,Ym(u),f,s==="path"),p=JSON.stringify(g);return z.useEffect(()=>{m(JSON.parse(p),{replace:t,state:n,relative:s})},[m,p,s,t,n]),null}function Os(r){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ae(!io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Hs(n));let{pathname:g="/",search:p="",hash:E="",state:b=null,key:S="default"}=n,x=z.useMemo(()=>{let O=Kr(g,f);return O==null?null:{location:{pathname:O,search:p,hash:E,state:b,key:S},navigationType:s}},[f,g,p,E,b,S,s]);return On(x!=null,`<Router basename="${f}"> is not able to match the URL "${g}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:z.createElement(Fn.Provider,{value:m},z.createElement(Zl.Provider,{children:t,value:x}))}function fw({children:r,location:t}){return WS(pm(r),t)}function pm(r,t=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...t,o];if(s.type===z.Fragment){n.push.apply(n,pm(s.props.children,u));return}ae(s.type===Os,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=pm(s.props.children,u)),n.push(f)}),n}var qc="get",Fc="application/x-www-form-urlencoded";function bh(r){return r!=null&&typeof r.tagName=="string"}function dw(r){return bh(r)&&r.tagName.toLowerCase()==="button"}function mw(r){return bh(r)&&r.tagName.toLowerCase()==="form"}function gw(r){return bh(r)&&r.tagName.toLowerCase()==="input"}function pw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yw(r,t){return r.button===0&&(!t||t==="_self")&&!pw(r)}var Vc=null;function vw(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var _w=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wd(r){return r!=null&&!_w.has(r)?(On(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fc}"`),null):r}function Ew(r,t){let n,s,o,u,f;if(mw(r)){let m=r.getAttribute("action");s=m?Kr(m,t):null,n=r.getAttribute("method")||qc,o=Wd(r.getAttribute("enctype"))||Fc,u=new FormData(r)}else if(dw(r)||gw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?Kr(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||qc,o=Wd(r.getAttribute("formenctype"))||Wd(m.getAttribute("enctype"))||Fc,u=new FormData(m,r),!vw()){let{name:p,type:E,value:b}=r;if(E==="image"){let S=p?`${p}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else p&&u.append(p,b)}}else{if(bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qc,s=null,o=Fc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Tw(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Kr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function bw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Sw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function ww(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await bw(u,n);return f.links?f.links():[]}return[]}));return Cw(s.flat(1).filter(Sw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pv(r,t,n,s,o,u){let f=(g,p)=>n[p]?g.route.id!==n[p].route.id:!0,m=(g,p)=>{var E;return n[p].pathname!==g.pathname||((E=n[p].route.path)==null?void 0:E.endsWith("*"))&&n[p].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,p)=>f(g,p)||m(g,p)):u==="data"?t.filter((g,p)=>{var b;let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,p)||m(g,p))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Aw(r,t,{includeHydrateFallback:n}={}){return Rw(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Rw(r){return[...new Set(r)]}function xw(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function Cw(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(xw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function oE(){let r=z.useContext(ro);return Jm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Iw(){let r=z.useContext(Th);return Jm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tg=z.createContext(void 0);tg.displayName="FrameworkContext";function lE(){let r=z.useContext(tg);return Jm(r,"You must render this element inside a <HydratedRouter> element"),r}function Nw(r,t){let n=z.useContext(tg),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=t,S=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let V=U=>{U.forEach(F=>{f(F.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[r]),z.useEffect(()=>{if(s){let V=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(V)}}},[s]);let x=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Rl(m,x),onBlur:Rl(g,O),onMouseEnter:Rl(p,x),onMouseLeave:Rl(E,O),onTouchStart:Rl(b,x)}]:[!1,S,{}]}function Rl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function Dw({page:r,...t}){let{router:n}=oE(),s=z.useMemo(()=>Z_(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(Pw,{page:r,matches:s,...t}):null}function Ow(r){let{manifest:t,routeModules:n}=lE(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return ww(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function Pw({page:r,matches:t,...n}){let s=Xi(),{manifest:o,routeModules:u}=lE(),{basename:f}=oE(),{loaderData:m,matches:g}=Iw(),p=z.useMemo(()=>pv(r,t,g,o,s,"data"),[r,t,g,o,s]),E=z.useMemo(()=>pv(r,t,g,o,s,"assets"),[r,t,g,o,s]),b=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,V=!1;if(t.forEach(U=>{var q;let F=o.routes[U.route.id];!F||!F.hasLoader||(!p.some(Z=>Z.route.id===U.route.id)&&U.route.id in m&&((q=u[U.route.id])!=null&&q.shouldRevalidate)||F.hasClientLoader?V=!0:O.add(U.route.id))}),O.size===0)return[];let k=Tw(r,f,"data");return V&&O.size>0&&k.searchParams.set("_routes",t.filter(U=>O.has(U.route.id)).map(U=>U.route.id).join(",")),[k.pathname+k.search]},[f,m,s,o,p,t,r,u]),S=z.useMemo(()=>Aw(E,o),[E,o]),x=Ow(E);return z.createElement(z.Fragment,null,b.map(O=>z.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>z.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),x.map(({key:O,link:V})=>z.createElement("link",{key:O,...V})))}function Mw(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uE&&(window.__reactRouterVersion="7.7.1")}catch{}function Vw({basename:r,children:t,window:n}){let s=z.useRef();s.current==null&&(s.current=bS({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(g=>{z.startTransition(()=>f(g))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(hw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hE=z.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:p,preventScrollReset:E,viewTransition:b,...S},x){let{basename:O}=z.useContext(Fn),V=typeof p=="string"&&cE.test(p),k,U=!1;if(typeof p=="string"&&V&&(k=p,uE))try{let D=new URL(window.location.href),N=p.startsWith("//")?new URL(D.protocol+p):new URL(p),C=Kr(N.pathname,O);N.origin===D.origin&&C!=null?p=C+N.search+N.hash:U=!0}catch{On(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=QS(p,{relative:o}),[q,Z,rt]=Nw(s,S),J=Uw(p,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:b});function P(D){t&&t(D),D.defaultPrevented||J(D)}let A=z.createElement("a",{...S,...rt,href:k||F,onClick:U||u?t:P,ref:Mw(x,Z),target:g,"data-discover":!V&&n==="render"?"true":void 0});return q&&!V?z.createElement(z.Fragment,null,A,z.createElement(Dw,{page:F})):A});hE.displayName="Link";var kw=z.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...p},E){let b=Jl(f,{relative:p.relative}),S=Xi(),x=z.useContext(Th),{navigator:O,basename:V}=z.useContext(Fn),k=x!=null&&Fw(b)&&m===!0,U=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,F=S.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(F=F.toLowerCase(),q=q?q.toLowerCase():null,U=U.toLowerCase()),q&&V&&(q=Kr(q,V)||q);const Z=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let rt=F===U||!o&&F.startsWith(U)&&F.charAt(Z)==="/",J=q!=null&&(q===U||!o&&q.startsWith(U)&&q.charAt(U.length)==="/"),P={isActive:rt,isPending:J,isTransitioning:k},A=rt?t:void 0,D;typeof s=="function"?D=s(P):D=[s,rt?"active":null,J?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(P):u;return z.createElement(hE,{...p,"aria-current":A,className:D,ref:E,style:N,to:f,viewTransition:m},typeof g=="function"?g(P):g)});kw.displayName="NavLink";var Lw=z.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=qc,action:m,onSubmit:g,relative:p,preventScrollReset:E,viewTransition:b,...S},x)=>{let O=Hw(),V=qw(m,{relative:p}),k=f.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&cE.test(m),F=q=>{if(g&&g(q),q.defaultPrevented)return;q.preventDefault();let Z=q.nativeEvent.submitter,rt=(Z==null?void 0:Z.getAttribute("formmethod"))||f;O(Z||q.currentTarget,{fetcherKey:t,method:rt,navigate:n,replace:o,state:u,relative:p,preventScrollReset:E,viewTransition:b})};return z.createElement("form",{ref:x,method:k,action:V,onSubmit:s?g:F,...S,"data-discover":!U&&r==="render"?"true":void 0})});Lw.displayName="Form";function jw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(r){let t=z.useContext(ro);return ae(t,jw(r)),t}function Uw(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Km(),g=Xi(),p=Jl(r,{relative:u});return z.useCallback(E=>{if(yw(E,t)){E.preventDefault();let b=n!==void 0?n:jl(g)===jl(p);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,p,n,s,t,r,o,u,f])}var zw=0,Bw=()=>`__${String(++zw)}__`;function Hw(){let{router:r}=fE("useSubmit"),{basename:t}=z.useContext(Fn),n=aw();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:p}=Ew(s,t);if(o.navigate===!1){let E=o.fetcherKey||Bw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:p,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function qw(r,{relative:t}={}){let{basename:n}=z.useContext(Fn),s=z.useContext(pr);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Jl(r||".",{relative:t})},f=Xi();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Xr([n,u.pathname])),jl(u)}function Fw(r,{relative:t}={}){let n=z.useContext(nE);ae(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fE("useViewTransitionState"),o=Jl(r,{relative:t});if(!n.isTransitioning)return!1;let u=Kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return eh(o.pathname,f)!=null||eh(o.pathname,u)!=null}function dE(r,t){const[n,s]=z.useState({scaledWidth:0,scaledHeight:0,borderPx:0});return z.useEffect(()=>{const o=()=>{const u=window.innerHeight,f=window.innerWidth,m=u*.6,g=f*.4,p=m/r,E=g/t,b=Math.min(p,E),S=r*b,x=t*b,V=22/r*S,k=Math.min(V,22);s({scaledWidth:x,scaledHeight:S,borderPx:k})};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[r,t]),n}const $w=()=>{const[r,t]=z.useState({height:2e3,width:1e3}),{height:n,width:s}=r,o=dE(n,s),[u,f]=z.useState(1),[m,g]=z.useState("On wall"),[p,E]=z.useState("Swing Doors"),[b,S]=z.useState(0),[x,O]=z.useState("3-Part Element"),[V,k]=z.useState(Array(1).fill("Aero")),[U,F]=z.useState(Array(1).fill("Clear")),[q,Z]=z.useState(()=>Array(1).fill("Handle With Lock")),[rt,J]=z.useState([850]),[P,A]=z.useState(()=>{const N=Array(u).fill("fixed");return N[0]="right",N}),D=(N,C,L)=>N==="Sliding Doors"&&C==="In wall"&&L.some(I=>I!==null)?Array(L.length).fill(null):L;return z.useEffect(()=>{t(N=>({...N,height:p==="Sliding Doors"?2500:2e3}))},[p]),z.useEffect(()=>{k(Array(u).fill("Aero")),F(Array(u).fill("Clear"))},[u]),z.useEffect(()=>{O("1-Part Element"),f(1),p==="Sliding Doors"?(g("On wall"),Z(Array(1).fill("Pull Handle 160"))):Z(p==="Swing Doors"?Array(1).fill("Handle With Lock"):Array(1).fill(null))},[p]),z.useEffect(()=>{p==="Sliding Doors"&&(m==="On wall"?(f(1),O("1-Part Element"),Z(Array(1).fill("Pull Handle 160"))):m==="In wall"&&(f(2),O("2-Part Element"),Z(Array(2).fill(null)),A(Array(2).fill("fixed"))))},[m,p]),z.useEffect(()=>{Z(N=>{if(!N||N.length===0)return N;const C=p==="Swing Doors"?"Handle With Lock":p==="Sliding Doors"?"Pull Handle 160":null,L=P.map((At,pt)=>At==="fixed"?null:N[pt]??C);return L.some((At,pt)=>At!==N[pt])?L:N})},[P,p]),z.useEffect(()=>{const N={"Swing Doors":"Handle With Lock","Sliding Doors":"Pull Handle 160","Fixed Walls":null},C=(I,At,pt)=>{const Q=Array(At).fill(null);return I&&/^\d+-Part Element$/.test(I)?(Q[0]=pt,p==="Sliding Doors"&&(x==="2-Part Element"?(Q[0]=pt,Q[1]=pt):Q[0]=pt)):I==="2-Part Element O"&&At>1?Q[1]=pt:I==="4-Part Element O"&&At>2?Q[2]=pt:I&&/^\d+-Part Element A$/.test(I)&&At>1&&(Q[1]=pt),Q};let L;if(p==="Fixed Walls")L=Array(u).fill(null);else{const I=N[p];L=C(x,u,I)}Z(D(p,m,L)),p==="Fixed Walls"&&A(Array(u).fill("fixed"))},[p,u,m,x]),z.useEffect(()=>{A(N=>{const C=Array(u).fill("fixed");return m==="In wall"||p==="Fixed Walls"||p!=="Fixed Walls"&&(p==="Sliding Doors"?x==="1-Part Element"?C[0]="right":x==="2-Part Element"&&(C[0]="left",C[1]="right"):x==="2-Part Element O"&&u>1?(C.fill("fixed"),C[1]="right"):x==="4-Part Element O"&&u>2?(C.fill("fixed"),C[2]="right"):x&&x.includes("Element A")&&u>1?(C.fill("fixed"),C[1]="right"):(C.fill("fixed"),C[0]="right")),C})},[u,x,p,m]),z.useEffect(()=>{const N=Math.max(u,1),C={"2-Part Element O":[r.height*.2,r.height*.8],"4-Part Element O":[r.height*.2,r.height*.8,r.width*.5,r.width*.5]};function L(I,At){const pt=Math.floor(I/At),Q=I-pt*At;return Array(At).fill(pt).map((ot,ht)=>ht<Q?ot+1:ot)}J(x&&C[x]?C[x]:x&&/^\d+-Part Element A$/.test(x)?[rt[0]??Math.round(r.height*.3),...L(r.width,N-1)]:L(r.width,N))},[u,x,r,p]),{doorDimensions:r,setDoorDimensions:t,scaled:o,sectionCount:u,setSectionCount:f,slidingMountType:m,setSlidingMountType:g,selectedCategory:p,setSelectedCategory:E,selectedIndex:b,setSelectedIndex:S,selectedType:x,setSelectedType:O,sectionModels:V,setSectionModels:k,sectionColors:U,setSectionColors:F,selectedHandle:q,setSelectedHandle:Z,sectionDimensions:rt,setSectionDimensions:J,sectionTypes:P,setSectionTypes:A}},mE=z.createContext(null),Gw=({children:r})=>{const t=$w();return v.jsx(mE.Provider,{value:t,children:r})},Yw=()=>z.useContext(mE),Xw=()=>{};var yv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},Qw=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,p=g?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|p>>6,x=p&63;g||(x=64,f||(S=64)),s.push(n[E],n[b],n[S],n[x])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(gE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Qw(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const p=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||p==null||b==null)throw new Kw;const S=u<<2|m>>4;if(s.push(S),p!==64){const x=m<<4&240|p>>2;if(s.push(x),b!==64){const O=p<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Kw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ww=function(r){const t=gE(r);return pE.encodeByteArray(t,!0)},nh=function(r){return Ww(r).replace(/\./g,"")},yE=function(r){try{return pE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=()=>Zw().__FIREBASE_DEFAULTS__,tA=()=>{if(typeof process>"u"||typeof yv>"u")return;const r=yv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&yE(r[1]);return t&&JSON.parse(t)},Sh=()=>{try{return Xw()||Jw()||tA()||eA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},vE=r=>{var t,n;return(n=(t=Sh())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},nA=r=>{const t=vE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_E=()=>{var r;return(r=Sh())==null?void 0:r.config},EE=r=>{var t;return(t=Sh())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nh(JSON.stringify(n)),nh(JSON.stringify(f)),""].join(".")}const Dl={};function sA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?r.emulator.push(t):r.prod.push(t);return r}function aA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let vv=!1;function bE(r,t){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Dl[r]===t||Dl[r]||vv)return;Dl[r]=t;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=sA().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,x){S.setAttribute("width","24"),S.setAttribute("id",x),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{vv=!0,f()},S}function E(S,x){S.setAttribute("id",x),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=aA(s),x=n("text"),O=document.getElementById(x)||document.createElement("span"),V=n("learnmore"),k=document.getElementById(V)||document.createElement("a"),U=n("preprendIcon"),F=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;m(q),E(k,V);const Z=p();g(F,U),q.append(F,O,k,Z),document.body.appendChild(q)}u?(O.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function lA(){var t;const r=(t=Sh())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fA(){const r=Ze();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dA(){return!lA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mA(){try{return typeof indexedDB=="object"}catch{return!1}}function gA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="FirebaseError";class ei extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=pA,Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?yA(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ei(o,m,s)}}function yA(r,t){return r.replace(vA,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const vA=/\{\$([^}]+)}/g;function _A(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ls(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(_v(u)&&_v(f)){if(!Ls(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function _v(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function EA(r,t){const n=new TA(r,t);return n.subscribe.bind(n)}class TA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");bA(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Zd),o.error===void 0&&(o.error=Zd),o.complete===void 0&&(o.complete=Zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Zd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(r){return r&&r._delegate?r._delegate:r}class js{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new rA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AA(t))try{this.getOrInitializeService({instanceIdentifier:Ps})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ps){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ps){return this.instances.has(t)}getOptions(t=Ps){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:wA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ps){return this.component?this.component.multipleInstances?t:Ps:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wA(r){return r===Ps?void 0:r}function AA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new SA(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const xA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},CA=Vt.INFO,IA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},NA=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=IA[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eg{constructor(t){this.name=t,this._logLevel=CA,this._logHandler=NA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?xA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const DA=(r,t)=>t.some(n=>r instanceof n);let Ev,Tv;function OA(){return Ev||(Ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return Tv||(Tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,ym=new WeakMap,wE=new WeakMap,Jd=new WeakMap,ng=new WeakMap;function MA(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ki(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&SE.set(n,r)}).catch(()=>{}),ng.set(t,r),t}function VA(r){if(ym.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,t)}let vm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return ym.get(r);if(t==="objectStoreNames")return r.objectStoreNames||wE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ki(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function kA(r){vm=r(vm)}function LA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(tm(this),t,...n);return wE.set(s,t.sort?t.sort():[t]),ki(s)}:PA().includes(r)?function(...t){return r.apply(tm(this),t),ki(SE.get(this))}:function(...t){return ki(r.apply(tm(this),t))}}function jA(r){return typeof r=="function"?LA(r):(r instanceof IDBTransaction&&VA(r),DA(r,OA())?new Proxy(r,vm):r)}function ki(r){if(r instanceof IDBRequest)return MA(r);if(Jd.has(r))return Jd.get(r);const t=jA(r);return t!==r&&(Jd.set(r,t),ng.set(t,r)),t}const tm=r=>ng.get(r);function UA(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=ki(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ki(f.result),g.oldVersion,g.newVersion,ki(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const zA=["get","getKey","getAll","getAllKeys","count"],BA=["put","add","delete","clear"],em=new Map;function bv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(em.get(t))return em.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=BA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||zA.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let p=g.store;return s&&(p=p.index(m.shift())),(await Promise.all([p[n](...m),o&&g.done]))[0]};return em.set(t,u),u}kA(r=>({...r,get:(t,n,s)=>bv(t,n)||r.get(t,n,s),has:(t,n)=>!!bv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qA(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _m="@firebase/app",Sv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new eg("@firebase/app"),FA="@firebase/app-compat",$A="@firebase/analytics-compat",GA="@firebase/analytics",YA="@firebase/app-check-compat",XA="@firebase/app-check",QA="@firebase/auth",KA="@firebase/auth-compat",WA="@firebase/database",ZA="@firebase/data-connect",JA="@firebase/database-compat",tR="@firebase/functions",eR="@firebase/functions-compat",nR="@firebase/installations",rR="@firebase/installations-compat",iR="@firebase/messaging",sR="@firebase/messaging-compat",aR="@firebase/performance",oR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",hR="@firebase/storage-compat",fR="@firebase/firestore",dR="@firebase/ai",mR="@firebase/firestore-compat",gR="firebase",pR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",yR={[_m]:"fire-core",[FA]:"fire-core-compat",[GA]:"fire-analytics",[$A]:"fire-analytics-compat",[XA]:"fire-app-check",[YA]:"fire-app-check-compat",[QA]:"fire-auth",[KA]:"fire-auth-compat",[WA]:"fire-rtdb",[ZA]:"fire-data-connect",[JA]:"fire-rtdb-compat",[tR]:"fire-fn",[eR]:"fire-fn-compat",[nR]:"fire-iid",[rR]:"fire-iid-compat",[iR]:"fire-fcm",[sR]:"fire-fcm-compat",[aR]:"fire-perf",[oR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[hR]:"fire-gcs-compat",[fR]:"fire-fst",[mR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[gR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,vR=new Map,Tm=new Map;function wv(r,t){try{r.container.addComponent(t)}catch(n){Wr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qa(r){const t=r.name;if(Tm.has(t))return Wr.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,r);for(const n of rh.values())wv(n,r);for(const n of vR.values())wv(n,r);return!0}function rg(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new tu("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=pR;function AE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Em,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw Li.create("bad-app-name",{appName:String(o)});if(n||(n=_E()),!n)throw Li.create("no-options");const u=rh.get(o);if(u){if(Ls(n,u.options)&&Ls(s,u.config))return u;throw Li.create("duplicate-app",{appName:o})}const f=new RA(o);for(const g of Tm.values())f.addComponent(g);const m=new ER(n,s,f);return rh.set(o,m),m}function RE(r=Em){const t=rh.get(r);if(!t&&r===Em&&_E())return AE();if(!t)throw Li.create("no-app",{appName:r});return t}function ji(r,t,n){let s=yR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${t}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wr.warn(f.join(" "));return}Qa(new js(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="firebase-heartbeat-database",bR=1,Ul="firebase-heartbeat-store";let nm=null;function xE(){return nm||(nm=UA(TR,bR,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(r=>{throw Li.create("idb-open",{originalErrorMessage:r.message})})),nm}async function SR(r){try{const n=(await xE()).transaction(Ul),s=await n.objectStore(Ul).get(CE(r));return await n.done,s}catch(t){if(t instanceof ei)Wr.warn(t.message);else{const n=Li.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wr.warn(n.message)}}}async function Av(r,t){try{const s=(await xE()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(t,CE(r)),await s.done}catch(n){if(n instanceof ei)Wr.warn(n.message);else{const s=Li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(s.message)}}}function CE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=1024,AR=30;class RR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Rv();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>AR){const f=IR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rv(),{heartbeatsToSend:s,unsentEntries:o}=xR(this._heartbeatsCache.heartbeats),u=nh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Wr.warn(n),""}}}function Rv(){return new Date().toISOString().substring(0,10)}function xR(r,t=wR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),xv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class CR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mA()?gA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function xv(r){return nh(JSON.stringify({version:2,heartbeats:r})).length}function IR(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(r){Qa(new js("platform-logger",t=>new HA(t),"PRIVATE")),Qa(new js("heartbeat",t=>new RR(t),"PRIVATE")),ji(_m,Sv,r),ji(_m,Sv,"esm2020"),ji("fire-js","")}NR("");function IE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DR=IE,NE=new tu("auth","Firebase",IE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new eg("@firebase/auth");function OR(r,...t){ih.logLevel<=Vt.WARN&&ih.warn(`Auth (${ao}): ${r}`,...t)}function $c(r,...t){ih.logLevel<=Vt.ERROR&&ih.error(`Auth (${ao}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(r,...t){throw sg(r,...t)}function Hn(r,...t){return sg(r,...t)}function ig(r,t,n){const s={...DR(),[t]:n};return new tu("auth","Firebase",s).create(t,{appName:r.name})}function ks(r){return ig(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function PR(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&mr(r,"argument-error"),ig(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return NE.create(r,...t)}function St(r,t,...n){if(!r)throw sg(t,...n)}function Fr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $c(t),new Error(t)}function Zr(r,t){r||Fr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function MR(){return Cv()==="http:"||Cv()==="https:"}function Cv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MR()||cA()||"connection"in navigator)?navigator.onLine:!0}function kR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Zr(n>t,"Short delay should be less than long delay!"),this.isMobile=oA()||hA()}get(){return VR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(r,t){Zr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UR=new nu(3e4,6e4);function og(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function oo(r,t,n,s,o={}){return OE(r,o,async()=>{let u={},f={};s&&(t==="GET"?f=s:u={body:JSON.stringify(s)});const m=eu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:t,headers:g,...u};return uA()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(p.credentials="include"),DE.fetch()(await PE(r,r.config.apiHost,n,m),p)})}async function OE(r,t,n){r._canInitEmulator=!1;const s={...LR,...t};try{const o=new BR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw kc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw kc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw kc(r,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ig(r,E,p);mr(r,E)}}catch(o){if(o instanceof ei)throw o;mr(r,"network-request-failed",{message:String(o)})}}async function zR(r,t,n,s,o={}){const u=await oo(r,t,n,s,o);return"mfaPendingCredential"in u&&mr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function PE(r,t,n,s){const o=`${t}${n}?${s}`,u=r,f=u.config.emulator?ag(r.config,o):`${r.config.apiScheme}://${o}`;return jR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class BR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Hn(this.auth,"network-request-failed")),UR.get())})}}function kc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Hn(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,t){return oo(r,"POST","/v1/accounts:delete",t)}async function sh(r,t){return oo(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ME(r,t=!1){const n=yn(r),s=await n.getIdToken(t),o=lg(s);St(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ol(rm(o.auth_time)),issuedAtTime:Ol(rm(o.iat)),expirationTime:Ol(rm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function rm(r){return Number(r)*1e3}function lg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=yE(n);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Iv(r){const t=lg(r);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ei&&qR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function qR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(r){var b;const t=r.auth,n=await r.getIdToken(),s=await zl(r,sh(t,{idToken:n}));St(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=(b=o.providerUserInfo)!=null&&b.length?VE(o.providerUserInfo):[],f=GR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!(f!=null&&f.length),p=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,E)}async function $R(r){const t=yn(r);await ah(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GR(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function VE(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(r,t){const n=await OE(r,{},async()=>{const s=eu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await PE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(g.credentials="include"),DE.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XR(r,t){return oo(r,"POST","/v2/accounts:revokeToken",og(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){St(t.length!==0,"internal-error");const n=Iv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await YR(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new qa;return s&&(St(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),o&&(St(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(St(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(r,t){St(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Bn{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new FR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await zl(this,this.stsTokenManager.getToken(this.auth,t));return St(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return ME(this,t)}reload(){return $R(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Bn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(ks(this.auth));const t=await this.getIdToken();return await zl(this,HR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,p=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:x,providerData:O,stsTokenManager:V}=n;St(b&&V,t,"internal-error");const k=qa.fromJSON(this.name,V);St(typeof b=="string",t,"internal-error"),Di(s,t.name),Di(o,t.name),St(typeof S=="boolean",t,"internal-error"),St(typeof x=="boolean",t,"internal-error"),Di(u,t.name),Di(f,t.name),Di(m,t.name),Di(g,t.name),Di(p,t.name),Di(E,t.name);const U=new Bn({uid:b,auth:t,email:o,emailVerified:S,displayName:s,isAnonymous:x,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:k,createdAt:p,lastLoginAt:E});return O&&Array.isArray(O)&&(U.providerData=O.map(F=>({...F}))),g&&(U._redirectEventId=g),U}static async _fromIdTokenResponse(t,n,s=!1){const o=new qa;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await ah(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];St(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new qa;m.updateFromIdToken(s);const g=new Bn({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;function $r(r){Zr(r instanceof Function,"Expected a class definition");let t=Nv.get(r);return t?(Zr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Nv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}kE.type="NONE";const Dv=kE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(r,t,n){return`firebase:${r}:${t}:${n}`}class Fa{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await sh(this.auth,{idToken:t}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,t):null}return Bn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Fa($r(Dv),t,s);const o=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||$r(Dv);const f=Gc(s,t.config.apiKey,t.name);let m=null;for(const p of n)try{const E=await p._get(f);if(E){let b;if(typeof E=="string"){const S=await sh(t,{idToken:E}).catch(()=>{});if(!S)break;b=await Bn._fromGetAccountInfoResponse(t,S,E)}else b=Bn._fromJSON(t,E);p!==u&&(m=b),u=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Fa(u,t,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new Fa(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(LE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(HE(t))return"Blackberry";if(qE(t))return"Webos";if(jE(t))return"Safari";if((t.includes("chrome/")||UE(t))&&!t.includes("edge/"))return"Chrome";if(BE(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function LE(r=Ze()){return/firefox\//i.test(r)}function jE(r=Ze()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UE(r=Ze()){return/crios\//i.test(r)}function zE(r=Ze()){return/iemobile/i.test(r)}function BE(r=Ze()){return/android/i.test(r)}function HE(r=Ze()){return/blackberry/i.test(r)}function qE(r=Ze()){return/webos/i.test(r)}function ug(r=Ze()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QR(r=Ze()){var t;return ug(r)&&!!((t=window.navigator)!=null&&t.standalone)}function KR(){return fA()&&document.documentMode===10}function FE(r=Ze()){return ug(r)||BE(r)||qE(r)||HE(r)||/windows phone/i.test(r)||zE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(r,t=[]){let n;switch(r){case"Browser":n=Ov(Ze());break;case"Worker":n=`${Ov(Ze())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((f,m)=>{try{const g=t(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(r,t={}){return oo(r,"GET","/v2/passwordPolicy",og(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=6;class tx{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pv(this),this.idTokenSubscription=new Pv(this),this.beforeStateQueue=new WR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=$r(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Fa.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await sh(this,{idToken:t}),s=await Bn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(t);(!f||f===m)&&(g!=null&&g.user)&&(s=g.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ah(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Un(this.app))return Promise.reject(ks(this));const n=t?yn(t):null;return n&&St(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(ks(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Un(this.app)?Promise.reject(ks(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($r(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZR(this),n=new tx(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new tu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await XR(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&$r(t)||this._popupRedirectResolver;St(n,this,"argument-error"),this.redirectPersistenceManager=await Fa.create(this,[$r(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=t.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=t.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&OR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wh(r){return yn(r)}class Pv{constructor(t){this.auth=t,this.observer=null,this.addObserver=EA(n=>this.observer=n)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nx(r){cg=r}function rx(r){return cg.loadJS(r)}function ix(){return cg.gapiScript}function sx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(r,t){const n=rg(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ls(u,t??{}))return o;mr(o,"already-initialized")}return n.initialize({options:t})}function ox(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map($r);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function lx(r,t,n){const s=wh(r);St(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=GE(t),{host:f,port:m}=ux(t),g=m===null?"":`:${m}`,p={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){St(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),St(Ls(p,s.config.emulator)&&Ls(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,so(f)?(TE(`${u}//${f}${g}`),bE("Auth",!0)):cx()}function GE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function ux(r){const t=GE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Mv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Mv(f)}}}function Mv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function cx(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Fr("not implemented")}_getIdTokenResponse(t){return Fr("not implemented")}_linkToIdToken(t,n){return Fr("not implemented")}_getReauthenticationResolver(t){return Fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(r,t){return zR(r,"POST","/v1/accounts:signInWithIdp",og(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="http://localhost";class Us extends YE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Us(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return $a(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,$a(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,$a(t,n)}buildRequest(){const t={requestUri:hx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=eu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends hg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ru{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oi.credential(t.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Us._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends ru{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pi.credential(t.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ru{constructor(){super("twitter.com")}static credential(t,n){return Us._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Mi.credentialFromTaggedObject(t)}static credentialFromError(t){return Mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Mi.credential(n,s)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await Bn._fromIdTokenResponse(t,s,o),f=Vv(s);return new Ka({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=Vv(s);return new Ka({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function Vv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends ei{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,oh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new oh(t,n,s,o)}}function XE(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?oh._fromErrorAndOperation(r,u,t,s):u})}async function fx(r,t,n=!1){const s=await zl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ka._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(r,t,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(ks(s));const o="reauthenticate";try{const u=await zl(r,XE(s,o,t,r),n);St(u.idToken,s,"internal-error");const f=lg(u.idToken);St(f,s,"internal-error");const{sub:m}=f;return St(r.uid===m,s,"user-mismatch"),Ka._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&mr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mx(r,t,n=!1){if(Un(r.app))return Promise.reject(ks(r));const s="signIn",o=await XE(r,s,t),u=await Ka._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function gx(r,t,n,s){return yn(r).onIdTokenChanged(t,n,s)}function px(r,t,n){return yn(r).beforeAuthStateChanged(t,n)}function yx(r,t,n,s){return yn(r).onAuthStateChanged(t,n,s)}function vx(r){return yn(r).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=1e3,Ex=10;class KE extends QE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);KR()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,Ex):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},_x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}KE.type="LOCAL";const Tx=KE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends QE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}WE.type="SESSION";const ZE=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Ah(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async p=>p(n.origin,u)),g=await bx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const p=fg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function wx(r){ur().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function Ax(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rx(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function xx(){return JE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="firebaseLocalStorageDb",Cx=1,uh="firebaseLocalStorage",eT="fbase_key";class iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rh(r,t){return r.transaction([uh],t?"readwrite":"readonly").objectStore(uh)}function Ix(){const r=indexedDB.deleteDatabase(tT);return new iu(r).toPromise()}function wm(){const r=indexedDB.open(tT,Cx);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(uh,{keyPath:eT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(uh)?t(s):(s.close(),await Ix(),t(await wm()))})})}async function kv(r,t,n){const s=Rh(r,!0).put({[eT]:t,value:n});return new iu(s).toPromise()}async function Nx(r,t){const n=Rh(r,!1).get(t),s=await new iu(n).toPromise();return s===void 0?null:s.value}function Lv(r,t){const n=Rh(r,!0).delete(t);return new iu(n).toPromise()}const Dx=800,Ox=3;class nT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>Ox)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(xx()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await Ax(),!this.activeServiceWorker)return;this.sender=new Sx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Rx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await kv(t,lh,"1"),await Lv(t,lh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>kv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>Nx(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Rh(o,!1).getAll();return new iu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Dx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nT.type="LOCAL";const Px=nT;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r,t){return t?$r(t):(St(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends YE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,n){return $a(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Mx(r){return mx(r.auth,new dg(r),r.bypassAuthState)}function Vx(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),dx(n,new dg(r),r.bypassAuthState)}async function kx(r){const{auth:t,user:n}=r;return St(n,t,"internal-error"),fx(n,new dg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=t;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Mx;case"linkViaPopup":case"linkViaRedirect":return kx;case"reauthViaPopup":case"reauthViaRedirect":return Vx;default:mr(this.auth,"internal-error")}}resolve(t){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new nu(2e3,1e4);async function jx(r,t,n){if(Un(r.app))return Promise.reject(Hn(r,"operation-not-supported-in-this-environment"));const s=wh(r);PR(r,t,hg);const o=rT(s,n);return new Ms(s,"signInViaPopup",t,o).executeNotNull()}class Ms extends iT{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const t=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lx.get())};t()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="pendingRedirect",Yc=new Map;class zx extends iT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const s=await Bx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bx(r,t){const n=Fx(t),s=qx(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Hx(r,t){Yc.set(r._key(),t)}function qx(r){return $r(r._redirectPersistence)}function Fx(r){return Gc(Ux,r.config.apiKey,r.name)}async function $x(r,t,n=!1){if(Un(r.app))return Promise.reject(ks(r));const s=wh(r),o=rT(s,t),f=await new zx(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=600*1e3;class Yx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!sT(t)){const o=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gx&&this.cachedEventUids.clear(),this.cachedEventUids.has(jv(t))}saveEventToCache(t){this.cachedEventUids.add(jv(t)),this.lastProcessedEventTime=Date.now()}}function jv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function sT({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Xx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(r,t={}){return oo(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wx=/^https?/;async function Zx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Qx(r);for(const n of t)try{if(Jx(n))return}catch{}mr(r,"unauthorized-domain")}function Jx(r){const t=bm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Wx.test(n))return!1;if(Kx.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=new nu(3e4,6e4);function Uv(){const r=ur().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function e2(r){return new Promise((t,n)=>{var o,u,f;function s(){Uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uv(),n(Hn(r,"network-request-failed"))},timeout:t2.get()})}if((u=(o=ur().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=ur().gapi)!=null&&f.load)s();else{const m=sx("iframefcb");return ur()[m]=()=>{gapi.load?s():n(Hn(r,"network-request-failed"))},rx(`${ix()}?onload=${m}`).catch(g=>n(g))}}).catch(t=>{throw Xc=null,t})}let Xc=null;function n2(r){return Xc=Xc||e2(r),Xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new nu(5e3,15e3),i2="__/auth/iframe",s2="emulator/auth/iframe",a2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},o2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l2(r){const t=r.config;St(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?ag(t,s2):`https://${r.config.authDomain}/${i2}`,s={apiKey:t.apiKey,appName:r.name,v:ao},o=o2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${eu(s).slice(1)}`}async function u2(r){const t=await n2(r),n=ur().gapi;return St(n,r,"internal-error"),t.open({where:document.body,url:l2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Hn(r,"network-request-failed"),m=ur().setTimeout(()=>{u(f)},r2.get());function g(){ur().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h2=500,f2=600,d2="_blank",m2="http://localhost";class zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g2(r,t,n,s=h2,o=f2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...c2,width:s.toString(),height:o.toString(),top:u,left:f},p=Ze().toLowerCase();n&&(m=UE(p)?d2:n),LE(p)&&(t=t||m2,g.scrollbars="yes");const E=Object.entries(g).reduce((S,[x,O])=>`${S}${x}=${O},`,"");if(QR(p)&&m!=="_self")return p2(t||"",m),new zv(null);const b=window.open(t||"",m,E);St(b,r,"popup-blocked");try{b.focus()}catch{}return new zv(b)}function p2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="__/auth/handler",v2="emulator/auth/handler",_2=encodeURIComponent("fac");async function Bv(r,t,n,s,o,u){St(r.config.authDomain,r,"auth-domain-config-required"),St(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ao,eventId:o};if(t instanceof hg){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",_A(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(t instanceof ru){const E=t.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),p=g?`#${_2}=${encodeURIComponent(g)}`:"";return`${E2(r)}?${eu(m).slice(1)}${p}`}function E2({config:r}){return r.emulator?ag(r,v2):`https://${r.authDomain}/${y2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="webStorageSupport";class T2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=$x,this._overrideRedirectResult=Hx}async _openPopup(t,n,s,o){var f;Zr((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await Bv(t,n,s,bm(),o);return g2(t,u,fg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await Bv(t,n,s,bm(),o);return wx(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Zr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await u2(t),s=new Yx(t);return n.register("authEvent",o=>(St(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(im,{type:im},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[im];u!==void 0&&n(!!u),mr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zx(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return FE()||jE()||ug()}}const b2=T2;var Hv="@firebase/auth",qv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A2(r){Qa(new js("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;St(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(r)},p=new ex(s,o,u,g);return ox(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Qa(new js("auth-internal",t=>{const n=wh(t.getProvider("auth").getImmediate());return(s=>new S2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ji(Hv,qv,w2(r)),ji(Hv,qv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=300,x2=EE("authIdTokenMaxAge")||R2;let Fv=null;const C2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>x2)return;const o=n==null?void 0:n.token;Fv!==o&&(Fv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function I2(r=RE()){const t=rg(r,"auth");if(t.isInitialized())return t.getImmediate();const n=ax(r,{popupRedirectResolver:b2,persistence:[Px,Tx,ZE]}),s=EE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=C2(u.toString());px(n,f,()=>f(n.currentUser)),gx(n,m=>f(m))}}const o=vE("auth");return o&&lx(n,`http://${o}`),n}function N2(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}nx({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Hn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",N2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A2("Browser");var D2="firebase",O2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ji(D2,O2,"app");const P2={apiKey:"AIzaSyDgsycZsy-CUhSpnSyUtzIFuuGu7D3TbiY",authDomain:"separex-a6a43.firebaseapp.com",projectId:"separex-a6a43",storageBucket:"separex-a6a43.firebasestorage.app",messagingSenderId:"56684228541",appId:"1:56684228541:web:51320a32386dc34e122cd4"},aT=AE(P2),Gr=I2(aT),M2=new qr,oT=z.createContext(),V2=({children:r})=>{const[t,n]=z.useState(null),[s,o]=z.useState(!0);return z.useEffect(()=>{const u=yx(Gr,f=>{(async()=>{if(f)try{const p=(await ME(f)).claims.role||"customer";n({uid:f.uid,email:f.email,displayName:f.displayName,photoURL:f.photoURL,role:p});try{await fetch("http://localhost:5000/api/save-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:f.uid,email:f.email,displayName:f.displayName,role:p,timestamp:new Date().toISOString()})})}catch(E){console.warn("Failed to send user data to backend:",E)}Gr.currentUser&&await Gr.currentUser.getIdToken(!0)}catch(g){console.error("Error getting token",g),n({uid:f.uid,email:f.email,displayName:f.displayName,photoURL:f.photoURL,role:"customer"})}else n(null);o(!1)})()});return()=>u()},[]),v.jsx(oT.Provider,{value:{user:t,loading:s},children:r})},lo=()=>z.useContext(oT),lT=z.createContext(),k2=({children:r})=>{const{user:t}=lo(),[n,s]=z.useState([]);z.useEffect(()=>{if(t){const m=localStorage.getItem(`orders_${t.uid}`);s(m?JSON.parse(m):[])}else s([])},[t]);const o=m=>{t&&localStorage.setItem(`orders_${t.uid}`,JSON.stringify(m))},u=m=>{const g=[...n,m];s(g),o(g)},f=m=>{const g=n.filter((p,E)=>E!==m);s(g),o(g)};return v.jsx(lT.Provider,{value:{orders:n,addOrder:u,deleteOrder:f},children:r})},L2=()=>z.useContext(lT),j2="/Separex/assets/logo-B0Z9H7Ok.png";function su(){const r=Km(),{user:t,loading:n}=lo(),[s,o]=z.useState(!1),u=async()=>{try{await vx(Gr)}catch(f){console.error("Error signing out:",f)}};return v.jsxs("header",{className:"header",children:[v.jsx("div",{className:"headerLeft",children:v.jsx("img",{className:"headerImg",src:j2,alt:"Logo",onClick:()=>r("/Home")})}),v.jsxs("nav",{className:"headerNavigation",children:[v.jsx("div",{className:"headerItem",onClick:()=>r("/Configurator"),children:"Configurator"}),v.jsx("div",{className:"headerItem",onClick:()=>r("/Cart"),children:"Cart"}),v.jsx("div",{className:"headerItem",onClick:()=>r("/Profile"),children:!n&&(t!=null&&t.photoURL)&&!s?v.jsx("img",{src:t.photoURL,className:"profileAvatar",style:{width:"32px",height:"32px",borderRadius:"50%",objectFit:"cover"},onError:()=>o(!0)}):"Profile"})]}),v.jsx("div",{className:"headerRight",children:!n&&t&&v.jsx("button",{className:"headerButton",onClick:u,children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out-icon lucide-log-out",children:[v.jsx("path",{d:"m16 17 5-5-5-5"}),v.jsx("path",{d:"M21 12H9"}),v.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"})]})})})]})}function U2({category:r,mountType:t,scaledWidth:n,selectedType:s,borderPx:o}){if(r==="Sliding Doors"){const u=t==="In wall";return v.jsx("div",{style:{maxWidth:"900px",position:"absolute",top:`${u?-o/16:-(o*2.2)/16}rem`,right:s==="1-Part Element"&&!u?"0":"50%",transform:s==="1-Part Element"&&!u?"translateX(0%)":"translateX(50%)",height:`${2*o/16}rem`,width:`${u?n/15:n*2/15}rem`,background:"linear-gradient(225deg, rgb(0, 0, 0) 20%, rgba(0, 0, 0, 0.66) 100%)",zIndex:2}})}return null}function z2({realWidth:r,realHeight:t,borderPx:n}){return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"AxisX",children:v.jsx("span",{className:"AxisLabel",children:r})}),v.jsx("div",{className:"AxisY",children:v.jsx("span",{className:"AxisLabel",children:t})})]})}var sm={exports:{}},am,$v;function B2(){if($v)return am;$v=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return am=r,am}var om,Gv;function H2(){if(Gv)return om;Gv=1;var r=B2();function t(){}function n(){}return n.resetWarningCache=t,om=function(){function s(f,m,g,p,E,b){if(b!==r){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},om}var Yv;function q2(){return Yv||(Yv=1,sm.exports=H2()()),sm.exports}var F2=q2();const Xe=W_(F2),uT=(r,t)=>{switch(r){case"2-Part Element O":return{height:50,secondHeight:50};case"4-Part Element O":return{height:50,secondHeight:50,width:50,secondWidth:50};case(r.match(/^\d+-Part Element A$/)||{}).input:return{topHeight:30,widths:Array(t-1).fill(100/(t-1))};default:return{widths:Array(t).fill(100/t)}}},lm=({doorDimensions:r,sectionDimensions:t,selectedType:n,sectionCount:s})=>{if(!r||!t)return uT(n,s);let o;switch(n){case"2-Part Element O":{const u=r.height,f=t[0]||u/2,m=t[1]||u-f;o={height:f/u*100,secondHeight:m/u*100};break}case"4-Part Element O":{const u=r.height,f=r.width,m=t[0]||u/2,g=t[1]||u-m,p=t[2]||f/2,E=t[3]||f-p;o={height:m/u*100,secondHeight:g/u*100,width:p/f*100,secondWidth:E/f*100};break}case(n.match(/^\d+-Part Element A$/)||{}).input:{const u=r.height,f=r.width;o={topHeight:(t[0]||u*.3)/u*100,widths:t.slice(1).map(g=>g?g/f*100:100/(s-1))};break}default:{const u=r.width;o={widths:t.map(f=>f?f/u*100:100/s)}}}return o},$2=(r,t)=>{if(!r)return t();const n={...r};if(n.widths){const s=n.widths.reduce((o,u)=>o+u,0);Math.abs(s-100)>.01&&(n.widths=n.widths.map(o=>o/s*100))}if(n.height&&n.secondHeight){const s=n.height+n.secondHeight;if(Math.abs(s-100)>.01){const o=100/s;n.height*=o,n.secondHeight*=o}}return n},G2=({selectedType:r,sectionCount:t,doorDimensions:n,sectionDimensions:s})=>{const o=z.useRef(null),[u,f]=z.useState(()=>lm({doorDimensions:n,sectionDimensions:s,selectedType:r,sectionCount:t})),m=z.useCallback(g=>{const p=$2(g,()=>uT(r,t));f(p)},[r,t]);return z.useEffect(()=>{const g=lm({doorDimensions:n,sectionDimensions:s,selectedType:r,sectionCount:t});m(g)},[s,n,r,t,m]),z.useEffect(()=>{if(r!==o.current){const g=lm({doorDimensions:n,sectionDimensions:s,selectedType:r,sectionCount:t});m(g),o.current=r}},[r,n,s,t,m]),{dimensions:u,updateDimensions:m,setDimensions:f}},Xv={TWO_PART:"2-Part Element O",FOUR_PART:"4-Part Element O"},xl=5,um=95,Am={SLIDING_DOORS:"Sliding Doors",SWING_DOORS:"Swing Doors"},Y2={FIXED:"fixed",LEFT:"left",RIGHT:"right"},X2=({selectedCategory:r,doorDimensions:t,selectedType:n,setSectionDimensions:s,updateDimensions:o})=>({handleResize:z.useCallback((f,m,g,p,E)=>{if(r==="Sliding Doors")return;const b=document.getElementById("sections-container");if(!b)return;const S=b.getBoundingClientRect();switch(m){case"vertical":{const O=(f.clientY-p)/S.height*100;if(n.includes("Part Element O")){const V=E.height+O;if(V>=xl&&V<=um){const k={...E,height:V,secondHeight:100-V};if(o(k),typeof s=="function"){const U=t.height,F=Math.round(V/100*U),q=U-F;s(n==="4-Part Element O"?Z=>[F,q,Z[2]||t.width/2,Z[3]||t.width/2]:[F,q])}}}break}case"horizontal":{const O=(f.clientX-g)/S.width*100;if(n==="4-Part Element O"){const V=E.width+O;if(V>=xl&&V<=um){const k={...E,width:V,secondWidth:100-V};if(o(k),typeof s=="function"){const U=t.width,F=Math.round(V/100*U),q=U-F;s(Z=>[Z[0]||t.height/2,Z[1]||t.height/2,F,q])}}}break}case"top":{const O=(f.clientY-p)/S.height*100,V=E.topHeight+O;if(V>=xl&&V<=um){const k={...E,topHeight:V};if(o(k),typeof s=="function"){const U=t.height,F=Math.round(V/100*U);s(q=>[F,...q.slice(1)])}}break}default:{if(typeof m=="number"&&E.widths){const O=(f.clientX-g)/S.width*100,V=[...E.widths];if(m<V.length-1){const k=V[m]+O,U=V[m+1]-O;if(k>=xl&&U>=xl){V[m]=k,V[m+1]=U;const F={...E,widths:V};if(o(F),typeof s=="function"){const q=t.width,Z=V.map(rt=>Math.round(rt/100*q));n.includes("Part Element A")?s(rt=>[rt[0],...Z]):s(Z)}}}}break}}},[r,t,n,s,o])}),Q2=r=>{const[t,n]=z.useState(!1),[s,o]=z.useState(null),[u,f]=z.useState(0),[m,g]=z.useState(0),[p,E]=z.useState(null),b=z.useCallback((O,V,k,U)=>{k!==Am.SLIDING_DOORS&&(O.preventDefault(),n(!0),o(V),f(O.clientX),g(O.clientY),E({...U}))},[]),S=z.useCallback(O=>{t&&p&&r(O,s,u,m,p)},[t,s,u,m,p,r]),x=z.useCallback(()=>{t&&(n(!1),o(null),E(null))},[t]);return z.useEffect(()=>(t&&(document.addEventListener("mousemove",S),document.addEventListener("mouseup",x)),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",x)}),[t,S,x]),{isResizing:t,handleResizeStart:b,handleMouseMove:S,handleMouseUp:x}},K2=r=>({handleSectionTypeChange:z.useCallback((n,s)=>{typeof r=="function"&&r(o=>{const u=[...o];return u[n]=s,u})},[r])});function W2({selectedType:r,index:t,doorDimensions:n,sectionDimensions:s,sectionCount:o}){if(r&&r.includes("4-Part Element O"))return t===0?v.jsx(v.Fragment,{children:v.jsx("div",{className:"sectionAxis sectionAxisY",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})})}):t===2?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"sectionAxis sectionAxisY",children:v.jsx("span",{className:"sectionAxisLabel",children:n.height-s[0]})}),v.jsx("div",{className:"sectionAxis sectionAxisX",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})})]}):t===3?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"sectionAxis sectionAxisX",children:v.jsx("span",{className:"sectionAxisLabel",children:s[3]})}),v.jsx("div",{className:"sectionAxis sectionAxisX",children:v.jsx("span",{className:"sectionAxisLabel",children:s[3]})})]}):null;if(r&&r.includes("Part Element A")){if(t===0)return v.jsx("div",{className:"sectionAxis sectionAxisY",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})});if(t===1)return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"sectionAxis sectionAxisY",children:v.jsx("span",{className:"sectionAxisLabel",children:n.height-s[0]})}),v.jsx("div",{className:"sectionAxis sectionAxisX",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})}),v.jsx("div",{className:"sectionAxis sectionAxisY",children:v.jsx("span",{className:"sectionAxisLabel",children:n.height-s[0]})}),v.jsx("div",{className:"sectionAxis sectionAxisX",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})})]});if(t>1)return v.jsx("div",{className:"sectionAxis sectionAxisX",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})})}return r&&r.includes("2-Part Element O")?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"sectionAxis sectionAxisY",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})}),v.jsx("div",{className:"sectionAxis sectionAxisY",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})})]}):r&&r.includes("Part Element")&&o!==1?v.jsx("div",{className:"sectionAxis sectionAxisX",children:v.jsx("span",{className:"sectionAxisLabel",children:s[t]})}):null}function Bl({style:r,onClick:t,children:n,selectedType:s,sectionCount:o,index:u,doorDimensions:f,sectionDimensions:m}){return v.jsxs("div",{className:"doorSection",style:r,onClick:t,children:[n,v.jsx(W2,{selectedType:s,index:u,doorDimensions:f,sectionDimensions:m,sectionCount:o})]})}const Z2=({scaled:r})=>v.jsx("div",{style:{position:"absolute",top:0,left:"10%",transform:"translateX(-50%)",width:`${r.borderPx/16}rem`,height:"100%",backgroundColor:"#000",pointerEvents:"none",transform:"translateX(-50%)"}}),J2=({scaled:r})=>v.jsx("div",{style:{position:"absolute",top:0,left:"90%",transform:"translateX(-50%)",width:`${r.borderPx/16}rem`,height:"100%",backgroundColor:"#000",pointerEvents:"none"}}),tC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",pointerEvents:"none",display:"flex",flexDirection:"row",justifyContent:"start"},children:[v.jsx("div",{style:{position:"absolute",top:0,left:"10%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"20%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),eC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",pointerEvents:"none",display:"flex",flexDirection:"row",justifyContent:"start"},children:[v.jsx("div",{style:{position:"absolute",top:0,left:"90%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"80%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),nC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",pointerEvents:"none",display:"flex",flexDirection:"row",justifyContent:"start"},children:[v.jsx("div",{style:{position:"absolute",top:0,left:"10%",transform:"translateX(-50%)",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"20%",transform:"translateX(-50%)",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"30%",transform:"translateX(-50%)",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),rC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",pointerEvents:"none",display:"flex",flexDirection:"row",justifyContent:"start"},children:[v.jsx("div",{style:{position:"absolute",top:0,left:"90%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"80%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"70%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),iC=({scaled:r})=>v.jsx("div",{style:{position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),sC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"33%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"66%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}})]}),aC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"25%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"75%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}})]}),oC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"20%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"40%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"60%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"80%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}})]}),lC=({scaled:r,doorDimensions:t})=>t.height<1200?null:v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none",boxSizing:"border-box"},children:[v.jsx("div",{style:{position:"absolute",bottom:`${2.1*r.borderPx}rem`,left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",bottom:`${2.9*r.borderPx}rem`,left:0,zIndex:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}})]}),uC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"70%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"15%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),cC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"70%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"85%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),hC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",bottom:`${2.1*r.borderPx}rem`,left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",bottom:`${2.9*r.borderPx}rem`,left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"15%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),fC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",bottom:`${2.1*r.borderPx}rem`,left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",bottom:`${2.9*r.borderPx}rem`,left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"85%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),dC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),mC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"33%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"66%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),gC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"25%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"75%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),pC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"20%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"40%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"60%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"80%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"50%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),yC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"20%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"80%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"15%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"85%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),vC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:`${r.scaledWidth*.1/16}rem`,left:0,transform:"translateY(50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",bottom:`${r.scaledWidth*.1/16}rem`,left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:`${r.scaledWidth*.1/16}rem`,transform:"translateX(50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,right:`${r.scaledWidth*.1/16}rem`,transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"100%",backgroundColor:"#000"}})]}),_C=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"55%",left:0,transform:"translateY(-50%)",width:"80%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",bottom:0,left:"80%",transform:"translateX(-100%)",width:`${r.borderPx/20}rem`,height:"45%",backgroundColor:"#000"}})]}),EC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"55%",right:0,transform:"translateY(-50%)",width:"80%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",bottom:0,right:"80%",transform:"translateX(50%)",width:`${r.borderPx/20}rem`,height:"45%",backgroundColor:"#000"}})]}),TC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"45%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"55%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"75%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"45%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",bottom:0,left:"25%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"45%",backgroundColor:"#000"}})]}),bC=({scaled:r})=>v.jsxs("div",{style:{height:"100%",width:"100%",display:"flex",flexDirection:"column",justifyContent:"start",pointerEvents:"none"},children:[v.jsx("div",{style:{position:"absolute",top:"45%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:"55%",left:0,transform:"translateY(-50%)",width:"100%",height:`${r.borderPx/20}rem`,backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",top:0,left:"25%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"45%",backgroundColor:"#000"}}),v.jsx("div",{style:{position:"absolute",bottom:0,left:"75%",transform:"translateX(-50%)",width:`${r.borderPx/20}rem`,height:"45%",backgroundColor:"#000"}})]}),SC=({scaled:r,position:t})=>v.jsxs("div",{style:{position:"absolute",top:"50%",...t==="right"?{right:".3em"}:{left:".3em"},transform:`translateY(-50%) translateX(${t==="right"?"50%":"-50%"})`,zIndex:5},children:[v.jsx("div",{style:{position:"relative",width:`${r.borderPx*2/16}rem`,height:`${r.borderPx*2/16}rem`,backgroundColor:"#333",pointerEvents:"none"}}),v.jsx("div",{style:{position:"absolute",width:`${r.borderPx*5/16}rem`,height:`${r.borderPx/16}rem`,backgroundColor:"#333",top:"50%",...t==="right"?{right:"150%"}:{left:"150%"},transform:`translateY(-50%) translateX(${t==="right"?"50%":"-50%"})`,pointerEvents:"none"}})]}),wC=({scaled:r,position:t})=>v.jsxs("div",{style:{position:"absolute",top:"50%",pointerEvents:"none",width:`${r.borderPx/16}rem`,height:`${r.borderPx*7/16}rem`,...t==="right"?{right:"0"}:{left:"0"},transform:"translateY(-50%)",zIndex:5},children:[v.jsx("div",{style:{position:"absolute",top:0,...t==="right"?{right:"0"}:{left:"0"},width:`${r.borderPx/16}rem`,height:`${r.borderPx/16}rem`,backgroundColor:"#333"}}),v.jsx("div",{style:{position:"absolute",width:`${r.borderPx/16}rem`,height:"100%",backgroundColor:"#333",bottom:"0",...t==="right"?{right:"100%"}:{left:"100%"}}}),v.jsx("div",{style:{position:"absolute",bottom:0,...t==="right"?{right:"0"}:{left:"0"},width:`${r.borderPx/16}rem`,height:`${r.borderPx/16}rem`,backgroundColor:"#333"}})]}),AC=({scaled:r,position:t})=>v.jsxs("div",{style:{position:"absolute",top:"50%",pointerEvents:"none",width:`${r.borderPx/16}rem`,height:`${r.borderPx*13/16}rem`,...t==="right"?{right:"0"}:{left:"0"},transform:"translateY(-50%)",zIndex:5},children:[v.jsx("div",{style:{position:"absolute",top:0,...t==="right"?{right:"0"}:{left:"0"},width:`${r.borderPx/16}rem`,height:`${r.borderPx/16}rem`,backgroundColor:"#333"}}),v.jsx("div",{style:{position:"absolute",width:`${r.borderPx/16}rem`,height:"100%",backgroundColor:"#333",bottom:"0",...t==="right"?{right:"100%"}:{left:"100%"}}}),v.jsx("div",{style:{position:"absolute",bottom:0,...t==="right"?{right:"0"}:{left:"0"},width:`${r.borderPx/16}rem`,height:`${r.borderPx/16}rem`,backgroundColor:"#333"}})]}),RC=({scaled:r,position:t})=>v.jsxs("div",{style:{position:"absolute",top:"50%",pointerEvents:"none",width:`${r.borderPx/16}rem`,height:`${r.borderPx*20/16}rem`,...t==="right"?{right:"0"}:{left:"0"},transform:"translateY(-50%)",zIndex:5},children:[v.jsx("div",{style:{position:"absolute",top:0,...t==="right"?{right:"0"}:{left:"0"},width:`${r.borderPx/16}rem`,height:`${r.borderPx/16}rem`,backgroundColor:"#333"}}),v.jsx("div",{style:{position:"absolute",width:`${r.borderPx/16}rem`,height:"100%",backgroundColor:"#333",bottom:"0",...t==="right"?{right:"100%"}:{left:"100%"}}}),v.jsx("div",{style:{position:"absolute",bottom:0,...t==="right"?{right:"0"}:{left:"0"},width:`${r.borderPx/16}rem`,height:`${r.borderPx/16}rem`,backgroundColor:"#333"}})]}),xC={Line:Z2,"Line Inverted":J2,"Double Line":tC,"Double Line Inverted":eC,"Triple Line":nC,"Triple Line Inverted":rC,Simetry:iC,Trio:sC,Quatro:aC,Five:oC,Trend:lC,Nordic:uC,"Nordic Inverted":cC,Punto:hC,"Punto Inverted":fC,Geos:dC,Geometry:mC,Star:gC,Diez:pC,Loft:yC,Nimbus:vC,Modern:_C,"Modern Inverted":EC,Altus:TC,"Altus Inverted":bC};function Hl(r,t,n){if(!r||r==="Aero")return null;const s=xC[r];return s?Ll.createElement(s,{scaled:t,doorDimensions:n}):null}const Qv={Clear:{backgroundColor:"linear-gradient(225deg, rgba(150, 150, 150, 0.4) 30%, rgba(150,150,150,0.2) 100%)"},Frosted:{backgroundColor:"linear-gradient(90deg,rgba(255, 255, 255, 0.4) 30%,rgba(255,255,255,0.2) 100%)"},Grey:{backgroundColor:"linear-gradient(225deg, rgba(0, 0, 0, 0.4) 30%, rgba(100, 100, 100, 0.2) 100%)"},"Dark Grey":{backgroundColor:"linear-gradient(225deg, rgba(0, 0, 0, 0.6) 30%, rgba(0, 0, 0, 0.4) 100%)"},Bronze:{backgroundColor:"linear-gradient(225deg, rgba(205,125,50,0.4) 30%, rgba(255,215,160,0.2) 100%)"},Lacobel:{backgroundColor:"linear-gradient(225deg, rgba(255,255,255,0.9) 30%, rgba(230,230,230,0.9) 100%)"},Canelata:{backgroundColor:`repeating-linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.1) 0px,
      rgba(255, 255, 255, 0.1) 2px,
      rgba(150, 150, 150, 0.1) 6px,
      rgba(150, 150, 150, 0.1) 9px
    )`}},ql=(r,t)=>Qv[r==null?void 0:r[t]]||Qv.Clear,CC={"Handle With Lock":SC,"Pull Handle 160":wC,"Pull Handle 288":AC,"Pull Handle 448":RC},Fl=(r,t,n,s)=>{if(!r||Array.isArray(r)&&r.length===0)return null;const o=Array.isArray(r)?r[n]:r;if(!o||s==="fixed")return null;const u=CC[o];return u?Ll.createElement(u,{scaled:t,position:s==="left"?"right":"left"}):null},IC=({dimensions:r,scaled:t,sectionColors:n,sectionModels:s,isSelected:o,onClick:u,setSelectionVisible:f,handleVerticalResizeStart:m,selectedCategory:g,selectedType:p,sectionDimensions:E,doorDimensions:b,selectedHandle:S,sectionTypes:x,renderSectionTypeRadio:O=()=>null})=>{const V=g==="Sliding Doors",k=g==="Swing Doors",U=t.borderPx/16,F=t.borderPx/32;return v.jsxs("div",{id:"sections-container",style:{position:"relative",width:"100%",height:"100%"},children:[[0,1].map(q=>{var D;const Z=k&&(x[q]==="right"||x[q]==="left");let rt=Z?`${F/3}rem`:0,J="none",P="none",A="none";return Z&&(x[q]==="left"?(J=`${F}rem solid #000`,P=q===0&&x[1]==="right"?"none":`${F}rem solid #000`):x[q]==="right"&&(P=`${F}rem solid #000`,J=q===1&&x[0]==="left"?"none":`${F}rem solid #000`),A=`${F}rem solid #000`),v.jsx("div",{style:{position:"absolute",top:`${q===0?0:r.height}%`,left:0,width:"100%",height:`${q===0?r.height:r.secondHeight}%`,boxSizing:"border-box",padding:rt,borderLeft:J,borderRight:P,borderTop:A},children:v.jsxs(Bl,{index:q,total:2,onClick:()=>{u(q),f(!0)},style:{display:"flex",height:"100%",width:"100%",border:`${U}rem solid #000`,borderBottom:`${U}rem solid #000`,background:o(q)?"rgba(105, 200, 255, 0.6)":((D=ql(n,q))==null?void 0:D.backgroundColor)||"transparent",cursor:"pointer",overflow:"visible",boxSizing:"border-box",...V&&{boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},selectedType:p,sectionDimensions:E,doorDimensions:b,children:[Hl(s[q],t,b),Fl(S,t,q,x[q]),O&&O(q),k&&(x[q]==="left"||x[q]==="right")&&v.jsx(v.Fragment,{children:[0,1,2].map(N=>v.jsx("div",{style:{position:"absolute",width:`${t.borderPx/128}rem`,height:`${t.borderPx/4}rem`,backgroundColor:"#222",top:`${20+N*30}%`,[x[q]==="left"?"left":"right"]:`${-t.borderPx/15}rem`,zIndex:5}},N))})]})},q)}),g!=="Sliding Doors"&&v.jsx("div",{style:{position:"absolute",top:`${r.height-3}%`,left:0,width:"100%",height:"6px",cursor:"row-resize",zIndex:10},onMouseDown:m})]})};function NC({dimensions:r,scaled:t,sectionColors:n,sectionModels:s,isSelected:o,onClick:u,setSelectionVisible:f,handleVerticalResizeStart:m,handleHorizontalResizeStart:g,selectedType:p,selectedCategory:E,sectionDimensions:b,doorDimensions:S,selectedHandle:x,sectionTypes:O,renderSectionTypeRadio:V=()=>null}){const k=E==="Sliding Doors",U=E==="Swing Doors",F=t.borderPx/16,q=t.borderPx/32,Z=[{top:0,left:0,width:r.width,height:r.height},{top:0,left:r.width,width:100-r.width,height:r.height},{top:r.height,left:0,width:r.width,height:100-r.height},{top:r.height,left:r.width,width:100-r.width,height:100-r.height}];return v.jsxs("div",{id:"sections-container",style:{position:"relative",width:"100%",height:"100%"},children:[Z.map((rt,J)=>{var L;const P=U&&(O[J]==="right"||O[J]==="left");let A=P?`${q/3}rem`:0,D="none",N="none",C="none";return P&&(O[J]==="left"?(D=`${q}rem solid #000`,N=J<3&&O[J+1]==="right"?"none":`${q}rem solid #000`):O[J]==="right"&&(N=`${q}rem solid #000`,D=J>0&&O[J-1]==="left"?"none":`${q}rem solid #000`),C=`${q}rem solid #000`),v.jsx("div",{style:{position:"absolute",top:`${rt.top}%`,left:`${rt.left}%`,width:`${rt.width}%`,height:`${rt.height}%`,boxSizing:"border-box",padding:A,borderLeft:D,borderRight:N,borderTop:C},children:v.jsxs(Bl,{index:J,total:4,onClick:()=>{u(J),f(!0)},style:{position:"relative",width:"100%",height:"100%",border:`${F}rem solid #000`,background:o(J)?"rgba(105, 200, 255, 0.6)":((L=ql(n,J))==null?void 0:L.backgroundColor)||"transparent",cursor:"pointer",overflow:"visible",boxSizing:"border-box",...k&&{boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},selectedType:p,sectionDimensions:b,doorDimensions:S,children:[Hl(s[J],t,S),Fl(x,t,J,O[J]),V&&V(J),U&&(O[J]==="left"||O[J]==="right")&&v.jsx(v.Fragment,{children:[0,1,2].map(I=>v.jsx("div",{style:{position:"absolute",width:`${t.borderPx/128}rem`,height:`${t.borderPx/4}rem`,backgroundColor:"#222",top:`${20+I*30}%`,[O[J]==="left"?"left":"right"]:`${-t.borderPx/15}rem`,zIndex:5}},I))})]})},J)}),E!=="Sliding Doors"&&v.jsxs(v.Fragment,{children:[v.jsx("div",{style:{position:"absolute",top:`${r.height-3}%`,left:0,width:"100%",height:"6px",cursor:"row-resize",zIndex:10},onMouseDown:m}),v.jsx("div",{style:{position:"absolute",top:0,left:`${r.width-3}%`,width:"6px",height:"100%",cursor:"col-resize",zIndex:10},onMouseDown:g})]})]})}function DC({dimensions:r,scaled:t,sectionColors:n,sectionModels:s,isSelected:o,onClick:u,setSelectionVisible:f,sectionCount:m,resizingIndex:g,isResizing:p,handleSectionResizeStart:E,handleTopSectionResizeStart:b,selectedCategory:S,selectedType:x,sectionDimensions:O,doorDimensions:V,selectedHandle:k,sectionTypes:U,renderSectionTypeRadio:F=()=>null}){const q=S==="Sliding Doors",Z=S==="Swing Doors",rt=t.borderPx/16,J=t.borderPx/32,P=m,A=P-1,D=r.widths||Array(A).fill(100/A);return v.jsxs("div",{id:"sections-container",style:{position:"relative",width:"100%",height:"100%"},children:[[0].map(N=>{var Q;const C=Z&&(U[N]==="right"||U[N]==="left");let L=0,I=0,At="none",pt="none";return C&&(U[N]==="left"?(L="1px",At=`${J}rem solid #000`,pt=`${J}rem solid #000`):U[N]==="right"&&(I="1px",pt=`${J}rem solid #000`,At=`${J}rem solid #000`)),v.jsx("div",{style:{position:"absolute",top:"0%",left:0,width:"100%",height:`${r.topHeight}%`,boxSizing:"border-box",padding:C?`${J/3}rem`:0,borderLeft:At,borderRight:pt,borderTop:C?`${J}rem solid #000`:"none",borderBottom:"none",marginLeft:`${L}rem`,marginRight:`${I}rem`},children:v.jsxs(Bl,{index:N,total:P,onClick:()=>{u(N),f(!0)},style:{width:"100%",height:"100%",border:`${rt}rem solid #000`,borderBottom:`${rt}rem solid #000`,background:o(N)?"rgba(105, 200, 255, 0.6)":((Q=ql(n,N))==null?void 0:Q.backgroundColor)||"transparent",cursor:"pointer",overflow:"visible",boxSizing:"border-box",...q&&{boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},selectedType:x,sectionDimensions:O,doorDimensions:V,children:[Hl(s[N],t,V),Fl(k,t,N,U[N]),F&&F(N),Z&&(U[N]==="left"||U[N]==="right")&&v.jsx(v.Fragment,{children:[0,1,2].map(ot=>v.jsx("div",{style:{position:"absolute",width:`${t.borderPx/128}rem`,height:`${t.borderPx/4}rem`,backgroundColor:"#222",top:`${20+ot*30}%`,[U[N]==="left"?"left":"right"]:`${-t.borderPx/15}rem`,zIndex:5}},ot))})]})},N)}),[...Array(A).keys()].map(N=>{var Nt;const C=N+1,L=Z&&(U[C]==="right"||U[C]==="left"),I=C<P-1&&(U[C+1]==="right"||U[C+1]==="left"),At=C>1&&(U[C-1]==="right"||U[C-1]==="left");let pt=0,Q=0,ot="none",ht="none";if(L&&(U[C]==="left"?(pt="1px",ot=`${J}rem solid #000`,ht=I&&U[C+1]==="right"?"none":`${J}rem solid #000`):U[C]==="right"&&(Q="1px",ht=`${J}rem solid #000`,ot=At&&U[C-1]==="left"?"none":`${J}rem solid #000`),I&&(Q="1px"),At&&(pt="1px")),Z&&U[C]==="fixed"){const j=C>1&&U[C-1]==="fixed",et=C<P-1&&U[C+1]==="fixed";ot=j?"none":`${J}rem solid #000`,ht=et?"none":`${J}rem solid #000`,pt=j?"0":"1px",Q=et?"0":"1px"}return v.jsx("div",{style:{position:"absolute",top:`${r.topHeight}%`,left:`${D.slice(0,N).reduce((j,et)=>j+et,0)}%`,width:`${D[N]}%`,height:`${100-r.topHeight}%`,boxSizing:"border-box",padding:L?`${J/3}rem`:0,borderLeft:ot,borderRight:ht,borderTop:L?`${J}rem solid #000`:"none",borderBottom:"none",marginLeft:`${pt}rem`,marginRight:`${Q}rem`},children:v.jsxs(Bl,{index:C,total:P,onClick:()=>{u(C),f(!0)},style:{width:"100%",height:"100%",border:`${rt}rem solid #000`,background:o(C)?"rgba(105, 200, 255, 0.6)":((Nt=ql(n,C))==null?void 0:Nt.backgroundColor)||"transparent",cursor:"pointer",overflow:"visible",boxSizing:"border-box",...q&&{boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},selectedType:x,sectionDimensions:O,doorDimensions:V,children:[Hl(s[C],t,V),Fl(k,t,C,U[C]),F&&F(C),Z&&(U[C]==="left"||U[C]==="right")&&v.jsx(v.Fragment,{children:[0,1,2].map(j=>v.jsx("div",{style:{position:"absolute",width:`${t.borderPx/128}rem`,height:`${t.borderPx/4}rem`,backgroundColor:"#222",top:`${20+j*30}%`,[U[C]==="left"?"left":"right"]:`${-t.borderPx/15}rem`,zIndex:5}},j))}),!q&&N<A-1&&v.jsx("div",{style:{position:"absolute",top:0,right:-3,width:6,height:"100%",cursor:"col-resize",backgroundColor:p&&g===N?"rgba(0,0,0,0.2)":"transparent",zIndex:10},onMouseDown:j=>E(j,N)})]})},C)}),S!=="Sliding Doors"&&v.jsx("div",{style:{position:"absolute",top:`${r.topHeight-3}%`,left:0,width:"100%",height:"6px",cursor:"row-resize",zIndex:10},onMouseDown:b})]})}function OC({dimensions:r,scaled:t,sectionColors:n,sectionModels:s,isSelected:o,onClick:u,setSelectionVisible:f,sectionCount:m,isResizing:g,resizingIndex:p,handleSectionResizeStart:E,selectedCategory:b,selectedType:S,sectionDimensions:x,doorDimensions:O,selectedHandle:V,sectionTypes:k,slidingMountType:U,renderSectionTypeRadio:F=()=>null}){const q=U==="On wall"?t.borderPx/128:0,Z=b==="Sliding Doors",rt=b==="Swing Doors",J=b==="Fixed Wall",P=Ll.useMemo(()=>{const A=(m-1)*q;if(r.widths&&r.widths.length===m){const C=100-(Z?A:0);return r.widths.map(L=>L*C/100)}const N=(100-(Z?A:0))/m;return Array(m).fill(N)},[r.widths,m,Z]);return v.jsx("div",{id:"sections-container",style:{position:"relative",width:"100%",height:"100%",display:"flex",overflow:"visible",gap:Z?`${q}rem`:0,padding:0,boxSizing:"border-box"},children:[...Array(m).keys()].map(A=>{var j;const D=rt&&(k[A]==="right"||k[A]==="left"),N=rt&&A<m-1&&(k[A+1]==="right"||k[A+1]==="left"),C=rt&&A>0&&(k[A-1]==="right"||k[A-1]==="left"),L=t.borderPx/16,I=t.borderPx/32;let At=0,pt=0,Q="none",ot="none",ht="none",Nt="none";if(D&&(Q=`${I}rem solid #000`,k[A]==="left"?(At="1px",ht=`${I}rem solid #000`,ot=N&&k[A+1]==="right"?"none":`${I}rem solid #000`):k[A]==="right"&&(pt="1px",ot=`${I}rem solid #000`,ht=C&&k[A-1]==="left"?"none":`${I}rem solid #000`),N&&(pt="1px"),C&&(At="1px")),rt&&k[A]==="fixed"){Q=`${I}rem solid #000`,Nt=`${I}rem solid #000`;const et=A>0&&k[A-1]==="fixed",ct=A<m-1&&k[A+1]==="fixed";ht=et?"none":`${I}rem solid #000`,ot=ct?"none":`${I}rem solid #000`,At=et?"0":"1px",pt=ct?"0":"1px"}return J&&(Q=`${L}rem solid #000`,Nt=`${L}rem solid #000`,A===0?(ht=`${L}rem solid #000`,ot=`${L}rem solid #000`):A>0&&A<m?(ht="none",ot=`${L}rem solid #000`):(ht="none",ot="none")),v.jsx("div",{style:{flex:`0 0 ${P[A]}%`,boxSizing:"border-box",minWidth:0,position:"relative",padding:D?`${I/3}rem`:0,borderLeft:ht,borderRight:ot,borderTop:Q,borderBottom:Nt,marginLeft:`${At}rem`,marginRight:`${pt}rem`},children:v.jsxs(Bl,{index:A,sectionCount:m,onClick:()=>{u(A),f(!0)},style:{height:"100%",border:J?"none":`${L}rem solid #000`,background:o(A)?"rgba(105, 200, 255, 0.6)":((j=ql(n,A))==null?void 0:j.backgroundColor)||"transparent",position:"relative",overflow:"visible",cursor:"pointer",...Z&&{boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},doorDimensions:O,selectedType:S,sectionDimensions:x,children:[Hl(s[A],t,r),Fl(V,t,A,k[A]),F&&F(A),rt&&(k[A]==="left"||k[A]==="right")&&v.jsx(v.Fragment,{children:[0,1,2].map(et=>v.jsx("div",{style:{position:"absolute",width:`${t.borderPx/128}rem`,height:`${t.borderPx/4}rem`,backgroundColor:"#222",top:`${20+et*30}%`,[k[A]==="left"?"left":"right"]:`${-t.borderPx/15}rem`,zIndex:5}},et))}),!Z&&A<m-1&&v.jsx("div",{style:{position:"absolute",top:0,right:-3,width:6,height:"100%",cursor:"col-resize",backgroundColor:g&&p===A?"rgba(0,0,0,0.2)":"transparent",zIndex:10},onMouseDown:et=>E(et,A)})]})},A)})})}const PC=r=>{switch(r){case Xv.TWO_PART:return IC;case Xv.FOUR_PART:return NC;case(r.match(/^\d+-Part Element A$/)||{}).input:return DC;default:return OC}};function cT({selectedCategory:r,selectedType:t,scaled:n,sectionCount:s,selectedIndex:o,sectionModels:u,sectionColors:f,selectionVisible:m,setSelectionVisible:g,onClick:p,sectionDimensions:E,setSectionDimensions:b,doorDimensions:S,sectionTypes:x,setSectionTypes:O,selectedHandle:V,slidingMountType:k}){const{dimensions:U,updateDimensions:F}=G2({selectedType:t,sectionCount:s,doorDimensions:S,sectionDimensions:E}),{handleResize:q}=X2({selectedCategory:r,doorDimensions:S,selectedType:t,setSectionDimensions:b,updateDimensions:F}),{isResizing:Z,handleResizeStart:rt,handleMouseMove:J,handleMouseUp:P}=Q2(q),{handleSectionTypeChange:A}=K2(O),D=Ll.useMemo(()=>({dimensions:U,scaled:n,sectionColors:f,sectionModels:u,isSelected:C=>o===C&&m,onClick:p,setSelectionVisible:g,handleVerticalResizeStart:C=>rt(C,"vertical",r,U),handleHorizontalResizeStart:C=>rt(C,"horizontal",r,U),handleTopSectionResizeStart:C=>rt(C,"top",r,U),handleSectionResizeStart:(C,L)=>rt(C,L,r,U),selectedCategory:r,selectedType:t,sectionDimensions:E,doorDimensions:S,selectedHandle:V,sectionTypes:x,sectionCount:s,slidingMountType:k,isResizing:Z,resizingIndex:null,renderSectionTypeRadio:C=>!m||o!==C||![Am.SLIDING_DOORS,Am.SWING_DOORS].includes(r)?null:v.jsx("div",{className:"sectionTypeInput",children:Object.entries(Y2).map(([L,I])=>v.jsxs("label",{style:{marginRight:L!=="RIGHT"?8:0},children:[v.jsx("input",{type:"radio",name:`section-type-${C}`,value:I,checked:x[C]===I,onChange:()=>A(C,I)}),L==="FIXED"?"Fixed":`To ${L.toLowerCase()}`]},L))})}),[U,n,f,u,o,m,p,r,t,x,rt,A,E,S,V,s,Z]);Ll.useEffect(()=>(Z&&(document.addEventListener("mousemove",J),document.addEventListener("mouseup",P)),()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",P)}),[Z,J,P]);const N=PC(t);return v.jsx(N,{...D})}cT.propTypes={selectedCategory:Xe.string.isRequired,selectedType:Xe.string.isRequired,scaled:Xe.bool,sectionCount:Xe.number.isRequired,selectedIndex:Xe.number,sectionModels:Xe.array,sectionColors:Xe.array,selectionVisible:Xe.bool,setSelectionVisible:Xe.func,onClick:Xe.func,sectionDimensions:Xe.array,setSectionDimensions:Xe.func,doorDimensions:Xe.object,sectionTypes:Xe.array,setSectionTypes:Xe.func,selectedHandle:Xe.string};const MC=z.memo(cT),VC=z.forwardRef(({doorDimensions:r,scaled:t,selectedCategory:n,slidingMountType:s,selectedType:o,sectionCount:u,selectedIndex:f,sectionModels:m,sectionColors:g,selectionVisible:p,setSelectionVisible:E,selectedHandle:b,width:S,height:x,onClick:O,sectionDimensions:V,setSectionDimensions:k,sectionTypes:U,setSectionTypes:F},q)=>{const Z=s==="In wall",rt={marginTop:n==="Sliding Doors"?`${Z?t.borderPx/14:0}rem`:"0px",height:n==="Sliding Doors"?`${Z?(t.scaledHeight-3*t.borderPx)/16:t.scaledHeight/16}rem`:`${t.scaledHeight/16}rem`,width:`${t.scaledWidth/16}rem`,position:"relative",zIndex:1,backdropFilter:"blur(2px)",background:"linear-gradient(225deg, rgba(103, 102, 102, 0.4) 30%, rgba(255, 253, 253, 0.2) 100%)",boxSizing:"border-box",transition:"0.3s"},J={position:"relative",zIndex:2,boxSizing:"border-box"},P=t.borderPx/16,A={position:"absolute",top:`-${P*2}rem`,left:`-${P*2}rem`,width:`calc(100% + ${P*4}rem)`,height:`calc(100% + ${P*2}rem)`,pointerEvents:"none",zIndex:1,boxSizing:"border-box"};return v.jsx("div",{className:"constructorContainer",children:v.jsxs("div",{className:"doorConture",style:J,children:[v.jsx("div",{style:A}),v.jsx(U2,{category:n,mountType:s,scaledWidth:t.scaledWidth,selectedType:o,borderPx:t.borderPx}),v.jsxs("div",{className:"constructorDoor",style:rt,ref:q,children:[v.jsx(MC,{selectedCategory:n,selectedType:o,scaled:t,sectionCount:u,selectedIndex:f,sectionModels:m,sectionColors:g,selectionVisible:p,setSelectionVisible:E,selectedHandle:b,onClick:O,sectionDimensions:V,setSectionDimensions:k,doorDimensions:r,sectionTypes:U,setSectionTypes:F,slidingMountType:s}),v.jsx(z2,{realWidth:S,realHeight:x,borderPx:t.borderPx,scaled:t})]})]})})});function kC({doorDimensions:r,selectedCategory:t,slidingMountType:n,selectedType:s,sectionCount:o,sectionModels:u,sectionColors:f,selectedHandle:m,selectedIndex:g,sectionDimensions:p,sectionTypes:E}){const b=()=>{const S={doorDimensions:r,selectedCategory:t,slidingMountType:n,selectedType:s,sectionCount:o,sectionModels:u,sectionColors:f,selectedHandle:m,selectedIndex:g,sectionDimensions:p,sectionTypes:E};localStorage.setItem("cartData",JSON.stringify(S)),alert("Configuration Saved To Cart")};return v.jsx("div",{className:"constructorFooter",children:v.jsxs("div",{className:"constructorInfo",children:[v.jsx("div",{className:"constructorInfoButtons",children:v.jsx("button",{className:"constructorButton",onClick:b,children:"Confirm"})}),v.jsxs("h4",{className:"constructorInfoText",children:["System: ",t]}),v.jsxs("h4",{className:"constructorInfoText",children:["Handles:"," ",Array.isArray(m)?m.join(" "):m]}),v.jsxs("h4",{className:"constructorInfoText",children:["Dimensions: ",r.width," x ",r.height," "]}),v.jsxs("h4",{className:"constructorInfoText",children:["Models:"," ",Array.isArray(u)?u.join("; "):u]}),v.jsxs("h4",{className:"constructorInfoText",children:["Type: ",s]}),v.jsxs("h4",{className:"constructorInfoText",children:["Colors:"," ",Array.isArray(f)?f.join("; "):f]})]})})}function LC({doorDimensions:r,sectionCount:t,selectedCategory:n,slidingMountType:s,selectedIndex:o,setSelectedIndex:u,selectedType:f,sectionColors:m,sectionModels:g,selectedHandle:p,doorFrameRef:E,sectionDimensions:b,setSectionDimensions:S,sectionTypes:x,setSectionTypes:O}){const{height:V,width:k}=r,U=dE(V,k),F=z.useRef(null),[q,Z]=z.useState({width:0,height:0}),[rt,J]=z.useState(!1);z.useEffect(()=>{if(F.current){const{offsetWidth:ot,offsetHeight:ht}=F.current;Z({width:ot,height:ht})}},[U]),z.useEffect(()=>{const ot=ht=>{E.current&&!E.current.contains(ht.target)&&J(!1)};return document.addEventListener("mousedown",ot),()=>document.removeEventListener("mousedown",ot)},[E]);const{width:P,height:A}=q,D=U.scaledWidth,N=U.scaledHeight,C=(P-D)/2,L=C+D,At=A-N,pt=U.borderPx/4,Q=P&&A?`polygon(
        0% 0%,
        100% 0%,
        100% 100%,
        ${(L+pt)/16}rem 100%,
        ${(L+pt)/16}rem ${(At-.1*A)/16}rem,
        ${(C-pt)/16}rem ${(At-.1*A)/16}rem,
        ${(C-pt)/16}rem 100%,
        0% 100%
      )`:"none";return v.jsxs("div",{className:"constructor",children:[v.jsxs("div",{className:"constructorContent",ref:F,children:[v.jsx("div",{className:"constructorFloor"}),Q!=="none"&&v.jsx("div",{style:{clipPath:Q,backgroundColor:"#f4f4f6",backgroundSize:"cover",position:"absolute",width:"100%",height:"calc(100% - 8vh)",top:0,left:0,zIndex:2,pointerEvents:"none",borderBottom:".2vh solid #555"}}),v.jsx(VC,{doorDimensions:r,ref:E,scaled:U,width:k,height:V,selectedCategory:n,slidingMountType:s,selectedType:f,sectionCount:t,selectedIndex:o,sectionModels:g,sectionColors:m,selectionVisible:rt,setSelectionVisible:J,selectedHandle:p,onClick:u,sectionDimensions:b,setSectionDimensions:S,sectionTypes:x,setSectionTypes:O})]}),v.jsx(kC,{doorDimensions:r,selectedCategory:n,selectedType:f,sectionCount:t,sectionModels:g,sectionColors:m,selectedHandle:p,selectedIndex:o,slidingMountType:s,sectionDimensions:b,sectionTypes:x})]})}function jC({children:r,isActive:t,onClick:n,img:s}){return v.jsxs("li",{className:`navigationItem ${t?"active":""}`,onClick:n,children:[v.jsx("img",{width:"25px",src:s,alt:"icon"}),v.jsx("h3",{children:r})]})}const UC="/Separex/assets/swing-door-BrvtzUUJ.png",zC="/Separex/assets/sliding-door-bTigf86K.png",BC="/Separex/assets/fixed-wall-Bw2hzlmt.png",HC="/Separex/assets/aero-C3LWSLl6.png",qC="/Separex/assets/fixed-two-part-GwOauTgV.png",FC="/Separex/assets/fixed-three-part-D21SyWdl.png",$C="/Separex/assets/fixed-four-part-ApmGn6-e.png",GC="/Separex/assets/fixed-five-part-Dfu-tmox.png",YC="/Separex/assets/fixed-six-part-CLGdKEL6.png",XC="/Separex/assets/fixed-seven-part-B_A3qwv_.png",QC="/Separex/assets/swing-one-part-CMrnyXDA.png",KC="/Separex/assets/swing-two-part-BQ47-Ra7.png",WC="/Separex/assets/swing-two-part-o-PnCl_dr8.png",ZC="/Separex/assets/swing-three-part-CLREedyd.png",JC="/Separex/assets/swing-three-part-a-D07SXpLb.png",tI="/Separex/assets/swing-four-part-Bw4YQ5N8.png",eI="/Separex/assets/swing-four-part-a-okzqLh1S.png",nI="/Separex/assets/swing-four-part-o-lOwpYfsx.png",rI="/Separex/assets/swing-five-part-a-D8HxRnQy.png",iI="/Separex/assets/swing-six-part-a-B5zggQ7E.png",sI="/Separex/assets/swing-seven-part-a-SXdA65mE.png",aI="/Separex/assets/swing-eight-part-a-DTP_WpIU.png",oI="/Separex/assets/sliding-one-part-ytN9V5UC.png",lI="/Separex/assets/sliding-two-part-BifSCh2m.png",uI="/Separex/assets/sliding-door-bTigf86K.png",cI="/Separex/assets/sliding-three-part-C8y_i0Aw.png",hI="/Separex/assets/sliding-four-part-J7Jai8wb.png",fI="/Separex/assets/aero-C3LWSLl6.png",dI="/Separex/assets/line-Fl3K-65S.png",mI="/Separex/assets/line-inverted-BOVuQYNX.png",gI="/Separex/assets/double-line-BDZXKQxF.png",pI="/Separex/assets/double-line-inverted-VbHJRRVe.png",yI="/Separex/assets/triple-line-R4iOaEek.png",vI="/Separex/assets/triple-line-inverted-CsS3n7j3.png",_I="/Separex/assets/simetry-UXFTnLau.png",EI="/Separex/assets/trio-D7gqSJXL.png",TI="/Separex/assets/quatro-BktLa4Wf.png",bI="/Separex/assets/five-CYwkGqMk.png",SI="/Separex/assets/trend-DcOdxcxC.png",wI="/Separex/assets/nordic-D8hAZ5eB.png",AI="/Separex/assets/nordic-inverted-Dk0cGpiX.png",RI="/Separex/assets/punto-DXay8Agj.png",xI="/Separex/assets/punto-inverted-7-V0gL-c.png",CI="/Separex/assets/geos-D7X8Mo5D.png",II="/Separex/assets/geometry-Cr_bjAc0.png",NI="/Separex/assets/star-B1TcOVx8.png",DI="/Separex/assets/diez-D86Bdofm.png",OI="/Separex/assets/loft-BBpGST2C.png",PI="/Separex/assets/nimbus-Pq--WZCR.png",MI="/Separex/assets/modern-BwANeJcJ.png",VI="/Separex/assets/modern-inverted-Bjg5I9if.png",kI="/Separex/assets/altus-CWN9IEKW.png",LI="/Separex/assets/altus-inverted-BKnS8E2T.png",jI="/Separex/assets/clear-DGvZTjEP.png",UI="/Separex/assets/frosted-DopAGF6s.png",zI="/Separex/assets/grey-nBj7y31v.png",BI="/Separex/assets/dark-grey-CbbirCkY.png",HI="/Separex/assets/bronze-Bc93LbRs.png",qI="/Separex/assets/lacobel-BAnIsFhu.png",FI="/Separex/assets/canelata-CI3D7qR0.png",$I="/Separex/assets/handle-with-lock-DeYjZIka.png",GI="/Separex/assets/pull-160-Ci-mP6uF.png",YI="/Separex/assets/pull-288-vj1IYsNb.png",XI="/Separex/assets/pull-448-DWMTU4df.png",hT={"Swing Doors":UC,"Sliding Doors":zC,"Fixed Wall":BC},QI={"Swing Doors":{"1-PART ELEMENT":QC,"2-PART ELEMENT":KC,"2-PART ELEMENT O":WC,"3-PART ELEMENT":ZC,"3-PART ELEMENT A":JC,"4-PART ELEMENT":tI,"4-PART ELEMENT A":eI,"4-PART ELEMENT O":nI,"5-PART ELEMENT A":rI,"6-PART ELEMENT A":iI,"7-PART ELEMENT A":sI,"8-PART ELEMENT A":aI},"Fixed Wall":{"1-PART ELEMENT":HC,"2-PART ELEMENT":qC,"3-PART ELEMENT":FC,"4-PART ELEMENT":$C,"5-PART ELEMENT":GC,"6-PART ELEMENT":YC,"7-PART ELEMENT":XC},"Sliding Doors":{"1-PART ELEMENT":oI,"2-PART ELEMENT IN":lI,"2-PART ELEMENT ON":uI,"3-PART ELEMENT":cI,"4-PART ELEMENT":hI}},KI={Aero:fI,Line:dI,"Line Inverted":mI,"Double Line":gI,"Double Line Inverted":pI,"Triple Line":yI,"Triple Line Inverted":vI,Simetry:_I,Trio:EI,Quatro:TI,Five:bI,Trend:SI,Nordic:wI,"Nordic Inverted":AI,Punto:RI,"Punto Inverted":xI,Geos:CI,Geometry:II,Star:NI,Diez:DI,Loft:OI,Nimbus:PI,Modern:MI,"Modern Inverted":VI,Altus:kI,"Altus Inverted":LI},WI={Clear:jI,Frosted:UI,Grey:zI,"Dark Grey":BI,Bronze:HI,Lacobel:qI,Canelata:FI},ZI={"Handle With Lock":$I,"Pull Handle 160":GI,"Pull Handle 288":YI,"Pull Handle 448":XI};function au({title:r,image:t,onClick:n,disabled:s,isSelected:o}){return v.jsxs("div",{className:"cardContainer",onClick:s?null:n,title:s?"Not available for fixed sections":r,children:[v.jsx("div",{className:`card ${s?"disabled":""} ${o?"selected":""}`,children:v.jsx("img",{src:t,alt:r,className:"cardImage"})}),v.jsx("div",{className:"cardComponents",children:v.jsx("h2",{className:`cardTitle ${s?"text-disabled":""}`,children:r})})]})}const JI=Object.keys(hT);function tN({setSelectedCategory:r,activeItem:t}){return v.jsx("div",{className:"navigationPanel",children:v.jsx("ul",{className:"navigationPanelList",children:JI.map(n=>v.jsx("li",{onClick:()=>r(n),className:"panelItem",children:v.jsx(au,{title:n,image:hT[n],activeItem:t})},n))})})}const eN=["Aero","Line","Line Inverted","Double Line","Double Line Inverted","Triple Line","Triple Line Inverted","Simetry","Trio","Quatro","Five","Trend","Nordic","Nordic Inverted","Punto","Punto Inverted","Geos","Geometry","Star","Diez","Loft","Nimbus","Modern","Modern Inverted","Altus","Altus Inverted"],nN=["Clear","Grey","Dark Grey","Bronze","Frosted","Lacobel","Canelata"],rN={"Swing Doors":["Handle With Lock","Pull Handle 160","Pull Handle 288","Pull Handle 448"],"Sliding Doors":["Pull Handle 160","Pull Handle 288","Pull Handle 448"]},iN={"Swing Doors":["1-Part Element","2-Part Element","2-Part Element O","3-Part Element","3-Part Element A","4-Part Element","4-Part Element A","4-Part Element O","5-Part Element A","6-Part Element A","7-Part Element A","8-Part Element A"],"Sliding Doors":["1-Part Element","2-Part Element","3-Part Element","4-Part Element"],"Fixed Wall":["1-Part Element","2-Part Element","3-Part Element","4-Part Element","5-Part Element","6-Part Element","7-Part Element"]},sN={MIN_HEIGHT:100,MAX_HEIGHT:1e4,MIN_WIDTH:100,MAX_WIDTH:1e4},Kv=r=>r.toUpperCase();function aN({selectedCategory:r,slidingMountType:t,setSlidingMountType:n,setSectionCount:s,setSelectedType:o,activeItem:u}){let f=iN[r]||[];return r==="Sliding Doors"&&t==="On wall"?f=f.filter(m=>m.startsWith("1-Part")||m.startsWith("2-Part")):r==="Sliding Doors"&&t==="In wall"&&(f=f.filter(m=>m.startsWith("2-Part")||m.startsWith("3-Part")||m.startsWith("4-Part"))),v.jsxs("div",{className:"navigationPanel",children:[r==="Sliding Doors"&&v.jsx("div",{className:"mountTypeToggle",children:v.jsx("button",{className:"toggleButton",onClick:()=>n(m=>m==="On wall"?"In wall":"On wall"),children:t})}),v.jsx("ul",{className:"navigationPanelList",children:f.map((m,g)=>{var x;const p=m.match(/^(\d+)-Part/),E=p?parseInt(p[1],10):1;let b=Kv(m);r==="Sliding Doors"&&Kv(m)==="2-PART ELEMENT"&&(b=t==="In wall"?"2-PART ELEMENT IN":"2-PART ELEMENT ON");const S=(x=QI[r])==null?void 0:x[b];return v.jsx("li",{className:"panelItem",children:v.jsx(au,{title:m,image:S,activeItem:u,onClick:()=>{s(E),o(m)}})},g)})})]})}const Wv=({value:r,onChange:t,onBlur:n,onStep:s,placeholder:o="",readOnly:u=!1,disabled:f=!1})=>v.jsxs("div",{className:"inputWithButtons",children:[s&&v.jsx("button",{type:"button",onClick:()=>s("down"),disabled:f,children:""}),v.jsx("input",{type:"number",value:r,placeholder:o,onChange:m=>t(m.target.value),onBlur:n,onKeyDown:m=>{m.key==="Enter"&&(m.preventDefault(),n==null||n())},readOnly:u,disabled:f}),s&&v.jsx("button",{type:"button",onClick:()=>s("up"),disabled:f,children:"+"})]}),oN=({selectedType:r,selectedCategory:t,safeSectionDimensions:n,handleSectionChange:s,handleSectionConfirm:o,sectionCount:u})=>{const f=()=>v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"inputGroup",children:[v.jsx("h2",{children:"Top Section "}),v.jsx("div",{className:"inputWithButtons",children:v.jsx("input",{type:"number",value:n[0],onChange:b=>s(0,b.target.value),onBlur:()=>o(0),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),o(0))}})})]}),v.jsxs("div",{className:"inputGroup",children:[v.jsx("h2",{children:"Bottom Section "}),v.jsx("div",{className:"inputWithButtons",children:v.jsx("input",{type:"number",value:n[1],readOnly:!0,disabled:!0})})]})]}),m=()=>v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"inputGroup",children:[v.jsx("h2",{children:"Left Width"}),v.jsx("div",{className:"inputWithButtons",children:v.jsx("input",{type:"number",value:n[2]||"",onChange:b=>s(2,b.target.value),onBlur:()=>o(2),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),o(2))}})})]}),v.jsxs("div",{className:"inputGroup",children:[v.jsx("h2",{children:"Top Height"}),v.jsx("div",{className:"inputWithButtons",children:v.jsx("input",{type:"number",value:n[0]||"",onChange:b=>s(0,b.target.value),onBlur:()=>o(0),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),o(0))}})})]})]}),g=()=>v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"inputGroup",children:[v.jsx("h2",{children:"Top Section "}),v.jsx("div",{className:"inputWithButtons",children:v.jsx("input",{type:"number",value:n[0],onChange:b=>s(0,b.target.value),onBlur:()=>o(0),onKeyDown:b=>{b.key==="Enter"&&(b.preventDefault(),o(0))}})})]}),Array.from({length:u-1}).map((b,S)=>v.jsxs("div",{className:"inputGroup",children:[v.jsxs("h2",{children:["Section ",S+1," "]}),v.jsx("div",{className:"inputWithButtons",children:v.jsx("input",{type:"number",value:n[S+1]||"",onChange:x=>s(S+1,x.target.value),onBlur:()=>o(S+1),onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),o(S+1))}})})]},`section-${S+1}`))]}),p=()=>v.jsx(v.Fragment,{children:Array.from({length:u}).map((b,S)=>v.jsxs("div",{className:"inputGroup",children:[v.jsxs("h2",{children:["Section ",S+1," "]}),v.jsx("div",{className:"inputWithButtons",children:v.jsx("input",{type:"number",value:n[S]||"",onChange:x=>s(S,x.target.value),onBlur:()=>o(S),onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),o(S))},readOnly:t==="Sliding Doors"})})]},`section-${S}`))}),E=()=>{switch(r){case"2-Part Element O":return f();case"4-Part Element O":return m();default:return r.includes("Part Element A")?g():p()}};return v.jsx("div",{className:"sectionDimensions",children:E()})},lN=(r,t,n)=>{const[s,o]=z.useState({height:r.height.toString(),width:r.width.toString()}),u=z.useCallback((g,p)=>{o(E=>({...E,[g]:p}))},[]),f=z.useCallback(g=>{const p=parseInt(s[g],10);if(!isNaN(p)){const E=g==="height",b=E?t.MIN_HEIGHT:t.MIN_WIDTH,S=E?t.MAX_HEIGHT:t.MAX_WIDTH;let x;p<b?x=b:p>S?x=S:x=p,o(O=>({...O,[g]:x.toString()})),n(O=>({...O,[g]:x}))}},[s,t,n]),m=z.useCallback((g,p)=>{const S=(parseInt(s[g],10)||0)+(p==="up"?10:-10),x=g==="height",O=x?t.MIN_HEIGHT:t.MIN_WIDTH,V=x?t.MAX_HEIGHT:t.MAX_WIDTH;let k;S<O?k=O:S>V?k=V:k=S,o(U=>({...U,[g]:k.toString()})),n(U=>({...U,[g]:k}))},[s,t,n]);return{rawInput:s,handleChange:u,handleInputConfirm:f,handleStep:m}},uN=(r,t,n,s,o)=>{const u=z.useCallback(()=>o.includes("Part Element O")?[t&&t[0]!==void 0?t[0].toString():"",t&&t[1]!==void 0?t[1].toString():"",t&&t[2]!==void 0?t[2].toString():"",t&&t[3]!==void 0?t[3].toString():""]:Array.from({length:s},(V,k)=>{var U;return((U=t==null?void 0:t[k])==null?void 0:U.toString())||""}),[t,s,o]),[f,m]=z.useState(u());z.useEffect(()=>{m(t.map(V=>V.toString()))},[t]),z.useEffect(()=>{m(u())},[r,s,o,t,u]);const g=z.useCallback((V,k)=>{const U=[...f];U[V]=k,m(U)},[f]),p=z.useCallback(V=>{m(V),n(V.map(k=>parseFloat(k)||0))},[n]),E=z.useCallback((V,k)=>{const U=r.height,F=Math.floor(U/100*5);let q=k;q<F&&(q=F),q>U-F&&(q=U-F);const Z=[...f];V===0?(Z[0]=q.toString(),Z[1]=(U-q).toString()):(Z[1]=q.toString(),Z[0]=(U-q).toString()),p(Z)},[r.height,f,p]),b=z.useCallback((V,k)=>{const U=r.width,F=r.height,q=Math.floor(U/100*5),Z=Math.floor(F/100*5),rt=[...f];let J=k;V===2&&(J<q&&(J=q),J>U-q&&(J=U-q),rt[2]=J.toString(),rt[3]=(U-J).toString()),V===0&&(J<Z&&(J=Z),J>F-Z&&(J=F-Z),rt[0]=J.toString(),rt[1]=(F-J).toString()),p(rt)},[r.width,r.height,f,p]),S=z.useCallback((V,k)=>{const U=r.width,F=r.height,q=Math.floor(U/100*5),Z=[...f];if(V===0){let rt=k;const J=Math.floor(F/100*5);rt<J&&(rt=J),rt>F-J&&(rt=F-J),Z[0]=rt.toString()}else{let rt=k;if(rt<q&&(rt=q),rt>U-q&&(rt=U-q),V<Z.length-1){Z[V]=rt.toString();const J=U-Z.slice(1,-1).reduce((P,A,D)=>D!==V-1?P+parseFloat(A):P,0)-rt;Z[V+1]=Math.max(q,J).toString()}else{Z[V]=rt.toString();const J=U-Z.slice(1,-1).reduce((P,A,D)=>D!==V-1?P+parseFloat(A):P,0)-rt;Z[V-1]=Math.max(q,J).toString()}}p(Z)},[r.width,r.height,f,p]),x=z.useCallback((V,k)=>{const U=r.width,F=Math.floor(U/100*5),q=[...f];let Z=k;if(Z<F&&(Z=F),Z>U-F&&(Z=U-F),V<q.length-1){q[V]=Z.toString();const rt=U-q.reduce((J,P,A)=>A!==V&&A!==V+1?J+parseFloat(P):J,0)-Z;q[V+1]=Math.max(F,rt).toString()}else{q[V]=Z.toString();const rt=U-q.reduce((J,P,A)=>A!==V&&A!==V-1?J+parseFloat(P):J,0)-Z;q[V-1]=Math.max(F,rt).toString()}p(q)},[r.width,f,p]),O=z.useCallback(V=>{const k=parseFloat(f[V])||0;o==="4-Part Element O"?b(V,k):o==="2-Part Element O"?E(V,k):o.includes("Part Element A")?S(V,k):x(V,k)},[f,o,b,E,S,x]);return{safeSectionDimensions:f,handleSectionChange:g,handleSectionConfirm:O}};function cN({doorDimensions:r,setDoorDimensions:t,sectionDimensions:n,setSectionDimensions:s,sectionCount:o,selectedCategory:u,selectedType:f}){const{rawInput:m,handleChange:g,handleInputConfirm:p,handleStep:E}=lN(r,sN,t),{safeSectionDimensions:b,handleSectionChange:S,handleSectionConfirm:x}=uN(r,n,s,o,f);return v.jsx("div",{className:"navigationPanel",children:v.jsxs("form",{className:"dimensionsForm",children:[v.jsxs("div",{className:"inputGroup",children:[v.jsx("h2",{children:"Height"}),v.jsx(Wv,{value:m.height,onChange:O=>g("height",O),onBlur:()=>p("height"),onStep:O=>E("height",O),placeholder:"Height"})]}),v.jsxs("div",{className:"inputGroup",children:[v.jsx("h2",{children:"Width"}),v.jsx(Wv,{value:m.width,onChange:O=>g("width",O),onBlur:()=>p("width"),onStep:O=>E("width",O),placeholder:"Width"})]}),v.jsx(oN,{selectedType:f,selectedCategory:u,safeSectionDimensions:b,handleSectionChange:S,handleSectionConfirm:x,sectionCount:o})]})})}function hN({setSectionModels:r,sectionModels:t,selectedIndex:n,activeItem:s}){const o=u=>{if(n===null)return;const f=[...t];f[n]=u,r(f)};return v.jsx("div",{className:"navigationPanel",children:v.jsx("ul",{className:"navigationPanelList",children:eN.map((u,f)=>{const m=KI[u];return v.jsx("li",{className:"panelItem",children:v.jsx(au,{title:u,image:m,activeItem:s,onClick:()=>o(u)})},f)})})})}function fN({selectedCategory:r,selectedHandle:t,setSelectedHandle:n,selectedIndex:s,sectionTypes:o,activeItem:u}){const f=m=>{if(s===null)return;const g=[...t||[]];g[s]=m,n(g)};return r==="Fixed Wall"?v.jsx("div",{className:"navigationPanel",children:v.jsxs("div",{className:"navigationPanelNoItem",children:[v.jsx("h2",{className:"handlePanelText",children:"No Handles for Fixed Walls"}),v.jsx("h2",{className:"handlePanelText",children:"Change the Category"})]})}):o[s]==="fixed"?v.jsx("div",{className:"navigationPanel",children:v.jsxs("div",{className:"navigationPanelNoItem",children:[v.jsx("h2",{className:"handlePanelText",children:"No Handles for Fixed Sections"}),v.jsx("h2",{className:"handlePanelText",children:"Select Opening Direction for the Section"})]})}):v.jsx("div",{className:"navigationPanel",children:v.jsx("ul",{className:"navigationPanelList",children:(rN[r]||[]).map((m,g)=>{const p=ZI[m];return v.jsx("li",{className:"panelItem",children:v.jsx(au,{title:m,image:p,activeItem:u,onClick:()=>f(m),isSelected:(t==null?void 0:t[s])===m,disabled:o[s]==="fixed"})},g)})})})}function dN({sectionColors:r,setSectionColors:t,selectedIndex:n,activeItem:s}){const o=u=>{if(n===null)return;const f=[...r];f[n]=u,t(f)};return v.jsx("div",{className:"navigationPanel",children:v.jsx("ul",{className:"navigationPanelList",children:nN.map((u,f)=>{const m=WI[u];return v.jsx("li",{className:"panelItem",children:v.jsx(au,{title:u,image:m,activeItem:s,onClick:()=>o(u)})},f)})})})}function mN({activeItem:r,selectedCategory:t,setSelectedCategory:n,doorDimensions:s,setDoorDimensions:o,setSectionCount:u,sectionCount:f,slidingMountType:m,setSlidingMountType:g,setSelectedType:p,selectedType:E,sectionModels:b,setSectionModels:S,sectionColors:x,setSectionColors:O,selectedHandle:V,setSelectedHandle:k,selectedIndex:U,sectionDimensions:F,setSectionDimensions:q,sectionTypes:Z}){if(!r)return null;switch(r){case"Category":return v.jsx(tN,{setSelectedCategory:n,activeItem:r});case"Type":return v.jsx(aN,{selectedCategory:t,slidingMountType:m,setSlidingMountType:g,setSectionCount:u,setSelectedType:p,activeItem:r});case"Dimensions":return v.jsx(cN,{doorDimensions:s,setDoorDimensions:o,sectionCount:f,sectionDimensions:F,setSectionDimensions:q,selectedCategory:t,selectedType:E});case"Models":return v.jsx(hN,{setSectionModels:S,sectionModels:b,selectedIndex:U,activeItem:r});case"Handles":return v.jsx(fN,{selectedCategory:t,selectedHandle:V,setSelectedHandle:k,selectedIndex:U,sectionTypes:Z,activeItem:r});case"Colors":return v.jsx(dN,{sectionColors:x,setSectionColors:O,selectedIndex:U});default:return null}}const gN="/Separex/assets/brochure-DwJnR-HQ.png",pN="/Separex/assets/sliding-door-C6mfvDA2.png",yN="/Separex/assets/dimensions-RkGRe0qS.png",vN="/Separex/assets/model-C0UrdiwM.png",_N="/Separex/assets/art-MBjfpo9Q.png",EN="/Separex/assets/handles-CvVibVlO.png";function TN({doorDimensions:r,setDoorDimensions:t,setSectionCount:n,sectionCount:s,slidingMountType:o,setSlidingMountType:u,selectedCategory:f,selectedIndex:m,setSelectedCategory:g,setSelectedType:p,selectedType:E,setSectionModels:b,sectionModels:S,setSectionColors:x,sectionColors:O,selectedHandle:V,setSelectedHandle:k,doorFrameRef:U,sectionDimensions:F,setSectionDimensions:q,sectionTypes:Z}){const[rt,J]=z.useState(null),P=z.useRef(null),A=["Category","Type","Dimensions","Models","Handles","Colors"],D=[gN,pN,yN,vN,EN,_N];return z.useEffect(()=>{function N(C){const L=P.current&&P.current.contains(C.target),I=U.current&&U.current.contains(C.target);!L&&!I&&J(null)}return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[U]),v.jsxs("div",{ref:P,style:{display:"flex"},children:[v.jsx("nav",{children:v.jsx("ul",{className:"navigationBar",children:A.map((N,C)=>v.jsx(jC,{isActive:rt===N,onClick:()=>J(N),img:D[C],children:N},N))})}),v.jsx(mN,{activeItem:rt,selectedCategory:f,setSelectedCategory:g,doorDimensions:r,setDoorDimensions:t,setSectionCount:n,sectionCount:s,slidingMountType:o,setSlidingMountType:u,setSelectedType:p,selectedType:E,setSectionModels:b,sectionModels:S,setSectionColors:x,sectionColors:O,selectedHandle:V,setSelectedHandle:k,selectedIndex:m,sectionDimensions:F,setSectionDimensions:q,sectionTypes:Z})]})}function bN(){const r=Yw(),t=z.useRef(null);return v.jsxs(v.Fragment,{children:[v.jsx(su,{}),v.jsxs("main",{className:"mainLayout",children:[v.jsx(TN,{...r,doorFrameRef:t}),v.jsx(LC,{...r,doorFrameRef:t})]})]})}const fT="/Separex/assets/working-DTjGxcxg.jpg";function SN(){return v.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[v.jsx(su,{}),v.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:[v.jsx("h1",{style:{position:"absolute",left:"50%",top:"50%",color:"#fff",fontSize:"3rem",transform:"TranslateX(-50%)"},children:"Home Under Development..."}),v.jsx("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:fT,alt:""})]})]})}function wN(){return v.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column"},children:[v.jsx(su,{}),v.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},children:[v.jsx("h1",{style:{position:"absolute",left:"50%",top:"50%",color:"#fff",fontSize:"3rem",transform:"TranslateX(-50%)"},children:"Catalog under Development..."}),v.jsx("img",{style:{width:"100%",height:"100%",objectFit:"cover"},src:fT,alt:""})]})]})}function dT(){return v.jsxs("footer",{className:"footer",children:[v.jsx("div",{className:"footer-section left",children:v.jsx("p",{children:" 2025 Separex. All rights reserved."})}),v.jsx("div",{className:"footer-section center"}),v.jsx("div",{className:"footer-section right",children:v.jsx("p",{children:"Contact: support@separex.com"})})]})}var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ui,mT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,A){function D(){}D.prototype=A.prototype,P.D=A.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(N,C,L){for(var I=Array(arguments.length-2),At=2;At<arguments.length;At++)I[At-2]=arguments[At];return A.prototype[C].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,A,D){D||(D=0);var N=Array(16);if(typeof A=="string")for(var C=0;16>C;++C)N[C]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(C=0;16>C;++C)N[C]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=P.g[0],D=P.g[1],C=P.g[2];var L=P.g[3],I=A+(L^D&(C^L))+N[0]+3614090360&4294967295;A=D+(I<<7&4294967295|I>>>25),I=L+(C^A&(D^C))+N[1]+3905402710&4294967295,L=A+(I<<12&4294967295|I>>>20),I=C+(D^L&(A^D))+N[2]+606105819&4294967295,C=L+(I<<17&4294967295|I>>>15),I=D+(A^C&(L^A))+N[3]+3250441966&4294967295,D=C+(I<<22&4294967295|I>>>10),I=A+(L^D&(C^L))+N[4]+4118548399&4294967295,A=D+(I<<7&4294967295|I>>>25),I=L+(C^A&(D^C))+N[5]+1200080426&4294967295,L=A+(I<<12&4294967295|I>>>20),I=C+(D^L&(A^D))+N[6]+2821735955&4294967295,C=L+(I<<17&4294967295|I>>>15),I=D+(A^C&(L^A))+N[7]+4249261313&4294967295,D=C+(I<<22&4294967295|I>>>10),I=A+(L^D&(C^L))+N[8]+1770035416&4294967295,A=D+(I<<7&4294967295|I>>>25),I=L+(C^A&(D^C))+N[9]+2336552879&4294967295,L=A+(I<<12&4294967295|I>>>20),I=C+(D^L&(A^D))+N[10]+4294925233&4294967295,C=L+(I<<17&4294967295|I>>>15),I=D+(A^C&(L^A))+N[11]+2304563134&4294967295,D=C+(I<<22&4294967295|I>>>10),I=A+(L^D&(C^L))+N[12]+1804603682&4294967295,A=D+(I<<7&4294967295|I>>>25),I=L+(C^A&(D^C))+N[13]+4254626195&4294967295,L=A+(I<<12&4294967295|I>>>20),I=C+(D^L&(A^D))+N[14]+2792965006&4294967295,C=L+(I<<17&4294967295|I>>>15),I=D+(A^C&(L^A))+N[15]+1236535329&4294967295,D=C+(I<<22&4294967295|I>>>10),I=A+(C^L&(D^C))+N[1]+4129170786&4294967295,A=D+(I<<5&4294967295|I>>>27),I=L+(D^C&(A^D))+N[6]+3225465664&4294967295,L=A+(I<<9&4294967295|I>>>23),I=C+(A^D&(L^A))+N[11]+643717713&4294967295,C=L+(I<<14&4294967295|I>>>18),I=D+(L^A&(C^L))+N[0]+3921069994&4294967295,D=C+(I<<20&4294967295|I>>>12),I=A+(C^L&(D^C))+N[5]+3593408605&4294967295,A=D+(I<<5&4294967295|I>>>27),I=L+(D^C&(A^D))+N[10]+38016083&4294967295,L=A+(I<<9&4294967295|I>>>23),I=C+(A^D&(L^A))+N[15]+3634488961&4294967295,C=L+(I<<14&4294967295|I>>>18),I=D+(L^A&(C^L))+N[4]+3889429448&4294967295,D=C+(I<<20&4294967295|I>>>12),I=A+(C^L&(D^C))+N[9]+568446438&4294967295,A=D+(I<<5&4294967295|I>>>27),I=L+(D^C&(A^D))+N[14]+3275163606&4294967295,L=A+(I<<9&4294967295|I>>>23),I=C+(A^D&(L^A))+N[3]+4107603335&4294967295,C=L+(I<<14&4294967295|I>>>18),I=D+(L^A&(C^L))+N[8]+1163531501&4294967295,D=C+(I<<20&4294967295|I>>>12),I=A+(C^L&(D^C))+N[13]+2850285829&4294967295,A=D+(I<<5&4294967295|I>>>27),I=L+(D^C&(A^D))+N[2]+4243563512&4294967295,L=A+(I<<9&4294967295|I>>>23),I=C+(A^D&(L^A))+N[7]+1735328473&4294967295,C=L+(I<<14&4294967295|I>>>18),I=D+(L^A&(C^L))+N[12]+2368359562&4294967295,D=C+(I<<20&4294967295|I>>>12),I=A+(D^C^L)+N[5]+4294588738&4294967295,A=D+(I<<4&4294967295|I>>>28),I=L+(A^D^C)+N[8]+2272392833&4294967295,L=A+(I<<11&4294967295|I>>>21),I=C+(L^A^D)+N[11]+1839030562&4294967295,C=L+(I<<16&4294967295|I>>>16),I=D+(C^L^A)+N[14]+4259657740&4294967295,D=C+(I<<23&4294967295|I>>>9),I=A+(D^C^L)+N[1]+2763975236&4294967295,A=D+(I<<4&4294967295|I>>>28),I=L+(A^D^C)+N[4]+1272893353&4294967295,L=A+(I<<11&4294967295|I>>>21),I=C+(L^A^D)+N[7]+4139469664&4294967295,C=L+(I<<16&4294967295|I>>>16),I=D+(C^L^A)+N[10]+3200236656&4294967295,D=C+(I<<23&4294967295|I>>>9),I=A+(D^C^L)+N[13]+681279174&4294967295,A=D+(I<<4&4294967295|I>>>28),I=L+(A^D^C)+N[0]+3936430074&4294967295,L=A+(I<<11&4294967295|I>>>21),I=C+(L^A^D)+N[3]+3572445317&4294967295,C=L+(I<<16&4294967295|I>>>16),I=D+(C^L^A)+N[6]+76029189&4294967295,D=C+(I<<23&4294967295|I>>>9),I=A+(D^C^L)+N[9]+3654602809&4294967295,A=D+(I<<4&4294967295|I>>>28),I=L+(A^D^C)+N[12]+3873151461&4294967295,L=A+(I<<11&4294967295|I>>>21),I=C+(L^A^D)+N[15]+530742520&4294967295,C=L+(I<<16&4294967295|I>>>16),I=D+(C^L^A)+N[2]+3299628645&4294967295,D=C+(I<<23&4294967295|I>>>9),I=A+(C^(D|~L))+N[0]+4096336452&4294967295,A=D+(I<<6&4294967295|I>>>26),I=L+(D^(A|~C))+N[7]+1126891415&4294967295,L=A+(I<<10&4294967295|I>>>22),I=C+(A^(L|~D))+N[14]+2878612391&4294967295,C=L+(I<<15&4294967295|I>>>17),I=D+(L^(C|~A))+N[5]+4237533241&4294967295,D=C+(I<<21&4294967295|I>>>11),I=A+(C^(D|~L))+N[12]+1700485571&4294967295,A=D+(I<<6&4294967295|I>>>26),I=L+(D^(A|~C))+N[3]+2399980690&4294967295,L=A+(I<<10&4294967295|I>>>22),I=C+(A^(L|~D))+N[10]+4293915773&4294967295,C=L+(I<<15&4294967295|I>>>17),I=D+(L^(C|~A))+N[1]+2240044497&4294967295,D=C+(I<<21&4294967295|I>>>11),I=A+(C^(D|~L))+N[8]+1873313359&4294967295,A=D+(I<<6&4294967295|I>>>26),I=L+(D^(A|~C))+N[15]+4264355552&4294967295,L=A+(I<<10&4294967295|I>>>22),I=C+(A^(L|~D))+N[6]+2734768916&4294967295,C=L+(I<<15&4294967295|I>>>17),I=D+(L^(C|~A))+N[13]+1309151649&4294967295,D=C+(I<<21&4294967295|I>>>11),I=A+(C^(D|~L))+N[4]+4149444226&4294967295,A=D+(I<<6&4294967295|I>>>26),I=L+(D^(A|~C))+N[11]+3174756917&4294967295,L=A+(I<<10&4294967295|I>>>22),I=C+(A^(L|~D))+N[2]+718787259&4294967295,C=L+(I<<15&4294967295|I>>>17),I=D+(L^(C|~A))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+A&4294967295,P.g[1]=P.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+C&4294967295,P.g[3]=P.g[3]+L&4294967295}s.prototype.u=function(P,A){A===void 0&&(A=P.length);for(var D=A-this.blockSize,N=this.B,C=this.h,L=0;L<A;){if(C==0)for(;L<=D;)o(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<A;)if(N[C++]=P.charCodeAt(L++),C==this.blockSize){o(this,N),C=0;break}}else for(;L<A;)if(N[C++]=P[L++],C==this.blockSize){o(this,N),C=0;break}}this.h=C,this.o+=A},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var A=1;A<P.length-8;++A)P[A]=0;var D=8*this.o;for(A=P.length-8;A<P.length;++A)P[A]=D&255,D/=256;for(this.u(P),P=Array(16),A=D=0;4>A;++A)for(var N=0;32>N;N+=8)P[D++]=this.g[A]>>>N&255;return P};function u(P,A){var D=m;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=A(P)}function f(P,A){this.h=A;for(var D=[],N=!0,C=P.length-1;0<=C;C--){var L=P[C]|0;N&&L==A||(D[C]=L,N=!1)}this.g=D}var m={};function g(P){return-128<=P&&128>P?u(P,function(A){return new f([A|0],0>A?-1:0)}):new f([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return k(p(-P));for(var A=[],D=1,N=0;P>=D;N++)A[N]=P/D|0,D*=4294967296;return new f(A,0)}function E(P,A){if(P.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(P.charAt(0)=="-")return k(E(P.substring(1),A));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(A,8)),N=b,C=0;C<P.length;C+=8){var L=Math.min(8,P.length-C),I=parseInt(P.substring(C,C+L),A);8>L?(L=p(Math.pow(A,L)),N=N.j(L).add(p(I))):(N=N.j(D),N=N.add(p(I)))}return N}var b=g(0),S=g(1),x=g(16777216);r=f.prototype,r.m=function(){if(V(this))return-k(this).m();for(var P=0,A=1,D=0;D<this.g.length;D++){var N=this.i(D);P+=(0<=N?N:4294967296+N)*A,A*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O(this))return"0";if(V(this))return"-"+k(this).toString(P);for(var A=p(Math.pow(P,6)),D=this,N="";;){var C=Z(D,A).g;D=U(D,C.j(A));var L=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=C,O(D))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function O(P){if(P.h!=0)return!1;for(var A=0;A<P.g.length;A++)if(P.g[A]!=0)return!1;return!0}function V(P){return P.h==-1}r.l=function(P){return P=U(this,P),V(P)?-1:O(P)?0:1};function k(P){for(var A=P.g.length,D=[],N=0;N<A;N++)D[N]=~P.g[N];return new f(D,~P.h).add(S)}r.abs=function(){return V(this)?k(this):this},r.add=function(P){for(var A=Math.max(this.g.length,P.g.length),D=[],N=0,C=0;C<=A;C++){var L=N+(this.i(C)&65535)+(P.i(C)&65535),I=(L>>>16)+(this.i(C)>>>16)+(P.i(C)>>>16);N=I>>>16,L&=65535,I&=65535,D[C]=I<<16|L}return new f(D,D[D.length-1]&-2147483648?-1:0)};function U(P,A){return P.add(k(A))}r.j=function(P){if(O(this)||O(P))return b;if(V(this))return V(P)?k(this).j(k(P)):k(k(this).j(P));if(V(P))return k(this.j(k(P)));if(0>this.l(x)&&0>P.l(x))return p(this.m()*P.m());for(var A=this.g.length+P.g.length,D=[],N=0;N<2*A;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var C=0;C<P.g.length;C++){var L=this.i(N)>>>16,I=this.i(N)&65535,At=P.i(C)>>>16,pt=P.i(C)&65535;D[2*N+2*C]+=I*pt,F(D,2*N+2*C),D[2*N+2*C+1]+=L*pt,F(D,2*N+2*C+1),D[2*N+2*C+1]+=I*At,F(D,2*N+2*C+1),D[2*N+2*C+2]+=L*At,F(D,2*N+2*C+2)}for(N=0;N<A;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=A;N<2*A;N++)D[N]=0;return new f(D,0)};function F(P,A){for(;(P[A]&65535)!=P[A];)P[A+1]+=P[A]>>>16,P[A]&=65535,A++}function q(P,A){this.g=P,this.h=A}function Z(P,A){if(O(A))throw Error("division by zero");if(O(P))return new q(b,b);if(V(P))return A=Z(k(P),A),new q(k(A.g),k(A.h));if(V(A))return A=Z(P,k(A)),new q(k(A.g),A.h);if(30<P.g.length){if(V(P)||V(A))throw Error("slowDivide_ only works with positive integers.");for(var D=S,N=A;0>=N.l(P);)D=rt(D),N=rt(N);var C=J(D,1),L=J(N,1);for(N=J(N,2),D=J(D,2);!O(N);){var I=L.add(N);0>=I.l(P)&&(C=C.add(D),L=I),N=J(N,1),D=J(D,1)}return A=U(P,C.j(A)),new q(C,A)}for(C=b;0<=P.l(A);){for(D=Math.max(1,Math.floor(P.m()/A.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=p(D),I=L.j(A);V(I)||0<I.l(P);)D-=N,L=p(D),I=L.j(A);O(L)&&(L=S),C=C.add(L),P=U(P,I)}return new q(C,P)}r.A=function(P){return Z(this,P).h},r.and=function(P){for(var A=Math.max(this.g.length,P.g.length),D=[],N=0;N<A;N++)D[N]=this.i(N)&P.i(N);return new f(D,this.h&P.h)},r.or=function(P){for(var A=Math.max(this.g.length,P.g.length),D=[],N=0;N<A;N++)D[N]=this.i(N)|P.i(N);return new f(D,this.h|P.h)},r.xor=function(P){for(var A=Math.max(this.g.length,P.g.length),D=[],N=0;N<A;N++)D[N]=this.i(N)^P.i(N);return new f(D,this.h^P.h)};function rt(P){for(var A=P.g.length+1,D=[],N=0;N<A;N++)D[N]=P.i(N)<<1|P.i(N-1)>>>31;return new f(D,P.h)}function J(P,A){var D=A>>5;A%=32;for(var N=P.g.length-D,C=[],L=0;L<N;L++)C[L]=0<A?P.i(L+D)>>>A|P.i(L+D+1)<<32-A:P.i(L+D);return new f(C,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,mT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=p,f.fromString=E,Ui=f}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gT,Cl,pT,Qc,Rm,yT,vT,_T;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var _=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var $=c[R];if(!($ in _))break t;_=_[$]}c=c[c.length-1],R=_[c],y=y(R),y!=R&&y!=null&&t(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,R=!1,$={next:function(){if(!R&&_<c.length){var W=_++;return{value:y(W,c[W]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),c.apply(y,$)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,$,W){for(var ut=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)ut[jt-2]=arguments[jt];return y.prototype[$].apply(R,ut)}}function V(c){const y=c.length;if(0<y){const _=Array(y);for(let R=0;R<y;R++)_[R]=c[R];return _}return[]}function k(c,y){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(g(R)){const $=c.length||0,W=R.length||0;c.length=$+W;for(let ut=0;ut<W;ut++)c[$+ut]=R[ut]}else c.push(R)}}class U{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function Z(c){return Z[" "](c),c}Z[" "]=function(){};var rt=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function J(c,y,_){for(const R in c)y.call(_,c[R],R,c)}function P(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,y){let _,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(_ in R)c[_]=R[_];for(let W=0;W<D.length;W++)_=D[W],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function C(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Nt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class At{constructor(){this.h=this.g=null}add(y,_){const R=pt.get();R.set(y,_),this.h?this.h.next=R:this.g=R,this.h=R}}var pt=new U(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ht=!1,Nt=new At,j=()=>{const c=m.Promise.resolve(void 0);ot=()=>{c.then(et)}};var et=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){L(_)}var y=pt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ht=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var vt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Dt(c,y){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(rt){t:{try{Z(y.nodeName);var $=!0;break t}catch{}$=!1}$||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Dt.aa.h.call(this)}}O(Dt,lt);var wt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),te=0;function $n(c,y,_,R,$){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!R,this.ha=$,this.key=++te,this.da=this.fa=!1}function ni(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yr(c){this.src=c,this.g={},this.h=0}yr.prototype.add=function(c,y,_,R,$){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ut=Ki(c,y,R,$);return-1<ut?(y=c[ut],_||(y.fa=!1)):(y=new $n(y,this.src,W,!!R,$),y.fa=_,c.push(y)),y};function Qi(c,y){var _=y.type;if(_ in c.g){var R=c.g[_],$=Array.prototype.indexOf.call(R,y,void 0),W;(W=0<=$)&&Array.prototype.splice.call(R,$,1),W&&(ni(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ki(c,y,_,R){for(var $=0;$<c.length;++$){var W=c[$];if(!W.da&&W.listener==y&&W.capture==!!_&&W.ha==R)return $}return-1}var Wi="closure_lm_"+(1e6*Math.random()|0),po={};function hu(c,y,_,R,$){if(Array.isArray(y)){for(var W=0;W<y.length;W++)hu(c,y[W],_,R,$);return null}return _=fu(_),c&&c[Ie]?c.K(y,_,p(R)?!!R.capture:!1,$):vn(c,y,_,!1,R,$)}function vn(c,y,_,R,$,W){if(!y)throw Error("Invalid event type");var ut=p($)?!!$.capture:!!$,jt=Xs(c);if(jt||(c[Wi]=jt=new yr(c)),_=jt.add(y,_,R,ut,W),_.proxy)return _;if(R=qh(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)vt||($=ut),$===void 0&&($=!1),c.addEventListener(y.toString(),R,$);else if(c.attachEvent)c.attachEvent(Zi(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qh(){function c(_){return y.call(c.src,c.listener,_)}const y=Fh;return c}function yo(c,y,_,R,$){if(Array.isArray(y))for(var W=0;W<y.length;W++)yo(c,y[W],_,R,$);else R=p(R)?!!R.capture:!!R,_=fu(_),c&&c[Ie]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],_=Ki(W,_,R,$),-1<_&&(ni(W[_]),Array.prototype.splice.call(W,_,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=Xs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ki(y,_,R,$)),(_=-1<c?y[c]:null)&&Ys(_))}function Ys(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ie])Qi(y.i,c);else{var _=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(_,R,c.capture):y.detachEvent?y.detachEvent(Zi(_),R):y.addListener&&y.removeListener&&y.removeListener(R),(_=Xs(y))?(Qi(_,c),_.h==0&&(_.src=null,y[Wi]=null)):ni(c)}}}function Zi(c){return c in po?po[c]:po[c]="on"+c}function Fh(c,y){if(c.da)c=!0;else{y=new Dt(y,this);var _=c.listener,R=c.ha||c.src;c.fa&&Ys(c),c=_.call(R,y)}return c}function Xs(c){return c=c[Wi],c instanceof yr?c:null}var vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function fu(c){return typeof c=="function"?c:(c[vo]||(c[vo]=function(y){return c.handleEvent(y)}),c[vo])}function ue(){ct.call(this),this.i=new yr(this),this.M=this,this.F=null}O(ue,ct),ue.prototype[Ie]=!0,ue.prototype.removeEventListener=function(c,y,_,R){yo(this,c,y,_,R)};function Gt(c,y){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new lt(y,c);else if(y instanceof lt)y.target=y.target||c;else{var $=y;y=new lt(R,c),N(y,$)}if($=!0,_)for(var W=_.length-1;0<=W;W--){var ut=y.g=_[W];$=ln(ut,R,!0,y)&&$}if(ut=y.g=c,$=ln(ut,R,!0,y)&&$,$=ln(ut,R,!1,y)&&$,_)for(W=0;W<_.length;W++)ut=y.g=_[W],$=ln(ut,R,!1,y)&&$}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],R=0;R<_.length;R++)ni(_[R]);delete c.g[y],c.h--}}this.F=null},ue.prototype.K=function(c,y,_,R){return this.i.add(String(c),y,!1,_,R)},ue.prototype.L=function(c,y,_,R){return this.i.add(String(c),y,!0,_,R)};function ln(c,y,_,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var $=!0,W=0;W<y.length;++W){var ut=y[W];if(ut&&!ut.da&&ut.capture==_){var jt=ut.listener,we=ut.ha||ut.src;ut.fa&&Qi(c.i,ut),$=jt.call(we,R)!==!1&&$}}return $&&!R.defaultPrevented}function $e(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function du(c){c.g=$e(()=>{c.g=null,c.i&&(c.i=!1,du(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class $h extends ct{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:du(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(c){ct.call(this),this.h=c,this.g={}}O(Ji,ct);var ts=[];function es(c){J(c.g,function(y,_){this.g.hasOwnProperty(_)&&Ys(y)},c),c.g={}}Ji.prototype.N=function(){Ji.aa.N.call(this),es(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,Qs=m.JSON.parse,ns=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function _o(){}_o.prototype.h=null;function Eo(c){return c.h||(c.h=c.i())}function To(){}var vr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){lt.call(this,"d")}O(_r,lt);function bo(){lt.call(this,"c")}O(bo,lt);var Gn={},So=null;function ri(){return So=So||new ue}Gn.La="serverreachability";function Ks(c){lt.call(this,Gn.La,c)}O(Ks,lt);function ii(c){const y=ri();Gt(y,new Ks(y))}Gn.STAT_EVENT="statevent";function mu(c,y){lt.call(this,Gn.STAT_EVENT,c),this.stat=y}O(mu,lt);function ie(c){const y=ri();Gt(y,new mu(y,c))}Gn.Ma="timingevent";function Se(c,y){lt.call(this,Gn.Ma,c),this.size=y}O(Se,lt);function pe(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function wo(c,y,_,R,$,W){c.info(function(){if(c.g)if(W)for(var ut="",jt=W.split("&"),we=0;we<jt.length;we++){var Ut=jt[we].split("=");if(1<Ut.length){var De=Ut[0];Ut=Ut[1];var Ae=De.split("_");ut=2<=Ae.length&&Ae[1]=="type"?ut+(De+"="+Ut+"&"):ut+(De+"=redacted&")}}else ut=null;else ut=W;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+y+`
`+_+`
`+ut})}function Gh(c,y,_,R,$,W,ut){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+y+`
`+_+`
`+W+" "+ut})}function si(c,y,_,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+rs(c,_)+(R?" "+R:"")})}function gu(c,y){c.info(function(){return"TIMEOUT: "+y})}_n.prototype.info=function(){};function rs(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ut=1;ut<$.length;ut++)$[ut]=""}}}}return Pn(_)}catch{return y}}var ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Xn(){}O(Xn,_o),Xn.prototype.g=function(){return new XMLHttpRequest},Xn.prototype.i=function(){return{}},Yn=new Xn;function Je(c,y,_,R){this.j=c,this.i=y,this.l=_,this.R=R||1,this.U=new Ji(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var Ao={},Ws={};function Mn(c,y,_){c.L=1,c.v=ls(un(y)),c.m=_,c.P=!0,Tr(c,null)}function Tr(c,y){c.F=Date.now(),is(c),c.A=un(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Do(_.i,"t",R),c.C=0,_=c.j.J,c.h=new fe,c.g=Du(c.j,_?y:null,!c.m),0<c.O&&(c.M=new $h(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,R=c.ca;var $="readystatechange";Array.isArray($)||($&&(ts[0]=$.toString()),$=ts);for(var W=0;W<$.length;W++){var ut=hu(_,$[W],R||y.handleEvent,!1,y.h||y);if(!ut)break;y.g[ut.key]=ut}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),ii(),wo(c.i,c.u,c.A,c.l,c.R,c.m)}Je.prototype.ca=function(c){c=c.target;const y=this.M;y&&Sn(c)==3?y.j():this.Y(c)},Je.prototype.Y=function(c){try{if(c==this.g)t:{const Ae=Sn(this.g);var y=this.g.Ba();const Ir=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||Ae!=4||y==7||(y==8||0>=Ir?ii(3):ii(2)),oi(this);var _=this.g.Z();this.X=_;e:if(pu(this)){var R=Su(this.g);c="";var $=R.length,W=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Qn(this);var ut="";break e}this.h.i=new m.TextDecoder}for(y=0;y<$;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(W&&y==$-1)});R.length=0,this.h.g+=c,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=_==200,Gh(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,we=this.g;if((jt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(jt)){var Ut=jt;break e}}Ut=null}if(_=Ut)si(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ss(this,_);else{this.o=!1,this.s=3,ie(12),Le(this),Qn(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<ut.length;)if(je=yu(this,ut),je==Ws){Ae==4&&(this.s=4,ie(14),_=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(je==Ao){this.s=4,ie(15),si(this.i,this.l,ut,"[Invalid Chunk]"),_=!1;break}else si(this.i,this.l,je,null),ss(this,je);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||ut.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)si(this.i,this.l,ut,"[Invalid Chunked Response]"),Le(this),Qn(this);else if(0<ut.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),ps(De),De.M=!0,ie(11))}}else si(this.i,this.l,ut,null),ss(this,ut);Ae==4&&Le(this),this.o&&!this.J&&(Ae==4?Cu(this.j,this):(this.o=!1,is(this)))}else Wh(this.g),_==400&&0<ut.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Le(this),Qn(this)}}}catch{}finally{}};function pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yu(c,y){var _=c.C,R=y.indexOf(`
`,_);return R==-1?Ws:(_=Number(y.substring(_,R)),isNaN(_)?Ao:(R+=1,R+_>y.length?Ws:(y=y.slice(R,R+_),c.C=R+_,y)))}Je.prototype.cancel=function(){this.J=!0,Le(this)};function is(c){c.S=Date.now()+c.I,vu(c,c.I)}function vu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pe(S(c.ba,c),y)}function oi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Je.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gu(this.i,this.A),this.L!=2&&(ii(),ie(17)),Le(this),this.s=2,Qn(this)):vu(this,this.S-c)};function Qn(c){c.j.G==0||c.J||Cu(c.j,c)}function Le(c){oi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,es(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ss(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ro(_.h,c))){if(!c.K&&Ro(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ua(_),oa(_);else break t;ko(_),ie(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(S(_.Za,_),6e3));if(1>=Js(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Cr(_,11)}else if((c.K||_.g==c)&&ua(_),!F(y))for($=_.Da.g.parse(y),y=0;y<$.length;y++){let Ut=$[y];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const De=Ut[3];De!=null&&(_.la=De,_.j.info("VER="+_.la));const Ae=Ut[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Ir=Ut[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(R=1.5*Ir,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const je=c.g;if(je){const nr=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nr){var W=R.h;W.g||nr.indexOf("spdy")==-1&&nr.indexOf("quic")==-1&&nr.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ta(W,W.h),W.h=null))}if(R.D){const jo=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;jo&&(R.ya=jo,Qt(R.I,R.D,jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var ut=c;if(R.qa=Nu(R,R.J?R.ia:null,R.W),ut.K){tn(R.h,ut);var jt=ut,we=R.L;we&&(jt.I=we),jt.B&&(oi(jt),is(jt)),R.g=ut}else Ru(R);0<_.i.length&&la(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Cr(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Cr(_,7):Mo(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}ii(4)}catch{}}var _u=class{constructor(c,y){this.g=c,this.map=y}};function br(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Js(c){return c.h?1:c.g?c.g.size:0}function Ro(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ta(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}br.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return V(c.i)}function Yh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var y=[],_=c.length,R=0;R<_;R++)y.push(c[R]);return y}y=[],_=0;for(R in c)y[_++]=c[R];return y}function ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const R in c)y[_++]=R;return y}}}function Co(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ea(c),R=Yh(c),$=R.length,W=0;W<$;W++)y.call(void 0,R[W],_&&_[W],c)}var as=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xh(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),$=null;if(0<=R){var W=c[_].substring(0,R);$=c[_].substring(R+1)}else W=c[_];y(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ye(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ye){this.h=c.h,os(this,c.j),this.o=c.o,this.g=c.g,li(this,c.s),this.l=c.l;var y=c.i,_=new wr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Sr(this,_),this.m=c.m}else c&&(y=String(c).match(as))?(this.h=!1,os(this,y[1]||"",!0),this.o=En(y[2]||""),this.g=En(y[3]||"",!0),li(this,y[4]),this.l=En(y[5]||"",!0),Sr(this,y[6]||"",!0),this.m=En(y[7]||"")):(this.h=!1,this.i=new wr(null,this.h))}ye.prototype.toString=function(){var c=[],y=this.j;y&&c.push(us(y,Io,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(us(y,Io,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(us(_,_.charAt(0)=="/"?Qh:No,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",us(_,na)),c.join("")};function un(c){return new ye(c)}function os(c,y,_){c.j=_?En(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function li(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Sr(c,y,_){y instanceof wr?(c.i=y,Tu(c.i,c.h)):(_||(y=us(y,Kh)),c.i=new wr(y,c.h))}function Qt(c,y,_){c.i.set(y,_)}function ls(c){return Qt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function En(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function us(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Eu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Eu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Io=/[#\/\?@]/g,No=/[#\?:]/g,Qh=/[#\?]/g,Kh=/[#\?@]/g,na=/#/g;function wr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Xh(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=wr.prototype,r.add=function(c,y){Tn(this),this.i=null,c=Kn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ar(c,y){Tn(c),y=Kn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Rr(c,y){return Tn(c),y=Kn(c,y),c.g.has(y)}r.forEach=function(c,y){Tn(this),this.g.forEach(function(_,R){_.forEach(function($){c.call(y,$,R,this)},this)},this)},r.na=function(){Tn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let R=0;R<y.length;R++){const $=c[R];for(let W=0;W<$.length;W++)_.push(y[R])}return _},r.V=function(c){Tn(this);let y=[];if(typeof c=="string")Rr(this,c)&&(y=y.concat(this.g.get(Kn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Tn(this),this.i=null,c=Kn(this,c),Rr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Do(c,y,_){Ar(c,y),0<_.length&&(c.i=null,c.g.set(Kn(c,y),V(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var R=y[_];const W=encodeURIComponent(String(R)),ut=this.V(R);for(R=0;R<ut.length;R++){var $=W;ut[R]!==""&&($+="="+encodeURIComponent(String(ut[R]))),c.push($)}}return this.i=c.join("&")};function Kn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Tu(c,y){y&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(_,R){var $=R.toLowerCase();R!=$&&(Ar(this,R),Do(this,$,_))},c)),c.j=y}function cs(c,y){const _=new _n;if(m.Image){const R=new Image;R.onload=x(bn,_,"TestLoadImage: loaded",!0,y,R),R.onerror=x(bn,_,"TestLoadImage: error",!1,y,R),R.onabort=x(bn,_,"TestLoadImage: abort",!1,y,R),R.ontimeout=x(bn,_,"TestLoadImage: timeout",!1,y,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function Vn(c,y){const _=new _n,R=new AbortController,$=setTimeout(()=>{R.abort(),bn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(W=>{clearTimeout($),W.ok?bn(_,"TestPingServer: ok",!0,y):bn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout($),bn(_,"TestPingServer: error",!1,y)})}function bn(c,y,_,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(_)}catch{}}function hs(){this.g=new ns}function Wn(c,y,_){const R=_||"";try{Co(c,function($,W){let ut=$;p($)&&(ut=Pn($)),y.push(R+W+"="+encodeURIComponent(ut))})}catch($){throw y.push(R+"type="+encodeURIComponent("_badmap")),$}}function ui(c){this.l=c.Ub||null,this.j=c.eb||!1}O(ui,_o),ui.prototype.g=function(){return new xr(this.l,this.j)},ui.prototype.i=function(c){return function(){return c}}({});function xr(c,y){ue.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(xr,ue),r=xr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Jn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Zn(this):Jn(this),this.readyState==3&&Oo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Zn(this))},r.Qa=function(c){this.g&&(this.response=c,Zn(this))},r.ga=function(){this.g&&Zn(this)};function Zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Po(c){let y="";return J(c,function(_,R){y+=R,y+=":",y+=_,y+=`\r
`}),y}function Ne(c,y,_){t:{for(R in _){var R=!1;break t}R=!0}R||(_=Po(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qt(c,y,_))}function Ft(c){ue.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ft,ue);var ra=/^https?$/i,fs=["POST","PUT"];r=Ft.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?Eo(this.o):Eo(Yn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){bu(this,W);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)_.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const W of R.keys())_.set(W,R.get(W));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(W=>W.toLowerCase()=="content-type"),$=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(fs,y,void 0))||R||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ut]of _)this.g.setRequestHeader(W,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){bu(this,W)}};function bu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ia(c),tr(c)}function ia(c){c.A||(c.A=!0,Gt(c,"complete"),Gt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Gt(this,"complete"),Gt(this,"abort"),tr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tr(this,!0)),Ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?sa(this):this.bb())},r.bb=function(){sa(this)};function sa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)$e(c.Ea,0,c);else if(Gt(c,"readystatechange"),Sn(c)==4){c.h=!1;try{const ut=c.Z();t:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var _;if(!(_=y)){var R;if(R=ut===0){var $=String(c.D).match(as)[1]||null;!$&&m.self&&m.self.location&&($=m.self.location.protocol.slice(0,-1)),R=!ra.test($?$.toLowerCase():"")}_=R}if(_)Gt(c,"complete"),Gt(c,"success");else{c.m=6;try{var W=2<Sn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",ia(c)}}finally{tr(c)}}}}function tr(c,y){if(c.g){ds(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Gt(c,"ready");try{_.onreadystatechange=R}catch{}}}function ds(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Qs(y)}};function Su(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wh(c){const y={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(F(c[R]))continue;var _=C(c[R]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const W=y[$]||[];y[$]=W,W.push(_)}P(y,function(R){return R.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function aa(c){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,c),this.cb=ms("retryDelaySeedMs",1e4,c),this.Wa=ms("forwardChannelMaxRetries",2,c),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new br(c&&c.concurrentRequestLimit),this.Da=new hs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=aa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,R){ie(0),this.W=c,this.H=y||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=Nu(this,null,this.W),la(this)};function Mo(c){if(wu(c),c.G==3){var y=c.U++,_=un(c.I);if(Qt(_,"SID",c.K),Qt(_,"RID",y),Qt(_,"TYPE","terminate"),gs(c,_),y=new Je(c,c.j,y),y.L=2,y.v=ls(un(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Du(y.j,null),y.g.ea(y.v)),y.F=Date.now(),is(y)}Iu(c)}function oa(c){c.g&&(ps(c),c.g.cancel(),c.g=null)}function wu(c){oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ua(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function la(c){if(!Zs(c.h)&&!c.s){c.s=!0;var y=c.Ga;ot||j(),ht||(ot(),ht=!0),Nt.add(y,c),c.B=0}}function Zh(c,y){return Js(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pe(S(c.Ga,c,y),Lo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Je(this,this.j,c);let W=this.o;if(this.S&&(W?(W=A(W),N(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)t:{for(var y=0,_=0;_<this.i.length;_++){e:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=_;break t}if(y===4096||_===this.i.length-1){y=_+1;break t}}y=1e3}else y=1e3;y=Au(this,$,y),_=un(this.I),Qt(_,"RID",c),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),gs(this,_),W&&(this.O?y="headers="+encodeURIComponent(String(Po(W)))+"&"+y:this.m&&Ne(_,this.m,W)),ta(this.h,$),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",y),Qt(_,"SID","null"),$.T=!0,Mn($,_,null)):Mn($,_,y),this.G=2}}else this.G==3&&(c?Vo(this,c):this.i.length==0||Zs(this.h)||Vo(this))};function Vo(c,y){var _;y?_=y.l:_=c.U++;const R=un(c.I);Qt(R,"SID",c.K),Qt(R,"RID",_),Qt(R,"AID",c.T),gs(c,R),c.m&&c.o&&Ne(R,c.m,c.o),_=new Je(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Au(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,_),Mn(_,R,y)}function gs(c,y){c.H&&J(c.H,function(_,R){Qt(y,R,_)}),c.l&&Co({},function(_,R){Qt(y,R,_)})}function Au(c,y,_){_=Math.min(c.i.length,_);var R=c.l?S(c.l.Na,c.l,c):null;t:{var $=c.i;let W=-1;for(;;){const ut=["count="+_];W==-1?0<_?(W=$[0].g,ut.push("ofs="+W)):W=0:ut.push("ofs="+W);let jt=!0;for(let we=0;we<_;we++){let Ut=$[we].g;const De=$[we].map;if(Ut-=W,0>Ut)W=Math.max(0,$[we].g-100),jt=!1;else try{Wn(De,ut,"req"+Ut+"_")}catch{R&&R(De)}}if(jt){R=ut.join("&");break t}}}return c=c.i.splice(0,_),y.D=c,R}function Ru(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ot||j(),ht||(ot(),ht=!0),Nt.add(y,c),c.v=0}}function ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pe(S(c.Fa,c),Lo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pe(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),oa(this),xu(this))};function ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Je(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=un(c.qa);Qt(y,"RID","rpc"),Qt(y,"SID",c.K),Qt(y,"AID",c.T),Qt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qt(y,"TO",c.ja),Qt(y,"TYPE","xmlhttp"),gs(c,y),c.m&&c.o&&Ne(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ls(un(y)),_.m=null,_.P=!0,Tr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,oa(this),ko(this),ie(19))};function ua(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Cu(c,y){var _=null;if(c.g==y){ua(c),ps(c),c.g=null;var R=2}else if(Ro(c.h,y))_=y.D,tn(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var $=c.B;R=ri(),Gt(R,new Se(R,_)),la(c)}else Ru(c);else if($=y.s,$==3||$==0&&0<y.X||!(R==1&&Zh(c,y)||R==2&&ko(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),$){case 1:Cr(c,5);break;case 4:Cr(c,10);break;case 3:Cr(c,6);break;default:Cr(c,2)}}}function Lo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Cr(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),R=c.Xa;const $=!R;R=new ye(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||os(R,"https"),ls(R),$?cs(R.toString(),_):Vn(R.toString(),_)}else ie(2);c.G=0,c.l&&c.l.sa(y),Iu(c),wu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Iu(c){if(c.G=0,c.ka=[],c.l){const y=xo(c.h);(y.length!=0||c.i.length!=0)&&(k(c.ka,y),k(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function Nu(c,y,_){var R=_ instanceof ye?un(_):new ye(_);if(R.g!="")y&&(R.g=y+"."+R.g),li(R,R.s);else{var $=m.location;R=$.protocol,y=y?y+"."+$.hostname:$.hostname,$=+$.port;var W=new ye(null);R&&os(W,R),y&&(W.g=y),$&&li(W,$),_&&(W.l=_),R=W}return _=c.D,y=c.ya,_&&y&&Qt(R,_,y),Qt(R,"VER",c.la),gs(c,R),R}function Du(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ft(new ui({eb:_})):new Ft(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ou(){}r=Ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ca(){}ca.prototype.g=function(c,y){return new en(c,y)};function en(c,y){ue.call(this),this.g=new aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!F(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!F(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new er(this)}O(en,ue),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Mo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);y.i.push(new _u(y.Ya++,c)),y.G==3&&la(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,en.aa.N.call(this)};function Pu(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const _ in y){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Pu,_r);function Mu(){bo.call(this),this.status=1}O(Mu,bo);function er(c){this.g=c}O(er,Ou),er.prototype.ua=function(){Gt(this.g,"a")},er.prototype.ta=function(c){Gt(this.g,new Pu(c))},er.prototype.sa=function(c){Gt(this.g,new Mu)},er.prototype.ra=function(){Gt(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_T=function(){return new ca},vT=function(){return ri()},yT=Gn,Rm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ai.NO_ERROR=0,ai.TIMEOUT=8,ai.HTTP_ERROR=6,Qc=ai,Er.COMPLETE="complete",pT=Er,To.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Cl=To,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,gT=Ft}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",t_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new eg("@firebase/firestore");function Ua(){return zs.logLevel}function dt(r,...t){if(zs.logLevel<=Vt.DEBUG){const n=t.map(mg);zs.debug(`Firestore (${uo}): ${r}`,...n)}}function Jr(r,...t){if(zs.logLevel<=Vt.ERROR){const n=t.map(mg);zs.error(`Firestore (${uo}): ${r}`,...n)}}function Wa(r,...t){if(zs.logLevel<=Vt.WARN){const n=t.map(mg);zs.warn(`Firestore (${uo}): ${r}`,...n)}}function mg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,ET(r,s,n)}function ET(r,t,n){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Jr(s),new Error(s)}function $t(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ET(t,o,s)}function xt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ei{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class AN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class RN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xN{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zi,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zi)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string",31837,{l:s}),new TT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class CN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new CN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const s=u=>{u.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,dt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new e_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=DN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function xm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return cm(o)===cm(u)?kt(o,u):cm(o)?1:-1}return kt(r.length,t.length)}const ON=55296,PN=57343;function cm(r){const t=r.charCodeAt(0);return t>=ON&&t<=PN}function Za(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="__name__";class lr{constructor(t,n,s){n===void 0?n=0:n>t.length&&Tt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Tt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return lr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof lr?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=lr.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=lr.isNumericId(t),o=lr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?lr.extractNumericId(t).compare(lr.extractNumericId(n)):xm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ui.fromString(t.substring(4,t.length-2))}}class ne extends lr{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new ne(n)}static emptyPath(){return new ne([])}}const MN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends lr{construct(t,n,s){return new qe(t,n,s)}static isValidIdentifier(t){return MN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===n_}static keyField(){return new qe([n_])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ft(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ft(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ft(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(n)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(r,t,n){if(!n)throw new ft(it.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function VN(r,t,n,s){if(t===!0&&s===!0)throw new ft(it.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function r_(r){if(!yt.isDocumentKey(r))throw new ft(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function i_(r){if(yt.isDocumentKey(r))throw new ft(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function ST(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function ch(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(r);throw new ft(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,t){const n={typeString:r};return t&&(n.value=t),n}function ou(r,t){if(!ST(r))throw new ft(it.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ft(it.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=-62135596800,a_=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*a_);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<s_)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a_}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ou(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-s_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:be("string",re._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new re(0,0))}static max(){return new Rt(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function kN(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new Hi(o,yt.empty(),t)}function LN(r){return new Hi(r.readTime,r.key,$l)}class Hi{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Hi(Rt.min(),yt.empty(),$l)}static max(){return new Hi(Rt.max(),yt.empty(),$l)}}function jN(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r){if(r.code!==it.FAILED_PRECONDITION||r.message!==UN)throw r;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new at((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):at.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):at.reject(n)}static resolve(t){return new at((n,s)=>{n(t)})}static reject(t){return new at((n,s)=>{s(t)})}static waitFor(t){return new at((n,s)=>{let o=0,u=0,f=!1;t.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(t){let n=at.resolve(!1);for(const s of t)n=n.next(o=>o?at.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new at((s,o)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const p=g;n(t[p]).next(E=>{f[p]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(t,n){return new at((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function BN(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=-1;function Ih(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function HN(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="";function qN(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=o_(t)),t=FN(r.get(n),t);return o_(t)}function FN(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case wT:n+="";break;default:n+=u}}return n}function o_(r){return r+wT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function qs(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function AT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,n){this.comparator=t,this.root=n||He.EMPTY}insert(t,n){return new le(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??He.RED,this.left=o??He.EMPTY,this.right=u??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new He(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return He.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new He(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new u_(this.data.getIterator())}getIteratorFrom(t){return new u_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ce(this.comparator);return n.data=t,n}}class u_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new Yr([])}unionWith(t){let n=new Ce(qe.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Yr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new RT("Invalid base64 string: "+u):u}}(t);return new Fe(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new Fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const $N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(r){if($t(!!r,39018),typeof r=="string"){let t=0;const n=$N.exec(r);if($t(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fi(r){return typeof r=="string"?Fe.fromBase64String(r):Fe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",CT="__type__",IT="__previous_value__",NT="__local_write_time__";function yg(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[CT])==null?void 0:s.stringValue)===xT}function Nh(r){const t=r.mapValue.fields[IT];return yg(t)?Nh(t):t}function Gl(r){const t=qi(r.mapValue.fields[NT].timestampValue);return new re(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(t,n,s,o,u,f,m,g,p,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=E}}const fh="(default)";class Yl{constructor(t,n){this.projectId=t,this.database=n||fh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===fh}isEqual(t){return t instanceof Yl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="__type__",YN="__max__",Uc={mapValue:{}},OT="__vector__",dh="value";function $i(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:QN(r)?9007199254740991:XN(r)?10:11:Tt(28295,{value:r})}function gr(r,t){if(r===t)return!0;const n=$i(r);if(n!==$i(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Gl(r).isEqual(Gl(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=qi(o.timestampValue),m=qi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Fi(o.bytesValue).isEqual(Fi(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return ge(o.geoPointValue.latitude)===ge(u.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ge(o.integerValue)===ge(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ge(o.doubleValue),m=ge(u.doubleValue);return f===m?hh(f)===hh(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Za(r.arrayValue.values||[],t.arrayValue.values||[],gr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(l_(f)!==l_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!gr(f[g],m[g])))return!1;return!0}(r,t);default:return Tt(52216,{left:r})}}function Xl(r,t){return(r.values||[]).find(n=>gr(n,t))!==void 0}function Ja(r,t){if(r===t)return 0;const n=$i(r),s=$i(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=ge(u.integerValue||u.doubleValue),g=ge(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return c_(r.timestampValue,t.timestampValue);case 4:return c_(Gl(r),Gl(t));case 5:return xm(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Fi(u),g=Fi(f);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let p=0;p<m.length&&p<g.length;p++){const E=kt(m[p],g[p]);if(E!==0)return E}return kt(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=kt(ge(u.latitude),ge(f.latitude));return m!==0?m:kt(ge(u.longitude),ge(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return h_(r.arrayValue,t.arrayValue);case 10:return function(u,f){var S,x,O,V;const m=u.fields||{},g=f.fields||{},p=(S=m[dh])==null?void 0:S.arrayValue,E=(x=g[dh])==null?void 0:x.arrayValue,b=kt(((O=p==null?void 0:p.values)==null?void 0:O.length)||0,((V=E==null?void 0:E.values)==null?void 0:V.length)||0);return b!==0?b:h_(p,E)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),p=f.fields||{},E=Object.keys(p);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const S=xm(g[b],E[b]);if(S!==0)return S;const x=Ja(m[g[b]],p[E[b]]);if(x!==0)return x}return kt(g.length,E.length)}(r.mapValue,t.mapValue);default:throw Tt(23264,{he:n})}}function c_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=qi(r),s=qi(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function h_(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ja(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function to(r){return Cm(r)}function Cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=qi(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Fi(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return yt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Cm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Cm(n.fields[f])}`;return o+"}"}(r.mapValue):Tt(61005,{value:r})}function Kc(r){switch($i(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nh(r);return t?16+Kc(t):16;case 5:return 2*r.stringValue.length;case 6:return Fi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Kc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return qs(s.fields,(u,f)=>{o+=u.length+Kc(f)}),o}(r.mapValue);default:throw Tt(13486,{value:r})}}function f_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Im(r){return!!r&&"integerValue"in r}function vg(r){return!!r&&"arrayValue"in r}function d_(r){return!!r&&"nullValue"in r}function m_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Wc(r){return!!r&&"mapValue"in r}function XN(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[DT])==null?void 0:s.stringValue)===OT}function Pl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return qs(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Pl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pl(r.arrayValue.values[n]);return t}return{...r}}function QN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===YN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Wc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pl(n)}setAll(t){let n=qe.emptyPath(),s={},o=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Pl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){qs(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new zn(Pl(this.value))}}function PT(r){const t=[];return qs(r.fields,(n,s)=>{const o=new qe([n]);if(Wc(s)){const u=PT(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new Yr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,n,s,o,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new We(t,0,Rt.min(),Rt.min(),Rt.min(),zn.empty(),0)}static newFoundDocument(t,n,s,o){return new We(t,1,n,Rt.min(),s,o,0)}static newNoDocument(t,n){return new We(t,2,n,Rt.min(),Rt.min(),zn.empty(),0)}static newUnknownDocument(t,n){return new We(t,3,n,Rt.min(),Rt.min(),zn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(t,n){this.position=t,this.inclusive=n}}function g_(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(f.referenceValue),n.key):s=Ja(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function p_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gr(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n="asc"){this.field=t,this.dir=n}}function KN(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class Te extends MT{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ZN(t,n,s):n==="array-contains"?new eD(t,s):n==="in"?new nD(t,s):n==="not-in"?new rD(t,s):n==="array-contains-any"?new iD(t,s):new Te(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new JN(t,s):new tD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ja(n,this.value)):n!==null&&$i(this.value)===$i(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends MT{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new qn(t,n)}matches(t){return VT(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VT(r){return r.op==="and"}function kT(r){return WN(r)&&VT(r)}function WN(r){for(const t of r.filters)if(t instanceof qn)return!1;return!0}function Nm(r){if(r instanceof Te)return r.field.canonicalString()+r.op.toString()+to(r.value);if(kT(r))return r.filters.map(t=>Nm(t)).join(",");{const t=r.filters.map(n=>Nm(n)).join(",");return`${r.op}(${t})`}}function LT(r,t){return r instanceof Te?function(s,o){return o instanceof Te&&s.op===o.op&&s.field.isEqual(o.field)&&gr(s.value,o.value)}(r,t):r instanceof qn?function(s,o){return o instanceof qn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&LT(f,o.filters[m]),!0):!1}(r,t):void Tt(19439)}function jT(r){return r instanceof Te?function(n){return`${n.field.canonicalString()} ${n.op} ${to(n.value)}`}(r):r instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(jT).join(" ,")+"}"}(r):"Filter"}class ZN extends Te{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class JN extends Te{constructor(t,n){super(t,"in",n),this.keys=UT("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class tD extends Te{constructor(t,n){super(t,"not-in",n),this.keys=UT("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function UT(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(s=>yt.fromName(s.referenceValue))}class eD extends Te{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return vg(n)&&Xl(n.arrayValue,this.value)}}class nD extends Te{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class rD extends Te{constructor(t,n){super(t,"not-in",n)}matches(t){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xl(this.value.arrayValue,n)}}class iD extends Te{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!vg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n=null,s=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function y_(r,t=null,n=[],s=[],o=null,u=null,f=null){return new sD(r,t,n,s,o,u,f)}function _g(r){const t=xt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Nm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ih(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>to(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>to(s)).join(",")),t.Te=n}return t.Te}function Eg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!KN(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!LT(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!p_(r.startAt,t.startAt)&&p_(r.endAt,t.endAt)}function Dm(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aD(r,t,n,s,o,u,f,m){return new fo(r,t,n,s,o,u,f,m)}function zT(r){return new fo(r)}function v_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function BT(r){return r.collectionGroup!==null}function Ml(r){const t=xt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ce(qe.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Ql(u,s))}),n.has(qe.keyField().canonicalString())||t.Ie.push(new Ql(qe.keyField(),s))}return t.Ie}function cr(r){const t=xt(r);return t.Ee||(t.Ee=oD(t,Ml(r))),t.Ee}function oD(r,t){if(r.limitType==="F")return y_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ql(o.field,u)});const n=r.endAt?new mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mh(r.startAt.position,r.startAt.inclusive):null;return y_(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Om(r,t){const n=r.filters.concat([t]);return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Pm(r,t,n){return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Dh(r,t){return Eg(cr(r),cr(t))&&r.limitType===t.limitType}function HT(r){return`${_g(cr(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>jT(o)).join(", ")}]`),Ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>to(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>to(o)).join(",")),`Target(${s})`}(cr(r))}; limitType=${r.limitType})`}function Oh(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of Ml(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,m,g){const p=g_(f,m,g);return f.inclusive?p<=0:p<0}(s.startAt,Ml(s),o)||s.endAt&&!function(f,m,g){const p=g_(f,m,g);return f.inclusive?p>=0:p>0}(s.endAt,Ml(s),o))}(r,t)}function lD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qT(r){return(t,n)=>{let s=!1;for(const o of Ml(r)){const u=uD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uD(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):function(u,f,m){const g=f.data.field(u),p=m.data.field(u);return g!==null&&p!==null?Ja(g,p):Tt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Tt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){qs(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new le(yt.comparator);function ti(){return cD}const FT=new le(yt.comparator);function Il(...r){let t=FT;for(const n of r)t=t.insert(n.key,n);return t}function $T(r){let t=FT;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Vs(){return Vl()}function GT(){return Vl()}function Vl(){return new Fs(r=>r.toString(),(r,t)=>r.isEqual(t))}const hD=new le(yt.comparator),fD=new Ce(yt.comparator);function Lt(...r){let t=fD;for(const n of r)t=t.add(n);return t}const dD=new Ce(kt);function mD(){return dD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(t)?"-0":t}}function YT(r){return{integerValue:""+r}}function gD(r,t){return HN(t)?YT(t):Tg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function pD(r,t,n){return r instanceof gh?function(o,u){const f={fields:{[CT]:{stringValue:xT},[NT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yg(u)&&(u=Nh(u)),u&&(f.fields[IT]=u),{mapValue:f}}(n,t):r instanceof Kl?QT(r,t):r instanceof Wl?KT(r,t):function(o,u){const f=XT(o,u),m=__(f)+__(o.Ae);return Im(f)&&Im(o.Ae)?YT(m):Tg(o.serializer,m)}(r,t)}function yD(r,t,n){return r instanceof Kl?QT(r,t):r instanceof Wl?KT(r,t):n}function XT(r,t){return r instanceof ph?function(s){return Im(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class gh extends Ph{}class Kl extends Ph{constructor(t){super(),this.elements=t}}function QT(r,t){const n=WT(t);for(const s of r.elements)n.some(o=>gr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Ph{constructor(t){super(),this.elements=t}}function KT(r,t){let n=WT(t);for(const s of r.elements)n=n.filter(o=>!gr(o,s));return{arrayValue:{values:n}}}class ph extends Ph{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function __(r){return ge(r.integerValue||r.doubleValue)}function WT(r){return vg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function vD(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Kl&&o instanceof Kl||s instanceof Wl&&o instanceof Wl?Za(s.elements,o.elements,gr):s instanceof ph&&o instanceof ph?gr(s.Ae,o.Ae):s instanceof gh&&o instanceof gh}(r.transform,t.transform)}class _D{constructor(t,n){this.version=t,this.transformResults=n}}class Qr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qr}static exists(t){return new Qr(void 0,t)}static updateTime(t){return new Qr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Mh{}function ZT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new bg(r.key,Qr.none()):new Vh(r.key,r.data,Qr.none());{const n=r.data,s=zn.empty();let o=new Ce(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new mo(r.key,s,new Yr(o.toArray()),Qr.none())}}function ED(r,t,n){r instanceof Vh?function(o,u,f){const m=o.value.clone(),g=T_(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof mo?function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=T_(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(JT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function kl(r,t,n,s){return r instanceof Vh?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const p=u.value.clone(),E=b_(u.fieldTransforms,g,f);return p.setAll(E),f.convertToFoundDocument(f.version,p).setHasLocalMutations(),null}(r,t,n,s):r instanceof mo?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const p=b_(u.fieldTransforms,g,f),E=f.data;return E.setAll(JT(u)),E.setAll(p),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function TD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=XT(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function E_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Za(s,o,(u,f)=>vD(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Vh extends Mh{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mo extends Mh{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function T_(r,t,n){const s=new Map;$t(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);s.set(u.field,yD(f,m,n[o]))}return s}function b_(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,pD(u,f,t))}return s}class bg extends Mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bD extends Mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&ED(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=kl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=kl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=GT();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=ZT(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Rt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Lt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,(n,s)=>E_(n,s))&&Za(this.baseMutations,t.baseMutations,(n,s)=>E_(n,s))}}class Sg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=function(){return hD}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee,Bt;function RD(r){switch(r){case it.OK:return Tt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function tb(r){if(r===void 0)return Jr("GRPC error has no .code"),it.UNKNOWN;switch(r){case Ee.OK:return it.OK;case Ee.CANCELLED:return it.CANCELLED;case Ee.UNKNOWN:return it.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return it.INTERNAL;case Ee.UNAVAILABLE:return it.UNAVAILABLE;case Ee.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ee.NOT_FOUND:return it.NOT_FOUND;case Ee.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ee.ABORTED:return it.ABORTED;case Ee.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ee.DATA_LOSS:return it.DATA_LOSS;default:return Tt(39323,{code:r})}}(Bt=Ee||(Ee={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Ui([4294967295,4294967295],0);function S_(r){const t=xD().encode(r),n=new mT;return n.update(t),new Uint8Array(n.digest())}function w_(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Ui([n,s],0),new Ui([o,u],0)]}class wg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(s<0)throw new Nl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Ui.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(Ui.fromNumber(s)));return o.compare(CD)===1&&(o=new Ui([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=S_(t),[s,o]=w_(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new wg(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.ge===0)return;const n=S_(t),[s,o]=w_(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,lu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new kh(Rt.min(),o,new le(kt),ti(),Lt())}}class lu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new lu(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class eb{constructor(t,n){this.targetId=t,this.Ce=n}}class nb{constructor(t,n,s=Fe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class A_{constructor(){this.ve=0,this.Fe=R_(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Tt(38017,{changeType:u})}}),new lu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=R_()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ID{constructor(t){this.Ge=t,this.ze=new Map,this.je=ti(),this.Je=zc(),this.He=zc(),this.Ye=new le(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Dm(u))if(s===0){const f=new yt(u.path);this.et(n,f,We.newNoDocument(f,Rt.min()))}else $t(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(t),g=m?this.ct(m,t,f):1;if(g!==0){this.it(n);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Fi(s).toUint8Array()}catch(g){if(g instanceof RT)return Wa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new wg(f,o,u)}catch(g){return Wa(g instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(t){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Dm(m.target)){const g=new yt(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,We.newNoDocument(g,t))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Lt();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(t));const o=new kh(t,n,this.Ye,this.je,s);return this.je=ti(),this.Je=zc(),this.He=zc(),this.Ye=new le(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new A_,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ce(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ce(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new A_),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function zc(){return new le(yt.comparator)}function R_(){return new le(yt.comparator)}const ND={asc:"ASCENDING",desc:"DESCENDING"},DD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OD={and:"AND",or:"OR"};class PD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Mm(r,t){return r.useProto3Json||Ih(t)?t:{value:t}}function yh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function MD(r,t){return yh(r,t.toTimestamp())}function hr(r){return $t(!!r,49232),Rt.fromTimestamp(function(n){const s=qi(n);return new re(s.seconds,s.nanos)}(r))}function Ag(r,t){return Vm(r,t).canonicalString()}function Vm(r,t){const n=function(o){return new ne(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function ib(r){const t=ne.fromString(r);return $t(ub(t),10190,{key:t.toString()}),t}function km(r,t){return Ag(r.databaseId,t.path)}function hm(r,t){const n=ib(t);if(n.get(1)!==r.databaseId.projectId)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(ab(n))}function sb(r,t){return Ag(r.databaseId,t)}function VD(r){const t=ib(r);return t.length===4?ne.emptyPath():ab(t)}function Lm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ab(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function x_(r,t,n){return{name:km(r,t),fields:n.value.mapValue.fields}}function kD(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Tt(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(p,E){return p.useProto3Json?($t(E===void 0||typeof E=="string",58123),Fe.fromBase64String(E||"")):($t(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Fe.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(p){const E=p.code===void 0?it.UNKNOWN:tb(p.code);return new ft(E,p.message||"")}(f);n=new nb(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(r,s.document.name),u=hr(s.document.updateTime),f=s.document.createTime?hr(s.document.createTime):Rt.min(),m=new zn({mapValue:{fields:s.document.fields}}),g=We.newFoundDocument(o,u,f,m),p=s.targetIds||[],E=s.removedTargetIds||[];n=new Jc(p,E,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=hm(r,s.document),u=s.readTime?hr(s.readTime):Rt.min(),f=We.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Jc([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=hm(r,s.document),u=s.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new AD(o,u),m=s.targetId;n=new eb(m,f)}}return n}function LD(r,t){let n;if(t instanceof Vh)n={update:x_(r,t.key,t.value)};else if(t instanceof bg)n={delete:km(r,t.key)};else if(t instanceof mo)n={update:x_(r,t.key,t.data),updateMask:GD(t.fieldMask)};else{if(!(t instanceof bD))return Tt(16599,{Vt:t.type});n={verify:km(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof gh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ph)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Tt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:MD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Tt(27497)}(r,t.precondition)),n}function jD(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?hr(o.updateTime):hr(u);return f.isEqual(Rt.min())&&(f=hr(u)),new _D(f,o.transformResults||[])}(n,t))):[]}function UD(r,t){return{documents:[sb(r,t.path)]}}function zD(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=sb(r,o);const u=function(p){if(p.length!==0)return lb(qn.create(p,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(p){if(p.length!==0)return p.map(E=>function(S){return{field:Ba(S.field),direction:qD(S.dir)}}(E))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mm(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ft:n,parent:o}}function BD(r){let t=VD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=function(b){const S=ob(b);return S instanceof qn&&kT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(O){return new Ql(Ha(O.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Ih(S)?null:S}(n.limit));let g=null;n.startAt&&(g=function(b){const S=!!b.before,x=b.values||[];return new mh(x,S)}(n.startAt));let p=null;return n.endAt&&(p=function(b){const S=!b.before,x=b.values||[];return new mh(x,S)}(n.endAt)),aD(t,o,f,u,m,"F",g,p)}function HD(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ob(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ha(n.unaryFilter.field);return Te.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(n.unaryFilter.field);return Te.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ha(n.unaryFilter.field);return Te.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ha(n.unaryFilter.field);return Te.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Te.create(Ha(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(s=>ob(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}}(n.compositeFilter.op))}(r):Tt(30097,{filter:r})}function qD(r){return ND[r]}function FD(r){return DD[r]}function $D(r){return OD[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function Ha(r){return qe.fromServerFormat(r.fieldPath)}function lb(r){return r instanceof Te?function(n){if(n.op==="=="){if(m_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(d_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(d_(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:FD(n.op),value:n.value}}}(r):r instanceof qn?function(n){const s=n.getFilters().map(o=>lb(o));return s.length===1?s[0]:{compositeFilter:{op:$D(n.op),filters:s}}}(r):Tt(54877,{filter:r})}function GD(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function ub(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t,n,s,o,u=Rt.min(),f=Rt.min(),m=Fe.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new Vi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t){this.yt=t}}function XD(r){const t=BD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Cn=new KD}addToCollectionParentIndex(t,n){return this.Cn.add(n),at.resolve()}getCollectionParents(t,n){return at.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return at.resolve()}deleteFieldIndex(t,n){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,n){return at.resolve()}getDocumentsMatchingTarget(t,n){return at.resolve(null)}getIndexType(t,n){return at.resolve(0)}getFieldIndexes(t,n){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,n){return at.resolve(Hi.min())}getMinOffsetFromCollectionGroup(t,n){return at.resolve(Hi.min())}updateCollectionGroup(t,n,s){return at.resolve()}updateIndexEntries(t,n){return at.resolve()}}class KD{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Ce(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Ce(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cb=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(cb,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="LruGarbageCollector",WD=1048576;function N_([r,t],[n,s]){const o=kt(r,n);return o===0?kt(t,s):o}class ZD{constructor(t){this.Ir=t,this.buffer=new Ce(N_),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();N_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class JD{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(I_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?dt(I_,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.Vr(3e5)})}}class tO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return at.resolve(Ch.ce);const s=new ZD(n);return this.mr.forEachTarget(t,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(t,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(C_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,f,m,g,p;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(p=Date.now(),Ua()<=Vt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-E}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function eO(r,t){return new tO(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.changes=new Fs(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?at.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&kl(s.mutation,o,Yr.empty(),re.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Lt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Lt()){const o=Vs();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=Il();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=Vs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Lt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,o){let u=ti();const f=Vl(),m=function(){return Vl()}();return n.forEach((g,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof mo)?u=u.insert(p.key,p):E!==void 0?(f.set(p.key,E.mutation.getFieldMask()),kl(E.mutation,p,E.mutation.getFieldMask(),re.now())):f.set(p.key,Yr.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((p,E)=>f.set(p,E)),n.forEach((p,E)=>m.set(p,new rO(E,f.get(p)??null))),m))}recalculateAndSaveOverlays(t,n){const s=Vl();let o=new le((f,m)=>f-m),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const p=n.get(g);if(p===null)return;let E=s.get(g)||Yr.empty();E=m.applyToLocalView(p,E),s.set(g,E);const b=(o.get(m.batchId)||Lt()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,E=g.value,b=GT();E.forEach(S=>{if(!u.has(S)){const x=ZT(n.get(S),s.get(S));x!==null&&b.set(S,x),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(t,p,b))}return at.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):BT(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):at.resolve(Vs());let m=$l,g=u;return f.next(p=>at.forEach(p,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?at.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(t,p,u)).next(()=>this.computeViews(t,g,p,Lt())).next(E=>({batchId:m,changes:$T(E)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next(s=>{let o=Il();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(t,u).next(m=>at.forEach(m,g=>{const p=function(b,S){return new fo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,p,s,o).next(E=>{E.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((g,p)=>{const E=p.getKey();f.get(E)===null&&(f=f.insert(E,We.newInvalidDocument(E)))});let m=Il();return f.forEach((g,p)=>{const E=u.get(g);E!==void 0&&kl(E.mutation,p,Yr.empty(),re.now()),Oh(n,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return at.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}}(n)),at.resolve()}getNamedQuery(t,n){return at.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(o){return{name:o.name,query:XD(o.bundledQuery),readTime:hr(o.readTime)}}(n)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.overlays=new le(yt.comparator),this.qr=new Map}getOverlay(t,n){return at.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Vs();return at.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.St(t,n,u)}),at.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),at.resolve()}getOverlaysForCollection(t,n,s){const o=Vs(),u=n.length+1,f=new yt(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return at.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new le((p,E)=>p-E);const f=this.overlays.getIterator();for(;f.hasNext();){const p=f.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let E=u.get(p.largestBatchId);E===null&&(E=Vs(),u=u.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const m=Vs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,E)=>m.set(p,E)),!(m.size()>=o)););return at.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wD(n,s));let u=this.qr.get(n);u===void 0&&(u=Lt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Qr=new Ce(Ve.$r),this.Ur=new Ce(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Ve(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new yt(new ne([])),s=new Ve(n,t),o=new Ve(n,t+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ne([])),s=new Ve(n,t),o=new Ve(n,t+1);let u=Lt();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ve(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Ve.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ve(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return at.resolve(f)}lookupMutationBatch(t,n){return at.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return at.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?pg:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),o=new Ve(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),at.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Ce(kt);return n.forEach(o=>{const u=new Ve(o,0),f=new Ve(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),at.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const f=new Ve(new yt(u),0);let m=new Ce(kt);return this.Zr.forEachWhile(g=>{const p=g.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)},f),at.resolve(this.ti(m))}ti(t){const n=[];return t.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return at.forEach(n.mutations,o=>{const u=new Ve(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Ve(n,0),o=this.Zr.firstAfterOrEqual(s);return at.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(t){this.ri=t,this.docs=function(){return new le(yt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return at.resolve(s?s.document.mutableCopy():We.newInvalidDocument(n))}getEntries(t,n){let s=ti();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():We.newInvalidDocument(o))}),at.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=ti();const f=n.path,m=new yt(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:E}}=g.getNext();if(!f.isPrefixOf(p.path))break;p.path.length>f.length+1||jN(LN(E),s)<=0||(o.has(E.key)||Oh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return at.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Tt(9500)}ii(t,n){return at.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new cO(this)}getSize(t){return at.resolve(this.size)}}class cO extends nO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)}),at.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t){this.persistence=t,this.si=new Fs(n=>_g(n),Eg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rg,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,n){return this.si.forEach((s,o)=>n(o)),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),at.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new eo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,at.resolve()}updateTargetData(t,n){return this.Pr(n),at.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),at.waitFor(u).next(()=>o)}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return at.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),at.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),at.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),at.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return at.resolve(s)}containsKey(t,n){return at.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n){this.ui={},this.overlays={},this.ci=new Ch(0),this.li=!1,this.li=!0,this.hi=new oO,this.referenceDelegate=t(this),this.Pi=new hO(this),this.indexManager=new QD,this.remoteDocumentCache=function(o){return new uO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new YD(n),this.Ii=new sO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new aO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new lO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){dt("MemoryPersistence","Starting transaction:",t);const o=new fO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(t,n){return at.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class fO extends zN{constructor(t){super(),this.currentSequenceNumber=t}}class xg{constructor(t){this.persistence=t,this.Ri=new Rg,this.Vi=null}static mi(t){return new xg(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),at.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),at.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),at.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,s=>{const o=yt.fromPath(s);return this.gi(t,o).next(u=>{u||n.removeEntry(o,Rt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return at.or([()=>at.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class vh{constructor(t,n){this.persistence=t,this.pi=new Fs(s=>qN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=eO(this,n)}static mi(t,n){return new vh(t,n)}Ei(){}di(t){return at.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return at.forEach(this.pi,(s,o)=>this.br(t,s,o).next(u=>u?at.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,f=>this.br(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Rt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),at.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),at.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),at.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Kc(t.data.value)),n}br(t,n,s){return at.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return at.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Lt(),o=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return dA()?8:BN(Ze())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new dO;return this.Ss(t,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(t,n,f,m.size)})}).next(()=>u.result)}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ua()<=Vt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(Ua()<=Vt.DEBUG&&dt("QueryEngine","Query:",za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ua()<=Vt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cr(n))):at.resolve())}ys(t,n){if(v_(n))return at.resolve(null);let s=cr(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=cr(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Lt(...u);return this.ps.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const p=this.Ds(n,m);return this.Cs(n,p,f,g.readTime)?this.ys(t,Pm(n,null,"F")):this.vs(t,p,n,g)}))})))}ws(t,n,s,o){return v_(n)||o.isEqual(Rt.min())?at.resolve(null):this.ps.getDocuments(t,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?at.resolve(null):(Ua()<=Vt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(n)),this.vs(t,f,n,kN(o,$l)).next(m=>m))})}Ds(t,n){let s=new Ce(qT(t));return n.forEach((o,u)=>{Oh(t,u)&&(s=s.add(u))}),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ua()<=Vt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",za(n)),this.ps.getDocumentsMatchingQuery(t,n,Hi.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="LocalStore",gO=3e8;class pO{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new le(kt),this.xs=new Fs(u=>_g(u),Eg),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new iO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function yO(r,t,n,s){return new pO(r,t,n,s)}async function fb(r,t){const n=xt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Lt();for(const p of o){f.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}for(const p of u){m.push(p.batchId);for(const E of p.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(p=>({Ls:p,removedBatchIds:f,addedBatchIds:m}))})})}function vO(r,t){const n=xt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,p,E){const b=p.batch,S=b.keys();let x=at.resolve();return S.forEach(O=>{x=x.next(()=>E.getEntry(g,O)).next(V=>{const k=p.docVersions.get(O);$t(k!==null,48541),V.version.compareTo(k)<0&&(b.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),E.addEntry(V)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Lt();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function db(r){const t=xt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function _O(r,t){const n=xt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b)));let x=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?x=x.withResumeToken(Fe.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(b,x),function(V,k,U){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=gO?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(S,x,E)&&m.push(n.Pi.updateTargetData(u,x))});let g=ti(),p=Lt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(EO(u,f,t.documentUpdates).next(E=>{g=E.ks,p=E.qs})),!s.isEqual(Rt.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return at.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,p)).next(()=>g)}).then(u=>(n.Ms=o,u))}function EO(r,t,n){let s=Lt(),o=Lt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=ti();return n.forEach((m,g)=>{const p=u.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):dt(Ig,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{ks:f,qs:o}})}function TO(r,t){const n=xt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=pg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function bO(r,t){const n=xt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,t).next(u=>u?(o=u,at.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Vi(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function jm(r,t,n){const s=xt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ho(f))throw f;dt(Ig,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function D_(r,t,n){const s=xt(r);let o=Rt.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,p,E){const b=xt(g),S=b.xs.get(E);return S!==void 0?at.resolve(b.Ms.get(S)):b.Pi.getTargetData(p,E)}(s,f,cr(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,t,n?o:Rt.min(),n?u:Lt())).next(m=>(SO(s,lD(t),m),{documents:m,Qs:u})))}function SO(r,t,n){let s=r.Os.get(t)||Rt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(t,s)}class O_{constructor(){this.activeTargetIds=mD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wO{constructor(){this.Mo=new O_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new O_,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="ConnectivityMonitor";class M_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(P_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(P_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Um(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="RestConnection",RO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===fh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const f=Um(),m=this.zo(t,n.toUriEncodedString());dt(fm,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:p}=new URL(m),E=so(p);return this.Jo(t,m,g,s,E).then(b=>(dt(fm,`Received RPC '${t}' ${f}: `,b),b),b=>{throw Wa(fm,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",s),b})}Ho(t,n,s,o,u,f){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}zo(t,n){const s=RO[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class IO extends xO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const f=Um();return new Promise((m,g)=>{const p=new gT;p.setWithCredentials(!0),p.listenOnce(pT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Qc.NO_ERROR:const b=p.getResponseJson();dt(Qe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case Qc.TIMEOUT:dt(Qe,`RPC '${t}' ${f} timed out`),g(new ft(it.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const S=p.getStatus();if(dt(Qe,`RPC '${t}' ${f} failed with status:`,S,"response text:",p.getResponseText()),S>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const O=x==null?void 0:x.error;if(O&&O.status&&O.message){const V=function(U){const F=U.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(F)>=0?F:it.UNKNOWN}(O.status);g(new ft(V,O.message))}else g(new ft(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ft(it.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:f,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{dt(Qe,`RPC '${t}' ${f} completed.`)}});const E=JSON.stringify(o);dt(Qe,`RPC '${t}' ${f} sending request:`,o),p.send(n,"POST",E,s,15)})}T_(t,n,s){const o=Um(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=_T(),m=vT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");dt(Qe,`Creating RPC '${t}' stream ${o}: ${E}`,g);const b=f.createWebChannel(E,g);this.I_(b);let S=!1,x=!1;const O=new CO({Yo:k=>{x?dt(Qe,`Not sending because RPC '${t}' stream ${o} is closed:`,k):(S||(dt(Qe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),dt(Qe,`RPC '${t}' stream ${o} sending:`,k),b.send(k))},Zo:()=>b.close()}),V=(k,U,F)=>{k.listen(U,q=>{try{F(q)}catch(Z){setTimeout(()=>{throw Z},0)}})};return V(b,Cl.EventType.OPEN,()=>{x||(dt(Qe,`RPC '${t}' stream ${o} transport opened.`),O.o_())}),V(b,Cl.EventType.CLOSE,()=>{x||(x=!0,dt(Qe,`RPC '${t}' stream ${o} transport closed`),O.a_(),this.E_(b))}),V(b,Cl.EventType.ERROR,k=>{x||(x=!0,Wa(Qe,`RPC '${t}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),O.a_(new ft(it.UNAVAILABLE,"The operation could not be completed")))}),V(b,Cl.EventType.MESSAGE,k=>{var U;if(!x){const F=k.data[0];$t(!!F,16349);const q=F,Z=(q==null?void 0:q.error)||((U=q[0])==null?void 0:U.error);if(Z){dt(Qe,`RPC '${t}' stream ${o} received error:`,Z);const rt=Z.status;let J=function(D){const N=Ee[D];if(N!==void 0)return tb(N)}(rt),P=Z.message;J===void 0&&(J=it.INTERNAL,P="Unknown error status: "+rt+" with message "+Z.message),x=!0,O.a_(new ft(J,P)),b.close()}else dt(Qe,`RPC '${t}' stream ${o} received:`,F),O.u_(F)}}),V(m,yT.STAT_EVENT,k=>{k.stat===Rm.PROXY?dt(Qe,`RPC '${t}' stream ${o} detected buffering proxy`):k.stat===Rm.NOPROXY&&dt(Qe,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.__()},0),O}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(r){return new PD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&dt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="PersistentStream";class gb{constructor(t,n,s,o,u,f,m,g){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mb(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===it.RESOURCE_EXHAUSTED?(Jr(n.toString()),Jr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{t(()=>{const o=new ft(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return dt(V_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(dt(V_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NO extends gb{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=kD(this.serializer,t),s=function(u){if(!("targetChange"in u))return Rt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?hr(f.readTime):Rt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Lm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Dm(g)?{documents:UD(u,g)}:{query:zD(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=rb(u,f.resumeToken);const p=Mm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}else if(f.snapshotVersion.compareTo(Rt.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const p=Mm(u,f.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,t);const s=HD(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Lm(this.serializer),n.removeTarget=t,this.q_(n)}}class DO extends gb{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=jD(t.writeResults,t.commitTime),s=hr(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Lm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>LD(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{}class PO extends OO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(t,Vm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(it.UNKNOWN,u.toString())})}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(t,Vm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(it.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class MO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Jr(n),this.aa=!1):dt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class VO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{$s(this)&&(dt(Bs,"Restarting streams for network reachability change."),await async function(g){const p=xt(g);p.Ea.add(4),await uu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await jh(p)}(this))})}),this.Ra=new MO(s,o)}}async function jh(r){if($s(r))for(const t of r.da)await t(!0)}async function uu(r){for(const t of r.da)await t(!1)}function pb(r,t){const n=xt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Pg(n)?Og(n):go(n).O_()&&Dg(n,t))}function Ng(r,t){const n=xt(r),s=go(n);n.Ia.delete(t),s.O_()&&yb(n,t),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Ra.set("Unknown"))}function Dg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}go(r).Y_(t)}function yb(r,t){r.Va.Ue(t),go(r).Z_(t)}function Og(r){r.Va=new ID({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),go(r).start(),r.Ra.ua()}function Pg(r){return $s(r)&&!go(r).x_()&&r.Ia.size>0}function $s(r){return xt(r).Ea.size===0}function vb(r){r.Va=void 0}async function kO(r){r.Ra.set("Online")}async function LO(r){r.Ia.forEach((t,n)=>{Dg(r,t)})}async function jO(r,t){vb(r),Pg(r)?(r.Ra.ha(t),Og(r)):r.Ra.set("Unknown")}async function UO(r,t,n){if(r.Ra.set("Online"),t instanceof nb&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,t)}catch(s){dt(Bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await _h(r,s)}else if(t instanceof Jc?r.Va.Ze(t):t instanceof eb?r.Va.st(t):r.Va.tt(t),!n.isEqual(Rt.min()))try{const s=await db(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(p);E&&u.Ia.set(p,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,p)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(Fe.EMPTY_BYTE_STRING,E.snapshotVersion)),yb(u,g);const b=new Vi(E.target,g,p,E.sequenceNumber);Dg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){dt(Bs,"Failed to raise snapshot:",s),await _h(r,s)}}async function _h(r,t,n){if(!ho(t))throw t;r.Ea.add(1),await uu(r),r.Ra.set("Offline"),n||(n=()=>db(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{dt(Bs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await jh(r)})}function _b(r,t){return t().catch(n=>_h(r,n,t))}async function Uh(r){const t=xt(r),n=Gi(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:pg;for(;zO(t);)try{const o=await TO(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,BO(t,o)}catch(o){await _h(t,o)}Eb(t)&&Tb(t)}function zO(r){return $s(r)&&r.Ta.length<10}function BO(r,t){r.Ta.push(t);const n=Gi(r);n.O_()&&n.X_&&n.ea(t.mutations)}function Eb(r){return $s(r)&&!Gi(r).x_()&&r.Ta.length>0}function Tb(r){Gi(r).start()}async function HO(r){Gi(r).ra()}async function qO(r){const t=Gi(r);for(const n of r.Ta)t.ea(n.mutations)}async function FO(r,t,n){const s=r.Ta.shift(),o=Sg.from(s,t,n);await _b(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Uh(r)}async function $O(r,t){t&&Gi(r).X_&&await async function(s,o){if(function(f){return RD(f)&&f!==it.ABORTED}(o.code)){const u=s.Ta.shift();Gi(s).B_(),await _b(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Uh(s)}}(r,t),Eb(r)&&Tb(r)}async function k_(r,t){const n=xt(r);n.asyncQueue.verifyOperationInProgress(),dt(Bs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await uu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await jh(n)}async function GO(r,t){const n=xt(r);t?(n.Ea.delete(2),await jh(n)):t||(n.Ea.add(2),await uu(n),n.Ra.set("Unknown"))}function go(r){return r.ma||(r.ma=function(n,s,o){const u=xt(n);return u.sa(),new NO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:kO.bind(null,r),t_:LO.bind(null,r),r_:jO.bind(null,r),H_:UO.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),Pg(r)?Og(r):r.Ra.set("Unknown")):(await r.ma.stop(),vb(r))})),r.ma}function Gi(r){return r.fa||(r.fa=function(n,s,o){const u=xt(n);return u.sa(),new DO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HO.bind(null,r),r_:$O.bind(null,r),ta:qO.bind(null,r),na:FO.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await Uh(r)):(await r.fa.stop(),r.Ta.length>0&&(dt(Bs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,m=new Mg(t,n,f,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vg(r,t){if(Jr("AsyncQueue",`${t}: ${r}`),ho(r))return new ft(it.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Il(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Ga;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.ga=new le(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class no{constructor(t,n,s,o,u,f,m,g,p){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new no(t,n,Ga.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class XO{constructor(){this.queries=j_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xt(n),u=o.queries;o.queries=j_(),u.forEach((f,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new ft(it.ABORTED,"Firestore shutting down"))}}function j_(){return new Fs(r=>HT(r),Dh)}async function QO(r,t){const n=xt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new YO,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Vg(f,`Initialization of query '${za(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&kg(n)}async function KO(r,t){const n=xt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function WO(r,t){const n=xt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&kg(n)}function ZO(r,t,n){const s=xt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function kg(r){r.Ca.forEach(t=>{t.next()})}var zm,U_;(U_=zm||(zm={})).Ma="default",U_.Cache="cache";class JO{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new no(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t){this.key=t}}class Sb{constructor(t){this.key=t}}class tP{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=qT(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new L_,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const S=o.get(E),x=Oh(this.query,b)?b:null,O=!!S&&this.mutatedKeys.has(S.key),V=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;S&&x?S.data.isEqual(x.data)?O!==V&&(s.track({type:3,doc:x}),k=!0):this.su(S,x)||(s.track({type:2,doc:x}),k=!0,(g&&this.eu(x,g)>0||p&&this.eu(x,p)<0)&&(m=!0)):!S&&x?(s.track({type:0,doc:x}),k=!0):S&&!x&&(s.track({type:1,doc:S}),k=!0,(g||p)&&(m=!0)),k&&(x?(f=f.add(x),u=V?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort((E,b)=>function(x,O){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:k})}};return V(x)-V(O)}(E.type,b.type)||this.eu(E.doc,b.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,f.length!==0||p?{snapshot:new no(this.query,t.tu,u,f,t.mutatedKeys,g===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new Sb(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new bb(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lg="SyncEngine";class eP{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class nP{constructor(t){this.key=t,this.hu=!1}}class rP{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Fs(m=>HT(m),Dh),this.Iu=new Map,this.Eu=new Set,this.du=new le(yt.comparator),this.Au=new Map,this.Ru=new Rg,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iP(r,t,n=!0){const s=Ib(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await wb(s,t,n,!0),o}async function sP(r,t){const n=Ib(r);await wb(n,t,!0,!1)}async function wb(r,t,n,s){const o=await bO(r.localStore,cr(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await aP(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&pb(r.remoteStore,o),m}async function aP(r,t,n,s,o){r.pu=(b,S,x)=>async function(V,k,U,F){let q=k.view.ru(U);q.Cs&&(q=await D_(V.localStore,k.query,!1).then(({documents:P})=>k.view.ru(P,q)));const Z=F&&F.targetChanges.get(k.targetId),rt=F&&F.targetMismatches.get(k.targetId)!=null,J=k.view.applyChanges(q,V.isPrimaryClient,Z,rt);return B_(V,k.targetId,J.au),J.snapshot}(r,b,S,x);const u=await D_(r.localStore,t,!0),f=new tP(t,u.Qs),m=f.ru(u.documents),g=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),p=f.applyChanges(m,r.isPrimaryClient,g);B_(r,n,p.au);const E=new eP(t,n,f);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),p.snapshot}async function oP(r,t,n){const s=xt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Dh(f,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Ng(s.remoteStore,o.targetId),Bm(s,o.targetId)}).catch(co)):(Bm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function lP(r,t){const n=xt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ng(n.remoteStore,s.targetId))}async function uP(r,t,n){const s=pP(r);try{const o=await function(f,m){const g=xt(f),p=re.now(),E=m.reduce((x,O)=>x.add(O.key),Lt());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",x=>{let O=ti(),V=Lt();return g.Ns.getEntries(x,E).next(k=>{O=k,O.forEach((U,F)=>{F.isValidDocument()||(V=V.add(U))})}).next(()=>g.localDocuments.getOverlayedDocuments(x,O)).next(k=>{b=k;const U=[];for(const F of m){const q=TD(F,b.get(F.key).overlayedDocument);q!=null&&U.push(new mo(F.key,q,PT(q.value.mapValue),Qr.exists(!0)))}return g.mutationQueue.addMutationBatch(x,p,U,m)}).next(k=>{S=k;const U=k.applyToLocalDocumentSet(b,V);return g.documentOverlayCache.saveOverlays(x,k.batchId,U)})}).then(()=>({batchId:S.batchId,changes:$T(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let p=f.Vu[f.currentUser.toKey()];p||(p=new le(kt)),p=p.insert(m,g),f.Vu[f.currentUser.toKey()]=p}(s,o.batchId,n),await cu(s,o.changes),await Uh(s.remoteStore)}catch(o){const u=Vg(o,"Failed to persist write");n.reject(u)}}async function Ab(r,t){const n=xt(r);try{const s=await _O(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$t(f.hu,14607):o.removedDocuments.size>0&&($t(f.hu,42227),f.hu=!1))}),await cu(n,s,t)}catch(s){await co(s)}}function z_(r,t,n){const s=xt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=xt(f);g.onlineState=m;let p=!1;g.queries.forEach((E,b)=>{for(const S of b.Sa)S.va(m)&&(p=!0)}),p&&kg(g)}(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function cP(r,t,n){const s=xt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let f=new le(yt.comparator);f=f.insert(u,We.newNoDocument(u,Rt.min()));const m=Lt().add(u),g=new kh(Rt.min(),new Map,new le(kt),f,m);await Ab(s,g),s.du=s.du.remove(u),s.Au.delete(t),jg(s)}else await jm(s.localStore,t,!1).then(()=>Bm(s,t,n)).catch(co)}async function hP(r,t){const n=xt(r),s=t.batch.batchId;try{const o=await vO(n.localStore,t);xb(n,s,null),Rb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await co(o)}}async function fP(r,t,n){const s=xt(r);try{const o=await function(f,m){const g=xt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return g.mutationQueue.lookupMutationBatch(p,m).next(b=>($t(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(p,b))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>g.localDocuments.getDocuments(p,E))})}(s.localStore,t);xb(s,t,n),Rb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await cu(s,o)}catch(o){await co(o)}}function Rb(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function xb(r,t,n){const s=xt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Bm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||Cb(r,s)})}function Cb(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Ng(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),jg(r))}function B_(r,t,n){for(const s of n)s instanceof bb?(r.Ru.addReference(s.key,t),dP(r,s)):s instanceof Sb?(dt(Lg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||Cb(r,s.key)):Tt(19791,{wu:s})}function dP(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(dt(Lg,"New document in limbo: "+n),r.Eu.add(s),jg(r))}function jg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new yt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new nP(n)),r.du=r.du.insert(n,s),pb(r.remoteStore,new Vi(cr(zT(n.path)),s,"TargetPurposeLimboResolution",Ch.ce))}}async function cu(r,t,n){const s=xt(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{f.push(s.pu(g,t,n).then(p=>{var E;if((p||n)&&s.isPrimaryClient){const b=p?!p.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){o.push(p);const b=Cg.As(g.targetId,p);u.push(b)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(g,p){const E=xt(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>at.forEach(p,S=>at.forEach(S.Es,x=>E.persistence.referenceDelegate.addReference(b,S.targetId,x)).next(()=>at.forEach(S.ds,x=>E.persistence.referenceDelegate.removeReference(b,S.targetId,x)))))}catch(b){if(!ho(b))throw b;dt(Ig,"Failed to update sequence numbers: "+b)}for(const b of p){const S=b.targetId;if(!b.fromCache){const x=E.Ms.get(S),O=x.snapshotVersion,V=x.withLastLimboFreeSnapshotVersion(O);E.Ms=E.Ms.insert(S,V)}}}(s.localStore,u))}async function mP(r,t){const n=xt(r);if(!n.currentUser.isEqual(t)){dt(Lg,"User change. New user:",t.toKey());const s=await fb(n.localStore,t);n.currentUser=t,function(u,f){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new ft(it.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await cu(n,s.Ls)}}function gP(r,t){const n=xt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let o=Lt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Ib(r){const t=xt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ab.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cP.bind(null,t),t.Pu.H_=WO.bind(null,t.eventManager),t.Pu.yu=ZO.bind(null,t.eventManager),t}function pP(r){const t=xt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fP.bind(null,t),t}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return yO(this.persistence,new mO,t.initialUser,this.serializer)}Cu(t){return new hb(xg.mi,this.serializer)}Du(t){return new wO}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class yP extends Eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){$t(this.persistence.referenceDelegate instanceof vh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new JD(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new hb(s=>vh.mi(s,n),this.serializer)}}class Hm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>z_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mP.bind(null,this.syncEngine),await GO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new XO}()}createDatastore(t){const n=Lh(t.databaseInfo.databaseId),s=function(u){return new IO(u)}(t.databaseInfo);return function(u,f,m,g){return new PO(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,m){return new VO(s,o,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>z_(this.syncEngine,n,0),function(){return M_.v()?new M_:new AO}())}createSyncEngine(t,n){return function(o,u,f,m,g,p,E){const b=new rP(o,u,f,m,g,p);return E&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=xt(o);dt(Bs,"RemoteStore shutting down."),u.Ea.add(5),await uu(u),u.Aa.shutdown(),u.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Jr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="FirestoreClient";class _P{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=gg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{dt(Yi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(dt(Yi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Vg(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function mm(r,t){r.asyncQueue.verifyOperationInProgress(),dt(Yi,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await fb(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function H_(r,t){r.asyncQueue.verifyOperationInProgress();const n=await EP(r);dt(Yi,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>k_(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>k_(t.remoteStore,o)),r._onlineComponents=t}async function EP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){dt(Yi,"Using user provided OfflineComponentProvider");try{await mm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Wa("Error using user provided cache. Falling back to memory cache: "+n),await mm(r,new Eh)}}else dt(Yi,"Using default OfflineComponentProvider"),await mm(r,new yP(void 0));return r._offlineComponents}async function Nb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(dt(Yi,"Using user provided OnlineComponentProvider"),await H_(r,r._uninitializedComponentsProvider._online)):(dt(Yi,"Using default OnlineComponentProvider"),await H_(r,new Hm))),r._onlineComponents}function TP(r){return Nb(r).then(t=>t.syncEngine)}async function bP(r){const t=await Nb(r),n=t.eventManager;return n.onListen=iP.bind(null,t.syncEngine),n.onUnlisten=oP.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sP.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=lP.bind(null,t.syncEngine),n}function SP(r,t,n={}){const s=new zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,p){const E=new vP({next:S=>{E.Nu(),f.enqueueAndForget(()=>KO(u,b)),S.fromCache&&g.source==="server"?p.reject(new ft(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new JO(m,E,{includeMetadataChanges:!0,qa:!0});return QO(u,b)}(await bP(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="firestore.googleapis.com",F_=!0;class $_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ob,this.ssl=F_}else this.host=t.host,this.ssl=t.ssl??F_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WD)throw new ft(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}VN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Db(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zh{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new AN;switch(s.type){case"firstParty":return new IN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=q_.get(n);s&&(dt("ComponentProvider","Removing Datastore"),q_.delete(n),s.terminate())}(this),Promise.resolve()}}function wP(r,t,n,s={}){var p;r=ch(r,zh);const o=so(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(TE(`https://${m}`),bE("Firestore",!0)),u.host!==Ob&&u.host!==m&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Ls(g,f)&&(r._setSettings(g),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Ke.MOCK_USER;else{E=iA(s.mockUserToken,(p=r._app)==null?void 0:p.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ft(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ke(S)}r._authCredentials=new RN(new TT(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Gs(this.firestore,t,this._query)}}class ke{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ke(this.firestore,t,this._key)}toJSON(){return{type:ke._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(ou(n,ke._jsonSchema))return new ke(t,s||null,new yt(ne.fromString(n.referencePath)))}}ke._jsonSchemaVersion="firestore/documentReference/1.0",ke._jsonSchema={type:be("string",ke._jsonSchemaVersion),referencePath:be("string")};class Bi extends Gs{constructor(t,n,s){super(t,n,zT(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ke(this.firestore,null,new yt(t))}withConverter(t){return new Bi(this.firestore,t,this._path)}}function qm(r,t,...n){if(r=yn(r),bT("collection","path",t),r instanceof zh){const s=ne.fromString(t,...n);return i_(s),new Bi(r,null,s)}{if(!(r instanceof ke||r instanceof Bi))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return i_(s),new Bi(r.firestore,null,s)}}function AP(r,t,...n){if(r=yn(r),arguments.length===1&&(t=gg.newId()),bT("doc","path",t),r instanceof zh){const s=ne.fromString(t,...n);return r_(s),new ke(r,null,new yt(s))}{if(!(r instanceof ke||r instanceof Bi))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return r_(s),new ke(r.firestore,r instanceof Bi?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="AsyncQueue";class Y_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mb(this,"async_queue_retry"),this._c=()=>{const s=dm();s&&dt(G_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new zi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;dt(G_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,Jr("INTERNAL UNHANDLED ERROR: ",X_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Mg.createAndSchedule(this,t,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:X_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function X_(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ug extends zh{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new Y_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Y_(t),this._firestoreClient=void 0,await t}}}function zg(r,t){const n=typeof r=="object"?r:RE(),s=typeof r=="string"?r:fh,o=rg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=nA("firestore");u&&wP(o,...u)}return o}function Pb(r){if(r._terminated)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RP(r),r._firestoreClient}function RP(r){var s,o,u;const t=r._freezeSettings(),n=function(m,g,p,E){return new GN(m,g,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Db(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,t);r._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new _P(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn(Fe.fromBase64String(t))}catch(n){throw new ft(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Dn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ou(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:be("string",Dn._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(t){if(ou(t,fr._jsonSchema))return new fr(t.latitude,t.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:be("string",fr._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ou(t,dr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new dr(t.vectorValues);throw new ft(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dr._jsonSchemaVersion="firestore/vectorValue/1.0",dr._jsonSchema={type:be("string",dr._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=/^__.*__$/;function kb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class Bg{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Bg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Fm(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(kb(this.Ac)&&xP.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CP{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Lh(t)}Cc(t,n,s,o=!1){return new Bg({Ac:t,methodName:n,Dc:s,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IP(r){const t=r._freezeSettings(),n=Lh(r._databaseId);return new CP(r._databaseId,!!t.ignoreUndefinedProperties,n)}function NP(r,t,n,s=!1){return Hg(n,r.Cc(s?4:3,t))}function Hg(r,t){if(Lb(r=yn(r)))return OP("Unsupported field value:",t,r),DP(r,t);if(r instanceof Vb)return function(s,o){if(!kb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=Hg(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=yn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof fr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:rb(o.serializer,s._byteString)};if(s instanceof ke){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof dr)return function(f,m){return{mapValue:{fields:{[DT]:{stringValue:OT},[dh]:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return Tg(m.serializer,p)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${xh(s)}`)}(r,t)}function DP(r,t){const n={};return AT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qs(r,(s,o)=>{const u=Hg(o,t.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Lb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof fr||r instanceof Dn||r instanceof ke||r instanceof Vb||r instanceof dr)}function OP(r,t,n){if(!Lb(n)||!ST(n)){const s=xh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}const PP=new RegExp("[~\\*/\\[\\]]");function MP(r,t,n){if(t.search(PP)>=0)throw Fm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Mb(...t.split("."))._internalPath}catch{throw Fm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fm(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ft(it.INVALID_ARGUMENT,m+r+g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ke(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Bh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VP extends jb{data(){return super.data()}}function Bh(r,t){return typeof t=="string"?MP(r,t):t instanceof Mb?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qg{}class Ub extends qg{}function LP(r,t,...n){let s=[];t instanceof qg&&s.push(t),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof Fg).length,m=u.filter(g=>g instanceof Hh).length;if(f>1||f>0&&m>0)throw new ft(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Hh extends Ub{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Hh(t,n,s)}_apply(t){const n=this._parse(t);return zb(t._query,n),new Gs(t.firestore,t.converter,Om(t._query,n))}_parse(t){const n=IP(t.firestore);return function(u,f,m,g,p,E,b){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ft(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){K_(b,E);const O=[];for(const V of b)O.push(Q_(g,u,V));S={arrayValue:{values:O}}}else S=Q_(g,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||K_(b,E),S=NP(m,f,b,E==="in"||E==="not-in");return Te.create(p,E,S)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function jP(r,t,n){const s=t,o=Bh("where",r);return Hh._create(o,s,n)}class Fg extends qg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Fg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)zb(f,g),f=Om(f,g)}(t._query,n),new Gs(t.firestore,t.converter,Om(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $g extends Ub{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new $g(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new ft(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ft(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ql(u,f)}(t._query,this._field,this._direction);return new Gs(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new fo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function UP(r,t="asc"){const n=t,s=Bh("orderBy",r);return $g._create(s,n)}function Q_(r,t,n){if(typeof(n=yn(n))=="string"){if(n==="")throw new ft(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BT(t)&&n.indexOf("/")!==-1)throw new ft(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!yt.isDocumentKey(s))throw new ft(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return f_(r,new yt(s))}if(n instanceof ke)return f_(r,n._key);throw new ft(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function K_(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zb(r,t){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ft(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class zP{convertValue(t,n="none"){switch($i(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return qs(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var s,o,u;const n=(u=(o=(s=t.fields)==null?void 0:s[dh].arrayValue)==null?void 0:o.values)==null?void 0:u.map(f=>ge(f.doubleValue));return new dr(n)}convertGeoPoint(t){return new fr(ge(t.latitude),ge(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Nh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Gl(t));default:return null}}convertTimestamp(t){const n=qi(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);$t(ub(s),9688,{name:t});const o=new Yl(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||Jr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Hc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ya extends jb{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Bh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:be("string",Ya._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class th extends Ya{data(t={}){return super.data(t)}}class Xa{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new th(this._firestore,this._userDataWriter,s.key,s,new Hc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return m.type!==0&&(p=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:BP(m.type),doc:g,oldIndex:p,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=gg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function BP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:be("string",Xa._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class HP extends zP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ke(this.firestore,null,n)}}function $m(r){r=ch(r,Gs);const t=ch(r.firestore,Ug),n=Pb(t),s=new HP(t);return kP(r._query),SP(n,r._query).then(o=>new Xa(t,s,r,o))}function qP(r){return FP(ch(r.firestore,Ug),[new bg(r._key,Qr.none())])}function FP(r,t){return function(s,o){const u=new zi;return s.asyncQueue.enqueueAndForget(async()=>uP(await TP(s),o,u)),u.promise}(Pb(r),t)}(function(t,n=!0){(function(o){uo=o})(ao),Qa(new js("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ug(new xN(s.getProvider("auth-internal")),new NN(f,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ft(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(p.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ji(Jv,t_,t),ji(Jv,t_,"esm2020")})();const Bb=async r=>{try{const t=await fetch("http://localhost:5000/generate/pdf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:r==null?void 0:r.category,type:r==null?void 0:r.type,mountType:r==null?void 0:r.mountType,dimensions:r==null?void 0:r.dimensions,sectionType:r==null?void 0:r.sectionType,sectionDimensions:r==null?void 0:r.sectionDimensions,models:r==null?void 0:r.sectionModels,colors:r==null?void 0:r.sectionColors,handles:r==null?void 0:r.handles,price:r==null?void 0:r.price})});if(!t.ok)throw new Error("Error generating PDF");const n=await t.blob(),s=document.createElement("a");s.href=URL.createObjectURL(n),s.download=`-${r==null?void 0:r.category}-${r==null?void 0:r.type}.pdf`,document.body.appendChild(s),s.click(),document.body.removeChild(s)}catch(t){console.error("Error generating PDF:",t)}};function $P({orders:r,onDeleteOrder:t,onGenerate:n,onConfirmOrder:s}){return v.jsxs("table",{className:"table",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"tableHeaderRow",children:[v.jsx("th",{children:"Product"}),v.jsx("th",{children:"Type"}),v.jsx("th",{children:"PDF"}),v.jsx("th",{children:"Quantity"}),v.jsx("th",{children:"Price"}),v.jsx("th",{})]})}),v.jsx("tbody",{className:"tableBody",children:r.map((o,u)=>v.jsxs("tr",{className:"tableDataRow",children:[v.jsx("td",{children:o.product||o.category}),v.jsx("td",{children:o.type}),v.jsx("td",{children:v.jsx("button",{className:"tableItemButton",onClick:()=>n(o),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),v.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),v.jsx("path",{d:"M10 9H8"}),v.jsx("path",{d:"M16 13H8"}),v.jsx("path",{d:"M16 17H8"})]})})}),v.jsx("td",{children:o.quantity}),v.jsx("td",{children:o.price}),v.jsx("td",{children:v.jsx("button",{className:"tableCancelButton",onClick:()=>t(u),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#000",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x-icon lucide-x",children:[v.jsx("path",{d:"M18 6 6 18"}),v.jsx("path",{d:"m6 6 12 12"})]})})})]},u))}),v.jsx("tfoot",{children:v.jsxs("tr",{className:"tableFooterRow",children:[v.jsxs("td",{colSpan:"3",style:{textAlign:"right",fontWeight:"bold"},children:["Total:",r.reduce((o,u)=>o+(parseFloat(u.price)||0),0).toFixed(2)]}),v.jsx("td",{children:v.jsx("button",{className:"tableSubmitButton",onClick:s,children:"Confirm Order"})})]})})]})}function GP({data:r,quantity:t,price:n,onSave:s,onQuantityChange:o,user:u}){var g,p;const f=r.sectionCount||1,m=(E,b,S)=>v.jsxs("tr",{className:"orderTableRow",children:[v.jsx("th",{className:"orderTableHead",children:E}),Array.from({length:f},(x,O)=>v.jsx("td",{children:(b==null?void 0:b[O])||"-"},`${S}-${O}`))]});return v.jsx("table",{className:"orderTable",children:v.jsxs("tbody",{children:[v.jsxs("tr",{className:"orderTableRow",children:[v.jsx("th",{className:"orderTableHead",children:"Category"}),v.jsx("td",{colSpan:f,children:r.selectedCategory})]}),v.jsxs("tr",{className:"orderTableRow",children:[v.jsx("th",{className:"orderTableHead",children:"Type"}),v.jsx("td",{colSpan:f,children:r.selectedType})]}),v.jsxs("tr",{className:"orderTableRow",children:[v.jsx("th",{className:"orderTableHead",children:"Dimensions"}),v.jsxs("td",{colSpan:f,children:[r.doorDimensions.width," x ",r.doorDimensions.height]})]}),v.jsxs("tr",{className:"orderTableRow",children:[v.jsx("th",{className:"orderTableHead",children:"Section"}),Array.from({length:f},(E,b)=>{var x;let S=`${b+1}`;return r.selectedType==="2-Part Element O"?S=b===0?"Top":"Bottom":r.selectedType==="4-Part Element O"?S=["Top Left","Top Right","Bottom Left","Bottom Right"][b]||`${b+1}`:(x=r.selectedType)!=null&&x.includes("Part Element A")&&(S=b===0?"Top":`${b+1}`),v.jsx("td",{children:S},`section-${b}`)})]}),m("Opening Direction",(g=r.sectionTypes)==null?void 0:g.map(E=>E==="right"?"To Right":E==="left"?"To Left":E==="fixed"?"Fixed":E),"dir"),m("Section Dimensions",(p=r.sectionDimensions)==null?void 0:p.map((E,b,S)=>r.selectedType==="2-Part Element O"?`${r.doorDimensions.width} x ${E}`:r.selectedType==="4-Part Element O"?[`${S[2]} x ${S[0]}`,`${S[3]} x ${S[0]}`,`${S[2]} x ${r.doorDimensions.height-S[0]}`,`${S[3]} x ${r.doorDimensions.height-S[0]}`][b]||"-":r.selectedType.includes("Part Element A")?b===0?`${r.doorDimensions.width} x ${S[0]}`:`${S[b]} x ${r.doorDimensions.height-S[0]}`:`${E} x ${r.doorDimensions.height}`),"dim"),m("Model",r.sectionModels,"model"),m("Color",r.sectionColors,"color"),m("Handle",r.selectedHandle,"handle"),v.jsxs("tr",{className:"orderTableRow",children:[v.jsx("td",{colSpan:f,children:v.jsxs("div",{style:{display:"grid",gridTemplateColumns:"30% 40%",gap:"10px",padding:"12px"},children:[v.jsx("button",{className:"saveButton",onClick:()=>{if(!u){alert("To Save Your Order, Log In First");return}s()},children:"Save"}),v.jsx("input",{className:"orderInput",type:"number",value:t===""?"":t,onChange:E=>o(E)})]})}),v.jsx("td",{children:u&&v.jsxs("p",{children:["Price: ",n!==void 0?Number(n).toFixed(2):"N/A"]})})]})]})})}function YP(){const{orders:r,addOrder:t,deleteOrder:n}=L2(),[s,o]=z.useState(null),[u,f]=z.useState(1),[m,g]=z.useState(null),{user:p}=lo();zg(),z.useEffect(()=>{const O=localStorage.getItem("cartData");O&&o(JSON.parse(O))},[]);const E=O=>{const V=O.target.value;(V===""||/^[1-9]\d*$/.test(V))&&f(V===""?"":parseInt(V))};z.useEffect(()=>{(async()=>{if(!s||!p)return;const V=parseInt(u)||1,k={category:s.selectedCategory,type:s.selectedType,mountType:s.slidingMountType,dimensions:s.doorDimensions,sectionType:s.sectionTypes,sectionDimensions:s.sectionDimensions,sectionModels:s.sectionModels,sectionColors:s.sectionColors,handles:s.selectedHandle||[],quantity:V};try{const U=await Gr.currentUser.getIdToken(),F=await fetch("http://localhost:5000/api/calculate-order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`},body:JSON.stringify(k)});if(!F.ok)throw new Error("Failed to calculate price");const q=await F.json();g(q.total)}catch(U){console.error("Error fetching price:",U)}})()},[s,p,u]);const b=()=>{if(!p){alert("To Save Your Order, Log In First");return}if(!s||m==null){alert("Order data or price is not ready.");return}const O=parseInt(u)||1,V={category:s.selectedCategory,type:s.selectedType,mountType:s.slidingMountType,dimensions:s.doorDimensions,sectionType:s.sectionTypes,sectionDimensions:s.sectionDimensions,sectionModels:s.sectionModels,sectionColors:s.sectionColors,handles:s.selectedHandle||[],quantity:O,price:m.toFixed(2),product:s.selectedCategory};t(V)},S=async()=>{if(!Gr.currentUser){alert("To confirm your order, please log in first.");return}if(!r||r.length===0){alert("Your cart is empty.");return}try{const O=await Gr.currentUser.getIdToken(),V={userEmail:Gr.currentUser.email,products:r},k=await fetch("http://localhost:5000/api/save-order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${O}`},body:JSON.stringify(V)});if(!k.ok){const F=await k.text();throw new Error(`Failed to save order: ${F}`)}const U=await k.json();alert("Order confirmed!")}catch(O){console.error("Error confirming and saving orders:",O),alert("There was an error confirming your order.")}},x=O=>({category:O.selectedCategory,type:O.selectedType,mountType:O.slidingMountType,dimensions:O.doorDimensions,sectionType:O.sectionTypes,sectionDimensions:O.sectionDimensions,sectionModels:O.sectionModels,sectionColors:O.sectionColors,handles:O.selectedHandle?[O.selectedHandle]:[]});return v.jsxs("div",{className:"cartLayout",children:[v.jsx($P,{orders:r,onDeleteOrder:n,onGenerate:()=>Bb(x(s)),onConfirmOrder:S}),s&&v.jsx(GP,{data:s,quantity:u,price:m,onSave:b,onQuantityChange:E,user:p})]})}function XP(){return v.jsxs(v.Fragment,{children:[v.jsx(su,{}),v.jsx(YP,{}),v.jsx(dT,{})]})}function QP(){const r=async()=>{try{const n=(await jx(Gr,M2)).user}catch(t){console.error("Google sign-in error",t)}};return v.jsx(v.Fragment,{children:v.jsx("div",{className:"authorizationContainer",children:v.jsxs("div",{className:"authorizationBox",children:[v.jsx("h1",{className:"authorizationTitle",children:"Welcome to Separex"}),v.jsx("p",{className:"authorizationText",children:"To save your orders, please log in"}),v.jsx("p",{className:"authorizationText",children:"Choose any available method"}),v.jsx("button",{className:"authorizationButton",onClick:r,children:"Continue with Google"})]})})})}function KP(){const{user:r}=lo(),[t,n]=z.useState([]),[s,o]=z.useState(!0),[u,f]=z.useState({}),m=zg();z.useEffect(()=>{if(!(r!=null&&r.email))return;(async()=>{o(!0);try{const b=qm(m,"orders"),S=LP(b,jP("userEmail","==",r.email),UP("createdAt","desc")),O=(await $m(S)).docs.map(V=>({id:V.id,...V.data()}));n(O)}catch(b){console.error("Error fetching orders:",b)}finally{o(!1)}})()},[r==null?void 0:r.email]);const g=(E,b)=>{f(S=>({...S,[`${E}-${b}`]:!S[`${E}-${b}`]}))},p={right:"To Right",left:"To Left",fixed:"Fixed"};return s?v.jsx("p",{children:"Loading your orders..."}):t.length===0?v.jsx("p",{children:"No orders found for your account."}):v.jsx("div",{className:"customerTablesContainer",children:v.jsxs("table",{className:"table customerTable",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"tableHeaderRow",children:[v.jsx("th",{children:"Order Number"}),v.jsx("th",{children:"Products"}),v.jsx("th",{children:"PDF"}),v.jsx("th",{children:"Total"})]})}),v.jsx("tbody",{className:"tableBody",children:t.map(E=>v.jsxs("tr",{className:"tableDataRow",children:[v.jsx("td",{children:E.orderNumber}),v.jsx("td",{style:{textAlign:"center"},children:v.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:E.products.map((b,S)=>v.jsxs("li",{style:{marginBottom:"8px",fontSize:".8rem"},children:["Product ",S+1,": ",b.category," - ",b.type,v.jsx("button",{style:{background:"none",padding:"5px",border:"none",color:"#4d5396",cursor:"pointer",fontWeight:"bold"},onClick:()=>g(E.id,S),children:u[`${E.id}-${S}`]?"":""}),u[`${E.id}-${S}`]&&v.jsx("div",{style:{marginTop:"5px",marginLeft:"15px"},children:v.jsxs("ul",{children:[b.dimensions&&v.jsxs("li",{children:["Dimensions: ",b.dimensions.height," x"," ",b.dimensions.width]}),Array.isArray(b.sectionType)&&b.sectionType.length>0&&v.jsxs("li",{children:["Section Types:"," ",b.sectionType.map(x=>p[x]||x).join(", ")]}),Array.isArray(b.sectionDimensions)&&b.sectionDimensions.length>0&&v.jsxs("li",{children:["Section Dimensions:"," ",b.sectionDimensions.join(", ")]}),Array.isArray(b.sectionModels)&&b.sectionModels.length>0&&v.jsxs("li",{children:["Section Models:"," ",b.sectionModels.join(", ")]}),Array.isArray(b.sectionColors)&&b.sectionColors.length>0&&v.jsxs("li",{children:["Section Colors:"," ",b.sectionColors.join(", ")]}),b.selectedHandle&&v.jsxs("li",{children:["Handle: ",b.selectedHandle]})]})})]},S))})}),v.jsx("td",{style:{textAlign:"center"},children:v.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:E.products.map((b,S)=>v.jsx("li",{style:{marginBottom:"8px"},children:v.jsx("button",{className:"tableItemButton",onClick:()=>Bb(b),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),v.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),v.jsx("path",{d:"M10 9H8"}),v.jsx("path",{d:"M16 13H8"}),v.jsx("path",{d:"M16 17H8"})]})})},S))})}),v.jsx("td",{children:E.total})]},E.id))})]})})}const WP=async r=>{try{const t=await fetch("http://localhost:5000/generate/dxf",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!t.ok)throw new Error("Failed to generate DXF");const n=await t.blob(),s=window.URL.createObjectURL(n),o=document.createElement("a");o.href=s,o.download=`${r.category||"order"}.dxf`,document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(s)}catch(t){console.error("Error generating DXF:",t)}};function ZP(){const[r,t]=z.useState([]),[n,s]=z.useState([]),[o,u]=z.useState({}),{user:f,loading:m}=lo();if(m)return v.jsx("p",{children:"Loading..."});if(!f||f.role!=="admin")return v.jsx("p",{children:"Access denied"});const g=zg(aT),p={right:"To Right",left:"To Left",fixed:"Fixed"};z.useEffect(()=>{const S=async()=>{try{const O=qm(g,"orders"),k=(await $m(O)).docs.map(U=>({id:U.id,...U.data()}));t(k)}catch(O){console.error("Error fetching orders:",O)}},x=async()=>{try{const O=qm(g,"users"),k=(await $m(O)).docs.map(U=>({id:U.id,...U.data()}));s(k)}catch(O){console.error("Error fetching users:",O)}};S(),x()},[g]);const E=async S=>{try{await qP(AP(g,"orders",S)),t(x=>x.filter(O=>O.id!==S))}catch(x){console.error("Failed to delete order:",x)}},b=(S,x)=>{u(O=>({...O,[`${S}-${x}`]:!O[`${S}-${x}`]}))};return v.jsxs("div",{className:"adminTablesContainer",children:[v.jsxs("table",{className:"table ordersTable",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"tableHeaderRow",children:[v.jsx("th",{style:{width:"20%"},children:"Order Number"}),v.jsx("th",{style:{width:"30%"},children:"Customer"}),v.jsx("th",{style:{width:"30%"},children:"Product"}),v.jsx("th",{style:{width:"5%"},children:"CAD"}),v.jsx("th",{style:{width:"10%"},children:"Summ"}),v.jsx("th",{style:{width:"5%"},children:"Cancel"})]})}),v.jsx("tbody",{className:"tableBody",children:r.map(S=>v.jsxs("tr",{className:"tableDataRow",children:[v.jsx("td",{style:{width:"19.5%"},children:S.orderNumber}),v.jsx("td",{style:{width:"28.5%"},children:S.userEmail}),v.jsx("td",{style:{width:"28.5%",textAlign:"left"},children:v.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:Array.isArray(S.products)&&S.products.map((x,O)=>{var V,k,U,F,q;return v.jsxs("li",{style:{marginBottom:"8px",fontSize:".8rem"},children:["Product ",O+1,": ",x.category," - ",x.type,v.jsx("button",{style:{background:"none",padding:"5px",border:"none",color:"#4d5396",cursor:"pointer",fontWeight:"bold"},onClick:()=>b(S.id,O),children:o[`${S.id}-${O}`]?"":""}),o[`${S.id}-${O}`]&&v.jsx("div",{style:{marginTop:"5px",marginLeft:"15px"},children:v.jsxs("ul",{children:[x.dimensions&&v.jsxs("li",{children:["Dimensions: ",x.dimensions.height," x"," ",x.dimensions.width]}),((V=x.sectionType)==null?void 0:V.length)>0&&v.jsxs("li",{children:["Section Types:"," ",x.sectionType.map(Z=>p[Z]||Z).join(", ")]}),((k=x.sectionDimensions)==null?void 0:k.length)>0&&v.jsxs("li",{children:["Section Dimensions:"," ",x.sectionDimensions.join(", ")]}),((U=x.sectionModels)==null?void 0:U.length)>0&&v.jsxs("li",{children:["Section Models:"," ",x.sectionModels.join(", ")]}),((F=x.sectionColors)==null?void 0:F.length)>0&&v.jsxs("li",{children:["Section Colors:"," ",x.sectionColors.join(", ")]}),((q=x.handles)==null?void 0:q.length)>0&&v.jsxs("li",{children:["Handles: ",x.handles.join(", ")]})]})})]},O)})})}),v.jsx("td",{style:{width:"6%",textAlign:"center",verticalAlign:"middle"},children:v.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:S.products.map((x,O)=>v.jsx("li",{style:{marginBottom:"8px"},children:v.jsx("button",{className:"tableItemButton",onClick:()=>WP(x),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"}),v.jsx("path",{d:"M14 2v4a2 2 0 0 0 2 2h4"}),v.jsx("path",{d:"M10 9H8"}),v.jsx("path",{d:"M16 13H8"}),v.jsx("path",{d:"M16 17H8"})]})})},O))})}),v.jsx("td",{style:{width:"10.5%"},children:S.total}),v.jsx("td",{children:v.jsx("button",{className:"tableCancelButton",onClick:()=>E(S.id),children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#000",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-x-icon lucide-x",children:[v.jsx("path",{d:"M18 6 6 18"}),v.jsx("path",{d:"m6 6 12 12"})]})})})]},S.id))})]}),v.jsxs("table",{className:"table userTable",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"tableHeaderRow",children:[v.jsx("th",{children:"User"}),v.jsx("th",{children:"Date"})]})}),v.jsx("tbody",{className:"tableBody",children:n.map(S=>v.jsxs("tr",{className:"tableDataRow",children:[v.jsx("td",{children:S.email}),v.jsx("td",{children:S.lastLogin?new Date(S.lastLogin).toLocaleDateString():"N/A"})]},S.id))})]})]})}function JP(){const{user:r}=lo();return r?v.jsxs("div",{className:"profileLayout",children:[r.role==="admin"&&v.jsx(ZP,{}),r.role==="customer"&&v.jsx(KP,{})]}):v.jsx("div",{className:"profileLayout",children:v.jsx(QP,{})})}function tM(){return v.jsxs(v.Fragment,{children:[v.jsx(su,{}),v.jsx(JP,{}),v.jsx(dT,{})]})}function eM(){return v.jsx(Vw,{children:v.jsx(V2,{children:v.jsx(Gw,{children:v.jsx(k2,{children:v.jsxs(fw,{children:[v.jsx(Os,{path:"/",element:v.jsx(cw,{to:"/Configurator",replace:!0})}),v.jsx(Os,{path:"/Home",element:v.jsx(SN,{})}),v.jsx(Os,{path:"/Configurator",element:v.jsx(bN,{})}),v.jsx(Os,{path:"/Catalog",element:v.jsx(wN,{})}),v.jsx(Os,{path:"/Cart",element:v.jsx(XP,{})}),v.jsx(Os,{path:"/Profile",element:v.jsx(tM,{})})]})})})})})}TS.createRoot(document.getElementById("root")).render(v.jsx(z.StrictMode,{children:v.jsx(eM,{})}));
